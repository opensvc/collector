
create user if not exists opensvc@127.0.0.1 identified by 'opensvc';
create user if not exists pdns@127.0.0.1 identified by 'pdns';
create user if not exists readonly@127.0.0.1 identified by 'readonly';
-- MariaDB dump 10.19  Distrib 10.4.32-MariaDB, for debian-linux-gnu (x86_64)
--
-- Host: localhost    Database: opensvc
-- ------------------------------------------------------
-- Server version	10.4.32-MariaDB-1:10.4.32+maria~ubu2004

/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8mb4 */;
/*!40103 SET @OLD_TIME_ZONE=@@TIME_ZONE */;
/*!40103 SET TIME_ZONE='+00:00' */;
/*!40014 SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0 */;
/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;
/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='NO_AUTO_VALUE_ON_ZERO' */;
/*!40111 SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0 */;

--
-- Current Database: `opensvc`
--

CREATE DATABASE /*!32312 IF NOT EXISTS*/ `opensvc` /*!40100 DEFAULT CHARACTER SET utf8 COLLATE utf8_general_ci */;

USE `opensvc`;

--
-- Table structure for table `action_queue`
--

DROP TABLE IF EXISTS `action_queue`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `action_queue` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `status` varchar(1) DEFAULT 'W',
  `command` text NOT NULL,
  `date_queued` timestamp NOT NULL DEFAULT current_timestamp(),
  `date_dequeued` timestamp NOT NULL DEFAULT '0000-00-00 00:00:00',
  `ret` int(11) DEFAULT NULL,
  `stdout` text DEFAULT NULL,
  `stderr` text DEFAULT NULL,
  `action_type` varchar(8) DEFAULT NULL,
  `user_id` int(11) DEFAULT NULL,
  `form_id` int(11) DEFAULT NULL,
  `connect_to` varchar(128) DEFAULT NULL,
  `node_id` char(36) CHARACTER SET ascii COLLATE ascii_general_ci DEFAULT '',
  `svc_id` char(36) CHARACTER SET ascii COLLATE ascii_general_ci DEFAULT '',
  PRIMARY KEY (`id`),
  KEY `idx1` (`status`),
  KEY `idx_ret` (`ret`),
  KEY `idx2` (`status`,`ret`),
  KEY `k_node_id` (`node_id`),
  KEY `k_svc_id` (`svc_id`)
) ENGINE=InnoDB AUTO_INCREMENT=626 DEFAULT CHARSET=utf8 COLLATE=utf8_general_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `alerts`
--

DROP TABLE IF EXISTS `alerts`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `alerts` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `sent_at` datetime DEFAULT NULL,
  `sent_to` text NOT NULL,
  `body` mediumtext DEFAULT NULL,
  `subject` varchar(150) NOT NULL,
  `send_at` datetime NOT NULL,
  `created_at` datetime NOT NULL,
  `action_id` int(11) DEFAULT NULL,
  `app_id` int(11) DEFAULT NULL,
  `domain` varchar(100) DEFAULT NULL,
  `action_ids` varchar(1000) DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=MyISAM AUTO_INCREMENT=13833 DEFAULT CHARSET=latin1 COLLATE=latin1_swedish_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `alerts_sent`
--

DROP TABLE IF EXISTS `alerts_sent`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `alerts_sent` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `alert_id` int(11) NOT NULL,
  `msg_type` varchar(16) NOT NULL,
  `user_id` int(11) NOT NULL,
  `sent` timestamp NOT NULL DEFAULT current_timestamp(),
  PRIMARY KEY (`id`),
  UNIQUE KEY `user_id` (`user_id`,`alert_id`,`msg_type`)
) ENGINE=InnoDB AUTO_INCREMENT=31602 DEFAULT CHARSET=utf8 COLLATE=utf8_general_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `apps`
--

DROP TABLE IF EXISTS `apps`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `apps` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `app` varchar(64) DEFAULT NULL,
  `updated` timestamp NOT NULL DEFAULT current_timestamp(),
  `app_domain` varchar(64) DEFAULT NULL,
  `app_team_ops` varchar(64) DEFAULT NULL,
  `description` text NOT NULL DEFAULT '',
  PRIMARY KEY (`id`),
  UNIQUE KEY `i_app` (`app`),
  KEY `idx_app_team_ops` (`app_team_ops`)
) ENGINE=InnoDB AUTO_INCREMENT=4623 DEFAULT CHARSET=utf8 COLLATE=utf8_general_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `apps_import`
--

DROP TABLE IF EXISTS `apps_import`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `apps_import` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `app` varchar(64) DEFAULT NULL,
  `desc` mediumtext NOT NULL,
  `updated` timestamp NOT NULL DEFAULT current_timestamp(),
  `app_domain` varchar(64) DEFAULT NULL,
  `app_team_ops` varchar(64) DEFAULT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `i_app` (`app`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_general_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `apps_publications`
--

DROP TABLE IF EXISTS `apps_publications`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `apps_publications` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `group_id` int(11) NOT NULL,
  `app_id` int(11) NOT NULL,
  PRIMARY KEY (`id`),
  KEY `apps_publications_fk2` (`group_id`),
  KEY `apps_publications_fk1` (`app_id`)
) ENGINE=InnoDB AUTO_INCREMENT=159 DEFAULT CHARSET=utf8 COLLATE=utf8_general_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `apps_responsibles`
--

DROP TABLE IF EXISTS `apps_responsibles`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `apps_responsibles` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `group_id` int(11) NOT NULL,
  `app_id` int(11) NOT NULL,
  PRIMARY KEY (`id`),
  KEY `apps_responsibles_fk2` (`group_id`),
  KEY `apps_responsibles_fk1` (`app_id`)
) ENGINE=InnoDB AUTO_INCREMENT=2271 DEFAULT CHARSET=latin1 COLLATE=latin1_swedish_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `auth_event`
--

DROP TABLE IF EXISTS `auth_event`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `auth_event` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `time_stamp` datetime DEFAULT NULL,
  `client_ip` varchar(512) DEFAULT NULL,
  `user_id` int(11) DEFAULT NULL,
  `origin` varchar(512) DEFAULT NULL,
  `description` longtext DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `user_id__idx` (`user_id`)
) ENGINE=InnoDB AUTO_INCREMENT=5994 DEFAULT CHARSET=utf8 COLLATE=utf8_general_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `auth_filters`
--

DROP TABLE IF EXISTS `auth_filters`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `auth_filters` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `fil_uid` int(11) NOT NULL,
  `fil_id` int(11) DEFAULT NULL,
  `fil_value` varchar(200) NOT NULL,
  `fil_active` tinyint(1) DEFAULT 1,
  PRIMARY KEY (`id`),
  UNIQUE KEY `index1` (`fil_uid`,`fil_id`)
) ENGINE=InnoDB AUTO_INCREMENT=508 DEFAULT CHARSET=latin1 COLLATE=latin1_swedish_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `auth_group`
--

DROP TABLE IF EXISTS `auth_group`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `auth_group` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `role` varchar(255) DEFAULT NULL,
  `description` longtext DEFAULT NULL,
  `privilege` varchar(1) DEFAULT 'F',
  PRIMARY KEY (`id`),
  UNIQUE KEY `idx2` (`role`),
  KEY `idx1` (`privilege`)
) ENGINE=InnoDB AUTO_INCREMENT=329 DEFAULT CHARSET=utf8 COLLATE=utf8_general_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `auth_membership`
--

DROP TABLE IF EXISTS `auth_membership`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `auth_membership` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `user_id` int(11) DEFAULT NULL,
  `group_id` int(11) DEFAULT NULL,
  `primary_group` varchar(1) DEFAULT 'F',
  PRIMARY KEY (`id`),
  UNIQUE KEY `user_id` (`user_id`,`group_id`),
  KEY `user_id__idx` (`user_id`),
  KEY `group_id__idx` (`group_id`)
) ENGINE=InnoDB AUTO_INCREMENT=1316 DEFAULT CHARSET=utf8 COLLATE=utf8_general_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `auth_node`
--

DROP TABLE IF EXISTS `auth_node`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `auth_node` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `nodename` varchar(256) DEFAULT NULL,
  `uuid` varchar(36) NOT NULL,
  `updated` timestamp NOT NULL DEFAULT current_timestamp(),
  `node_id` char(36) CHARACTER SET ascii COLLATE ascii_general_ci DEFAULT '',
  PRIMARY KEY (`id`),
  UNIQUE KEY `k_node_id` (`node_id`),
  UNIQUE KEY `idx_auth_node_node_id` (`node_id`),
  KEY `idx1` (`nodename`)
) ENGINE=InnoDB AUTO_INCREMENT=3787 DEFAULT CHARSET=utf8 COLLATE=utf8_general_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `auth_permission`
--

DROP TABLE IF EXISTS `auth_permission`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `auth_permission` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `group_id` int(11) DEFAULT NULL,
  `name` varchar(512) DEFAULT NULL,
  `table_name` varchar(512) DEFAULT NULL,
  `record_id` int(11) DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `group_id__idx` (`group_id`)
) ENGINE=InnoDB AUTO_INCREMENT=3 DEFAULT CHARSET=utf8 COLLATE=utf8_general_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `auth_user`
--

DROP TABLE IF EXISTS `auth_user`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `auth_user` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `first_name` varchar(128) DEFAULT NULL,
  `last_name` varchar(128) DEFAULT NULL,
  `email` varchar(512) DEFAULT NULL,
  `password` varchar(512) DEFAULT NULL,
  `registration_key` varchar(512) DEFAULT NULL,
  `reset_password_key` varchar(512) DEFAULT '',
  `email_notifications` varchar(1) DEFAULT 'T',
  `im_notifications` varchar(1) DEFAULT 'T',
  `im_type` varchar(16) DEFAULT NULL,
  `im_username` varchar(100) DEFAULT NULL,
  `email_log_level` enum('debug','info','warning','error','critical') DEFAULT 'warning',
  `im_log_level` enum('debug','info','warning','error','critical') DEFAULT 'warning',
  `lock_filter` varchar(1) DEFAULT 'F',
  `phone_work` varchar(16) DEFAULT NULL,
  `registration_id` varchar(512) DEFAULT '',
  `quota_app` int(11) DEFAULT NULL,
  `quota_org_group` int(11) DEFAULT NULL,
  `username` varchar(128) DEFAULT NULL,
  `quota_docker_registries` int(11) DEFAULT NULL,
  `im_notifications_delay` int(11) DEFAULT 0,
  `email_notifications_delay` int(11) DEFAULT 0,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=139 DEFAULT CHARSET=utf8 COLLATE=utf8_general_ci;
/*!40101 SET character_set_client = @saved_cs_client */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8 */ ;
/*!50003 SET character_set_results = utf8 */ ;
/*!50003 SET collation_connection  = utf8_general_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = '' */ ;
DELIMITER ;;
/*!50003 CREATE*/ /*!50017 DEFINER=`root`@`localhost`*/ /*!50003 trigger user_add_evt after insert on auth_user for each row
begin
 insert ignore into auth_membership (user_id, group_id) values (new.id, (select(id) from auth_group where role="Everybody")) ;
end */;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;

--
-- Table structure for table `b_action_errors`
--

DROP TABLE IF EXISTS `b_action_errors`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `b_action_errors` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `svc_id` char(36) CHARACTER SET ascii COLLATE ascii_general_ci DEFAULT '',
  `node_id` char(36) CHARACTER SET ascii COLLATE ascii_general_ci DEFAULT '',
  `err` int(11) NOT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `i_svcname` (`svc_id`,`node_id`)
) ENGINE=InnoDB AUTO_INCREMENT=49183 DEFAULT CHARSET=utf8 COLLATE=utf8_general_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `b_apps_old`
--

DROP TABLE IF EXISTS `b_apps_old`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `b_apps_old` (
  `id` int(11) NOT NULL DEFAULT 0,
  `app` varchar(64) DEFAULT NULL,
  `roles` text DEFAULT NULL,
  `responsibles` text DEFAULT NULL,
  `mailto` text DEFAULT NULL,
  `app_domain` varchar(64) DEFAULT NULL,
  `app_team_ops` varchar(64) DEFAULT NULL,
  KEY `idx1` (`app`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_general_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `chart_team_publication`
--

DROP TABLE IF EXISTS `chart_team_publication`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `chart_team_publication` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `chart_id` int(11) NOT NULL,
  `group_id` int(11) NOT NULL,
  PRIMARY KEY (`id`),
  KEY `idx1` (`chart_id`),
  KEY `idx2` (`group_id`)
) ENGINE=InnoDB AUTO_INCREMENT=73 DEFAULT CHARSET=utf8 COLLATE=utf8_general_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `chart_team_responsible`
--

DROP TABLE IF EXISTS `chart_team_responsible`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `chart_team_responsible` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `chart_id` int(11) NOT NULL,
  `group_id` int(11) NOT NULL,
  PRIMARY KEY (`id`),
  KEY `idx1` (`chart_id`),
  KEY `idx2` (`group_id`)
) ENGINE=InnoDB AUTO_INCREMENT=41 DEFAULT CHARSET=utf8 COLLATE=utf8_general_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `charts`
--

DROP TABLE IF EXISTS `charts`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `charts` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `chart_name` varchar(100) NOT NULL,
  `chart_yaml` text DEFAULT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `chart_name` (`chart_name`)
) ENGINE=InnoDB AUTO_INCREMENT=171 DEFAULT CHARSET=utf8 COLLATE=utf8_general_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `checks_defaults`
--

DROP TABLE IF EXISTS `checks_defaults`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `checks_defaults` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `chk_type` varchar(10) NOT NULL,
  `chk_low` bigint(20) DEFAULT NULL,
  `chk_high` bigint(20) DEFAULT NULL,
  `chk_inst` varchar(128) DEFAULT NULL,
  `chk_prio` int(11) DEFAULT 0,
  PRIMARY KEY (`id`),
  UNIQUE KEY `idx1` (`chk_type`,`chk_inst`)
) ENGINE=InnoDB AUTO_INCREMENT=59 DEFAULT CHARSET=utf8 COLLATE=utf8_general_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `checks_live`
--

DROP TABLE IF EXISTS `checks_live`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `checks_live` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `chk_type` varchar(10) NOT NULL,
  `chk_updated` timestamp NOT NULL DEFAULT '0000-00-00 00:00:00',
  `chk_value` bigint(20) DEFAULT NULL,
  `chk_created` timestamp NOT NULL DEFAULT current_timestamp(),
  `chk_instance` varchar(180) DEFAULT NULL,
  `chk_low` bigint(20) DEFAULT NULL,
  `chk_high` bigint(20) DEFAULT NULL,
  `chk_threshold_provider` varchar(60) DEFAULT NULL,
  `chk_err` tinyint(4) GENERATED ALWAYS AS (if(`chk_value` < `chk_low`,1,if(`chk_value` > `chk_high`,2,0))) STORED,
  `node_id` char(36) CHARACTER SET ascii COLLATE ascii_general_ci DEFAULT '',
  `svc_id` char(36) CHARACTER SET ascii COLLATE ascii_general_ci DEFAULT '',
  PRIMARY KEY (`id`),
  UNIQUE KEY `idx1` (`node_id`,`svc_id`,`chk_type`,`chk_instance`),
  KEY `idx_chk_instance` (`chk_instance`),
  KEY `k_node_id` (`node_id`),
  KEY `k_svc_id` (`svc_id`),
  KEY `k_chk_type` (`chk_type`)
) ENGINE=InnoDB AUTO_INCREMENT=5091919 DEFAULT CHARSET=utf8 COLLATE=utf8_general_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `checks_settings`
--

DROP TABLE IF EXISTS `checks_settings`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `checks_settings` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `chk_type` varchar(10) NOT NULL,
  `chk_low` bigint(20) DEFAULT NULL,
  `chk_high` bigint(20) DEFAULT NULL,
  `chk_changed` datetime NOT NULL,
  `chk_changed_by` varchar(60) NOT NULL,
  `chk_instance` varchar(180) DEFAULT NULL,
  `node_id` char(36) CHARACTER SET ascii COLLATE ascii_general_ci DEFAULT '',
  `svc_id` char(36) CHARACTER SET ascii COLLATE ascii_general_ci DEFAULT '',
  PRIMARY KEY (`id`),
  UNIQUE KEY `idx1` (`node_id`,`svc_id`,`chk_type`,`chk_instance`),
  KEY `k_node_id` (`node_id`),
  KEY `k_svc_id` (`svc_id`)
) ENGINE=InnoDB AUTO_INCREMENT=14517 DEFAULT CHARSET=utf8 COLLATE=utf8_general_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `clusters`
--

DROP TABLE IF EXISTS `clusters`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `clusters` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `cluster_id` char(36) CHARACTER SET ascii COLLATE ascii_general_ci DEFAULT '',
  `cluster_name` varchar(128) NOT NULL,
  `cluster_data` longtext CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `cluster_id` (`cluster_id`)
) ENGINE=InnoDB AUTO_INCREMENT=3 DEFAULT CHARSET=utf8 COLLATE=utf8_general_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `comp_log`
--

DROP TABLE IF EXISTS `comp_log`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `comp_log` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `run_module` varchar(64) NOT NULL,
  `run_status` int(11) NOT NULL DEFAULT 1,
  `run_log` text NOT NULL,
  `run_date` datetime NOT NULL,
  `run_action` varchar(7) DEFAULT '',
  `rset_md5` varchar(32) DEFAULT NULL,
  `node_id` char(36) CHARACTER SET ascii COLLATE ascii_general_ci DEFAULT '',
  `svc_id` char(36) CHARACTER SET ascii COLLATE ascii_general_ci DEFAULT '',
  PRIMARY KEY (`id`),
  KEY `idx0` (`run_date`),
  KEY `idx2` (`run_action`),
  KEY `idx3` (`run_module`),
  KEY `k_node_id` (`node_id`),
  KEY `k_svc_id` (`svc_id`)
) ENGINE=InnoDB AUTO_INCREMENT=185320 DEFAULT CHARSET=utf8 COLLATE=utf8_general_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `comp_log_daily`
--

DROP TABLE IF EXISTS `comp_log_daily`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `comp_log_daily` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `run_module` varchar(64) NOT NULL,
  `run_status` int(11) NOT NULL DEFAULT 1,
  `run_date` date NOT NULL,
  `node_id` char(36) CHARACTER SET ascii COLLATE ascii_general_ci DEFAULT '',
  `svc_id` char(36) CHARACTER SET ascii COLLATE ascii_general_ci DEFAULT '',
  PRIMARY KEY (`id`,`run_date`),
  UNIQUE KEY `idx2` (`run_date`,`node_id`,`svc_id`,`run_module`),
  KEY `idx3` (`run_module`),
  KEY `k_node_id` (`node_id`),
  KEY `k_svc_id` (`svc_id`)
) ENGINE=InnoDB AUTO_INCREMENT=81412 DEFAULT CHARSET=utf8 COLLATE=utf8_general_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `comp_mod_status`
--

DROP TABLE IF EXISTS `comp_mod_status`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `comp_mod_status` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `total` int(11) DEFAULT NULL,
  `ok` int(11) DEFAULT NULL,
  `nok` int(11) DEFAULT NULL,
  `na` int(11) DEFAULT NULL,
  `obs` int(11) DEFAULT NULL,
  `pct` int(11) DEFAULT NULL,
  `mod_name` varchar(255) DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_general_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `comp_moduleset`
--

DROP TABLE IF EXISTS `comp_moduleset`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `comp_moduleset` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `modset_name` varchar(60) NOT NULL,
  `modset_author` varchar(100) DEFAULT '',
  `modset_updated` timestamp NOT NULL DEFAULT current_timestamp(),
  PRIMARY KEY (`id`),
  UNIQUE KEY `idx1` (`modset_name`)
) ENGINE=InnoDB AUTO_INCREMENT=349 DEFAULT CHARSET=utf8 COLLATE=utf8_general_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `comp_moduleset_modules`
--

DROP TABLE IF EXISTS `comp_moduleset_modules`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `comp_moduleset_modules` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `modset_id` int(11) DEFAULT NULL,
  `modset_mod_name` varchar(60) NOT NULL,
  `modset_mod_author` varchar(100) DEFAULT '',
  `modset_mod_updated` timestamp NOT NULL DEFAULT current_timestamp(),
  `autofix` varchar(1) DEFAULT 'F',
  PRIMARY KEY (`id`),
  UNIQUE KEY `idx1` (`modset_mod_name`,`modset_id`),
  KEY `comp_moduleset_modules_fk1` (`modset_id`)
) ENGINE=InnoDB AUTO_INCREMENT=914 DEFAULT CHARSET=utf8 COLLATE=utf8_general_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `comp_moduleset_moduleset`
--

DROP TABLE IF EXISTS `comp_moduleset_moduleset`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `comp_moduleset_moduleset` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `parent_modset_id` int(11) NOT NULL,
  `child_modset_id` int(11) NOT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `index_1` (`parent_modset_id`,`child_modset_id`)
) ENGINE=InnoDB AUTO_INCREMENT=63 DEFAULT CHARSET=utf8 COLLATE=utf8_general_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `comp_moduleset_ruleset`
--

DROP TABLE IF EXISTS `comp_moduleset_ruleset`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `comp_moduleset_ruleset` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `modset_id` int(11) NOT NULL,
  `ruleset_id` int(11) NOT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `index_1` (`modset_id`,`ruleset_id`)
) ENGINE=InnoDB AUTO_INCREMENT=251 DEFAULT CHARSET=utf8 COLLATE=utf8_general_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `comp_moduleset_team_publication`
--

DROP TABLE IF EXISTS `comp_moduleset_team_publication`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `comp_moduleset_team_publication` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `modset_id` int(11) NOT NULL,
  `group_id` int(11) NOT NULL,
  PRIMARY KEY (`id`),
  KEY `idx1` (`modset_id`),
  KEY `comp_moduleset_team_responsible_fk2` (`group_id`)
) ENGINE=InnoDB AUTO_INCREMENT=903 DEFAULT CHARSET=utf8 COLLATE=utf8_general_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `comp_moduleset_team_responsible`
--

DROP TABLE IF EXISTS `comp_moduleset_team_responsible`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `comp_moduleset_team_responsible` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `modset_id` int(11) NOT NULL,
  `group_id` int(11) NOT NULL,
  PRIMARY KEY (`id`),
  KEY `idx1` (`modset_id`),
  KEY `comp_moduleset_team_responsible_fk2` (`group_id`)
) ENGINE=InnoDB AUTO_INCREMENT=1802 DEFAULT CHARSET=utf8 COLLATE=utf8_general_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `comp_modulesets_services`
--

DROP TABLE IF EXISTS `comp_modulesets_services`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `comp_modulesets_services` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `modset_id` int(11) NOT NULL,
  `modset_mod_author` varchar(100) DEFAULT '',
  `modset_updated` timestamp NOT NULL DEFAULT current_timestamp(),
  `slave` varchar(1) DEFAULT 'F',
  `svc_id` char(36) CHARACTER SET ascii COLLATE ascii_general_ci DEFAULT '',
  PRIMARY KEY (`id`),
  UNIQUE KEY `idx1` (`svc_id`,`modset_id`,`slave`),
  KEY `comp_modulesets_services_fk1` (`modset_id`),
  KEY `k_svc_id` (`svc_id`)
) ENGINE=InnoDB AUTO_INCREMENT=23 DEFAULT CHARSET=utf8 COLLATE=utf8_general_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `comp_node_moduleset`
--

DROP TABLE IF EXISTS `comp_node_moduleset`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `comp_node_moduleset` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `modset_id` int(11) NOT NULL,
  `modset_mod_author` varchar(100) DEFAULT '',
  `modset_updated` timestamp NOT NULL DEFAULT current_timestamp(),
  `node_id` char(36) CHARACTER SET ascii COLLATE ascii_general_ci DEFAULT '',
  PRIMARY KEY (`id`),
  UNIQUE KEY `uk` (`modset_id`,`node_id`),
  KEY `comp_node_moduleset_fk1` (`modset_id`),
  KEY `k_node_id` (`node_id`)
) ENGINE=InnoDB AUTO_INCREMENT=18 DEFAULT CHARSET=utf8 COLLATE=utf8_general_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `comp_node_status`
--

DROP TABLE IF EXISTS `comp_node_status`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `comp_node_status` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `total` int(11) DEFAULT NULL,
  `ok` int(11) DEFAULT NULL,
  `nok` int(11) DEFAULT NULL,
  `na` int(11) DEFAULT NULL,
  `obs` int(11) DEFAULT NULL,
  `pct` int(11) DEFAULT NULL,
  `node_name` varchar(255) DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_general_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `comp_ruleset_team_publication`
--

DROP TABLE IF EXISTS `comp_ruleset_team_publication`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `comp_ruleset_team_publication` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `ruleset_id` int(11) NOT NULL,
  `group_id` int(11) NOT NULL,
  PRIMARY KEY (`id`),
  KEY `idx1` (`ruleset_id`),
  KEY `comp_ruleset_team_responsible_fk2` (`group_id`)
) ENGINE=InnoDB AUTO_INCREMENT=3354 DEFAULT CHARSET=utf8 COLLATE=utf8_general_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `comp_ruleset_team_responsible`
--

DROP TABLE IF EXISTS `comp_ruleset_team_responsible`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `comp_ruleset_team_responsible` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `ruleset_id` int(11) NOT NULL,
  `group_id` int(11) NOT NULL,
  PRIMARY KEY (`id`),
  KEY `idx1` (`ruleset_id`),
  KEY `comp_ruleset_team_responsible_fk2` (`group_id`)
) ENGINE=InnoDB AUTO_INCREMENT=4361 DEFAULT CHARSET=utf8 COLLATE=utf8_general_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `comp_rulesets`
--

DROP TABLE IF EXISTS `comp_rulesets`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `comp_rulesets` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `ruleset_name` varchar(100) DEFAULT '',
  `ruleset_type` varchar(10) DEFAULT 'explicit',
  `ruleset_public` varchar(1) DEFAULT 'T',
  PRIMARY KEY (`id`),
  UNIQUE KEY `idx1` (`ruleset_name`)
) ENGINE=InnoDB AUTO_INCREMENT=1006 DEFAULT CHARSET=utf8 COLLATE=utf8_general_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `comp_rulesets_chains`
--

DROP TABLE IF EXISTS `comp_rulesets_chains`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `comp_rulesets_chains` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `head_rset_id` int(11) NOT NULL,
  `tail_rset_id` int(11) NOT NULL,
  `chain_len` int(11) NOT NULL,
  `chain` text NOT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `index_1` (`head_rset_id`,`tail_rset_id`)
) ENGINE=InnoDB AUTO_INCREMENT=1328 DEFAULT CHARSET=utf8 COLLATE=utf8_general_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `comp_rulesets_filtersets`
--

DROP TABLE IF EXISTS `comp_rulesets_filtersets`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `comp_rulesets_filtersets` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `ruleset_id` int(11) NOT NULL,
  `fset_id` int(11) NOT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `idx1` (`ruleset_id`),
  KEY `comp_rulesets_filtersets_fk2` (`fset_id`)
) ENGINE=InnoDB AUTO_INCREMENT=706 DEFAULT CHARSET=utf8 COLLATE=utf8_general_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `comp_rulesets_nodes`
--

DROP TABLE IF EXISTS `comp_rulesets_nodes`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `comp_rulesets_nodes` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `ruleset_id` int(11) NOT NULL,
  `node_id` char(36) CHARACTER SET ascii COLLATE ascii_general_ci DEFAULT '',
  PRIMARY KEY (`id`),
  UNIQUE KEY `uk` (`ruleset_id`,`node_id`)
) ENGINE=InnoDB AUTO_INCREMENT=6 DEFAULT CHARSET=utf8 COLLATE=utf8_general_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `comp_rulesets_rulesets`
--

DROP TABLE IF EXISTS `comp_rulesets_rulesets`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `comp_rulesets_rulesets` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `parent_rset_id` int(11) NOT NULL,
  `child_rset_id` int(11) NOT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `comp_rulesets_rulesets_uk1` (`parent_rset_id`,`child_rset_id`),
  KEY `comp_rulesets_rulesets_fk2` (`child_rset_id`)
) ENGINE=InnoDB AUTO_INCREMENT=1006 DEFAULT CHARSET=utf8 COLLATE=utf8_general_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `comp_rulesets_services`
--

DROP TABLE IF EXISTS `comp_rulesets_services`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `comp_rulesets_services` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `ruleset_id` int(11) NOT NULL,
  `slave` varchar(1) DEFAULT 'F',
  `svc_id` char(36) CHARACTER SET ascii COLLATE ascii_general_ci DEFAULT '',
  PRIMARY KEY (`id`),
  UNIQUE KEY `ruleset_id` (`ruleset_id`,`svc_id`,`slave`),
  KEY `k_svc_id` (`svc_id`)
) ENGINE=InnoDB AUTO_INCREMENT=8 DEFAULT CHARSET=utf8 COLLATE=utf8_general_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `comp_rulesets_variables`
--

DROP TABLE IF EXISTS `comp_rulesets_variables`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `comp_rulesets_variables` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `ruleset_id` int(11) NOT NULL,
  `var_name` varchar(60) NOT NULL,
  `var_value` longtext DEFAULT NULL,
  `var_author` varchar(100) NOT NULL,
  `var_updated` timestamp NOT NULL DEFAULT current_timestamp(),
  `var_class` varchar(60) NOT NULL DEFAULT 'raw',
  PRIMARY KEY (`id`),
  KEY `comp_rulesets_variables_fk1` (`ruleset_id`)
) ENGINE=InnoDB AUTO_INCREMENT=5910 DEFAULT CHARSET=utf8 COLLATE=utf8_general_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `comp_run_ruleset`
--

DROP TABLE IF EXISTS `comp_run_ruleset`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `comp_run_ruleset` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `rset_md5` varchar(32) NOT NULL,
  `rset` longblob NOT NULL,
  `date` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `new_index` (`rset_md5`),
  KEY `idx_date` (`date`)
) ENGINE=InnoDB AUTO_INCREMENT=494194 DEFAULT CHARSET=utf8 COLLATE=utf8_general_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `comp_status`
--

DROP TABLE IF EXISTS `comp_status`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `comp_status` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `run_module` varchar(64) NOT NULL,
  `run_status` int(11) NOT NULL DEFAULT 1,
  `run_log` text NOT NULL,
  `run_date` timestamp NOT NULL DEFAULT current_timestamp(),
  `run_action` varchar(7) DEFAULT '',
  `rset_md5` varchar(32) DEFAULT NULL,
  `node_id` char(36) CHARACTER SET ascii COLLATE ascii_general_ci DEFAULT '',
  `svc_id` char(36) CHARACTER SET ascii COLLATE ascii_general_ci DEFAULT '',
  PRIMARY KEY (`id`),
  UNIQUE KEY `uk_comp_status_1` (`node_id`,`svc_id`,`run_module`),
  KEY `idx3` (`run_date`),
  KEY `k_node_id` (`node_id`),
  KEY `k_svc_id` (`svc_id`)
) ENGINE=InnoDB AUTO_INCREMENT=1062 DEFAULT CHARSET=utf8 COLLATE=utf8_general_ci ROW_FORMAT=DYNAMIC;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `comp_svc_status`
--

DROP TABLE IF EXISTS `comp_svc_status`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `comp_svc_status` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `total` int(11) DEFAULT NULL,
  `ok` int(11) DEFAULT NULL,
  `nok` int(11) DEFAULT NULL,
  `na` int(11) DEFAULT NULL,
  `obs` int(11) DEFAULT NULL,
  `pct` int(11) DEFAULT NULL,
  `svc_name` varchar(255) DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_general_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `dashboard`
--

DROP TABLE IF EXISTS `dashboard`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `dashboard` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `dash_type` varchar(60) NOT NULL DEFAULT '',
  `svc_id` char(36) CHARACTER SET ascii COLLATE ascii_general_ci DEFAULT '',
  `dash_severity` tinyint(4) NOT NULL,
  `dash_fmt` varchar(100) DEFAULT '',
  `dash_dict` text DEFAULT '',
  `dash_created` timestamp NOT NULL DEFAULT current_timestamp(),
  `dash_dict_md5` varchar(32) DEFAULT '',
  `dash_env` enum('PRD','PPRD','REC','INT','DEV','TST','TMP','DRP','FOR','PRA','PRJ','') DEFAULT NULL,
  `dash_updated` datetime DEFAULT NULL,
  `node_id` char(36) CHARACTER SET ascii COLLATE ascii_general_ci DEFAULT '',
  `dash_md5` binary(32) GENERATED ALWAYS AS (md5(concat(`dash_type`,if(`dash_instance` is null,'',`dash_instance`)))) STORED,
  `dash_instance` varchar(180) DEFAULT '',
  PRIMARY KEY (`id`),
  UNIQUE KEY `idx1` (`svc_id`,`node_id`,`dash_md5`),
  KEY `i_dash_type` (`dash_type`),
  KEY `k_node_id` (`node_id`),
  KEY `k_svc_id` (`svc_id`),
  KEY `k_dash_janitor` (`dash_type`,`node_id`,`svc_id`)
) ENGINE=InnoDB AUTO_INCREMENT=8026115 DEFAULT CHARSET=utf8 COLLATE=utf8_general_ci;
/*!40101 SET character_set_client = @saved_cs_client */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8 */ ;
/*!50003 SET character_set_results = utf8 */ ;
/*!50003 SET collation_connection  = utf8_general_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = '' */ ;
DELIMITER ;;
/*!50003 CREATE*/ /*!50017 DEFINER=`root`@`127.0.0.1`*/ /*!50003 trigger dash_add_evt after insert on dashboard for each row
begin
 insert ignore into dashboard_ref (dash_md5, dash_fmt, dash_dict, dash_type) values (new.dash_md5, new.dash_fmt, new.dash_dict, new.dash_type) ;
 insert into dashboard_events (dash_md5, node_id, svc_id, dash_begin) values (new.dash_md5, new.node_id, new.svc_id, now()) ;
end */;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8 */ ;
/*!50003 SET character_set_results = utf8 */ ;
/*!50003 SET collation_connection  = utf8_general_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = '' */ ;
DELIMITER ;;
/*!50003 CREATE*/ /*!50017 DEFINER=`root`@`127.0.0.1`*/ /*!50003 trigger dash_del_evt before delete on dashboard for each row begin update dashboard_events set dash_end=now() where dash_md5=old.dash_md5 and node_id=old.node_id and svc_id=old.svc_id and dash_end is null ; end */;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;

--
-- Table structure for table `dashboard_events`
--

DROP TABLE IF EXISTS `dashboard_events`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `dashboard_events` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `svc_id` char(36) CHARACTER SET ascii COLLATE ascii_general_ci DEFAULT '',
  `dash_md5` binary(32) DEFAULT NULL,
  `dash_begin` datetime NOT NULL,
  `dash_end` datetime NOT NULL,
  `node_id` char(36) CHARACTER SET ascii COLLATE ascii_general_ci DEFAULT '',
  PRIMARY KEY (`id`),
  KEY `idx1` (`dash_md5`),
  KEY `idx2` (`dash_begin`,`dash_end`),
  KEY `k_node_id` (`node_id`),
  KEY `k_svc_id` (`svc_id`),
  KEY `idx3` (`node_id`,`svc_id`,`dash_md5`),
  KEY `k_purge_future` (`dash_end`)
) ENGINE=InnoDB AUTO_INCREMENT=476886 DEFAULT CHARSET=utf8 COLLATE=utf8_general_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `dashboard_ref`
--

DROP TABLE IF EXISTS `dashboard_ref`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `dashboard_ref` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `dash_md5` binary(32) DEFAULT NULL,
  `dash_type` varchar(60) DEFAULT NULL,
  `dash_fmt` varchar(100) DEFAULT NULL,
  `dash_dict` text DEFAULT '',
  PRIMARY KEY (`id`),
  UNIQUE KEY `idx1` (`dash_md5`)
) ENGINE=InnoDB AUTO_INCREMENT=476886 DEFAULT CHARSET=utf8 COLLATE=utf8_general_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `digit`
--

DROP TABLE IF EXISTS `digit`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `digit` (
  `i` int(11) NOT NULL,
  PRIMARY KEY (`i`)
) ENGINE=MyISAM DEFAULT CHARSET=utf8 COLLATE=utf8_general_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `disk_blacklist`
--

DROP TABLE IF EXISTS `disk_blacklist`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `disk_blacklist` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `disk_id` varchar(120) NOT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `idx1` (`disk_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_general_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `diskinfo`
--

DROP TABLE IF EXISTS `diskinfo`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `diskinfo` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `disk_id` varchar(120) DEFAULT NULL,
  `disk_devid` varchar(60) DEFAULT '',
  `disk_arrayid` varchar(100) DEFAULT NULL,
  `disk_updated` datetime DEFAULT NULL,
  `disk_raid` varchar(128) DEFAULT NULL,
  `disk_size` int(11) DEFAULT NULL,
  `disk_group` varchar(60) DEFAULT '',
  `disk_level` int(11) NOT NULL DEFAULT 0,
  `disk_controller` varchar(32) DEFAULT NULL,
  `disk_name` varchar(120) DEFAULT '',
  `disk_alloc` int(11) DEFAULT NULL,
  `disk_created` timestamp NOT NULL DEFAULT current_timestamp(),
  PRIMARY KEY (`id`),
  UNIQUE KEY `new_index` (`disk_id`,`disk_group`),
  KEY `disk_arrayid_updated` (`disk_arrayid`,`disk_updated`)
) ENGINE=InnoDB AUTO_INCREMENT=11703 DEFAULT CHARSET=latin1 COLLATE=latin1_swedish_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `docker_registries`
--

DROP TABLE IF EXISTS `docker_registries`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `docker_registries` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `service` varchar(128) NOT NULL,
  `url` varchar(255) NOT NULL,
  `insecure` varchar(1) NOT NULL DEFAULT 'F',
  `created` timestamp NOT NULL DEFAULT current_timestamp(),
  `updated` datetime NOT NULL,
  `restricted` varchar(1) NOT NULL DEFAULT 'T',
  PRIMARY KEY (`id`),
  UNIQUE KEY `uk_service` (`service`),
  UNIQUE KEY `uk_url` (`url`)
) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=utf8 COLLATE=utf8_general_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `docker_registries_publications`
--

DROP TABLE IF EXISTS `docker_registries_publications`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `docker_registries_publications` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `group_id` int(11) NOT NULL,
  `registry_id` int(11) NOT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `uk` (`group_id`,`registry_id`),
  KEY `k_group_id` (`group_id`),
  KEY `k_registry_id` (`registry_id`)
) ENGINE=InnoDB AUTO_INCREMENT=8 DEFAULT CHARSET=utf8 COLLATE=utf8_general_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `docker_registries_responsibles`
--

DROP TABLE IF EXISTS `docker_registries_responsibles`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `docker_registries_responsibles` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `group_id` int(11) NOT NULL,
  `registry_id` int(11) NOT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `uk` (`group_id`,`registry_id`),
  KEY `k_group_id` (`group_id`),
  KEY `k_registry_id` (`registry_id`)
) ENGINE=InnoDB AUTO_INCREMENT=8 DEFAULT CHARSET=utf8 COLLATE=utf8_general_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `docker_repositories`
--

DROP TABLE IF EXISTS `docker_repositories`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `docker_repositories` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `registry_id` int(11) NOT NULL,
  `repository` varchar(255) NOT NULL,
  `created` timestamp NOT NULL DEFAULT current_timestamp(),
  `updated` datetime NOT NULL,
  `description` varchar(255) DEFAULT '',
  `stars` int(11) DEFAULT 0,
  `automated` varchar(1) DEFAULT 'F',
  `official` varchar(1) DEFAULT 'F',
  PRIMARY KEY (`id`),
  UNIQUE KEY `uk` (`registry_id`,`repository`)
) ENGINE=InnoDB AUTO_INCREMENT=1162197 DEFAULT CHARSET=utf8 COLLATE=utf8_general_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `docker_tags`
--

DROP TABLE IF EXISTS `docker_tags`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `docker_tags` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `registry_id` int(11) NOT NULL,
  `repository_id` int(11) NOT NULL,
  `name` varchar(255) NOT NULL,
  `created` timestamp NOT NULL DEFAULT current_timestamp(),
  `updated` datetime NOT NULL,
  `config_digest` char(72) DEFAULT '',
  `config_size` int(11) DEFAULT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `uk` (`registry_id`,`repository_id`,`name`)
) ENGINE=InnoDB AUTO_INCREMENT=930052 DEFAULT CHARSET=utf8 COLLATE=utf8_general_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `drpprojects`
--

DROP TABLE IF EXISTS `drpprojects`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `drpprojects` (
  `drp_project` varchar(30) CHARACTER SET latin1 COLLATE latin1_swedish_ci NOT NULL,
  `drp_project_id` int(11) NOT NULL AUTO_INCREMENT,
  PRIMARY KEY (`drp_project_id`),
  UNIQUE KEY `uniq_key` (`drp_project`)
) ENGINE=InnoDB AUTO_INCREMENT=19 DEFAULT CHARSET=utf8 COLLATE=utf8_general_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `drpservices`
--

DROP TABLE IF EXISTS `drpservices`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `drpservices` (
  `drp_wave` varchar(10) DEFAULT NULL,
  `drp_project_id` int(11) NOT NULL,
  `svc_id` char(36) CHARACTER SET ascii COLLATE ascii_general_ci DEFAULT '',
  UNIQUE KEY `idx1` (`svc_id`,`drp_project_id`),
  KEY `drpservices_fk1` (`drp_project_id`),
  KEY `k_svc_id` (`svc_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_general_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `feed_queue`
--

DROP TABLE IF EXISTS `feed_queue`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `feed_queue` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `q_fn` varchar(60) NOT NULL,
  `q_args` longblob NOT NULL,
  `created` timestamp NOT NULL DEFAULT current_timestamp(),
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_general_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `feed_queue_stats`
--

DROP TABLE IF EXISTS `feed_queue_stats`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `feed_queue_stats` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `q_start` timestamp NOT NULL DEFAULT current_timestamp() ON UPDATE current_timestamp(),
  `q_end` timestamp NOT NULL DEFAULT '0000-00-00 00:00:00',
  `q_fn` varchar(60) NOT NULL,
  `q_count` int(11) NOT NULL,
  `q_avg` float NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_general_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `filters`
--

DROP TABLE IF EXISTS `filters`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `filters` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `fil_name` varchar(30) NOT NULL,
  `fil_column` varchar(30) NOT NULL,
  `fil_need_value` tinyint(1) NOT NULL DEFAULT 1,
  `fil_pos` int(11) NOT NULL DEFAULT 1,
  `fil_table` varchar(30) NOT NULL,
  `fil_img` varchar(30) NOT NULL,
  `fil_search_table` varchar(30) DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=118 DEFAULT CHARSET=latin1 COLLATE=latin1_swedish_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `form_output_results`
--

DROP TABLE IF EXISTS `form_output_results`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `form_output_results` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `user_id` int(11) DEFAULT NULL,
  `node_id` char(36) CHARACTER SET ascii COLLATE ascii_general_ci DEFAULT '',
  `results` mediumtext DEFAULT NULL,
  `svc_id` char(36) CHARACTER SET ascii COLLATE ascii_general_ci DEFAULT '',
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=562 DEFAULT CHARSET=utf8 COLLATE=utf8_general_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `forms`
--

DROP TABLE IF EXISTS `forms`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `forms` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `form_name` varchar(100) DEFAULT NULL,
  `form_yaml` text DEFAULT NULL,
  `form_author` varchar(100) DEFAULT NULL,
  `form_created` timestamp NOT NULL DEFAULT current_timestamp() ON UPDATE current_timestamp(),
  `form_type` enum('obj','custo','folder','generic') DEFAULT 'custo',
  `form_folder` varchar(200) DEFAULT '/',
  PRIMARY KEY (`id`),
  UNIQUE KEY `idx1` (`form_name`)
) ENGINE=InnoDB AUTO_INCREMENT=164 DEFAULT CHARSET=utf8 COLLATE=utf8_general_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `forms_revisions`
--

DROP TABLE IF EXISTS `forms_revisions`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `forms_revisions` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `form_yaml` text NOT NULL,
  `form_md5` varchar(32) NOT NULL,
  `form_date` timestamp NOT NULL DEFAULT current_timestamp(),
  `form_id` int(11) DEFAULT NULL,
  `form_folder` varchar(200) DEFAULT NULL,
  `form_name` varchar(100) DEFAULT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `k_form_md5` (`form_md5`)
) ENGINE=InnoDB AUTO_INCREMENT=137 DEFAULT CHARSET=utf8 COLLATE=utf8_general_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `forms_store`
--

DROP TABLE IF EXISTS `forms_store`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `forms_store` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `form_submitter` varchar(200) NOT NULL,
  `form_submit_date` datetime NOT NULL,
  `form_data` text NOT NULL,
  `form_next_id` int(11) DEFAULT NULL,
  `form_prev_id` int(11) DEFAULT NULL,
  `form_assignee` varchar(200) DEFAULT NULL,
  `form_head_id` int(11) DEFAULT NULL,
  `form_md5` varchar(32) DEFAULT NULL,
  `form_var_id` int(11) DEFAULT NULL,
  `results_id` int(11) DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=1386 DEFAULT CHARSET=utf8 COLLATE=utf8_general_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `forms_team_publication`
--

DROP TABLE IF EXISTS `forms_team_publication`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `forms_team_publication` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `form_id` int(11) NOT NULL,
  `group_id` int(11) NOT NULL,
  PRIMARY KEY (`id`),
  KEY `idx1` (`form_id`),
  KEY `idx2` (`group_id`)
) ENGINE=InnoDB AUTO_INCREMENT=362 DEFAULT CHARSET=utf8 COLLATE=utf8_general_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `forms_team_responsible`
--

DROP TABLE IF EXISTS `forms_team_responsible`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `forms_team_responsible` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `form_id` int(11) NOT NULL,
  `group_id` int(11) NOT NULL,
  PRIMARY KEY (`id`),
  KEY `idx1` (`form_id`),
  KEY `idx2` (`group_id`)
) ENGINE=InnoDB AUTO_INCREMENT=289 DEFAULT CHARSET=utf8 COLLATE=utf8_general_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `fset_cache`
--

DROP TABLE IF EXISTS `fset_cache`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `fset_cache` (
  `fset_id` int(11) NOT NULL,
  `obj_type` enum('svc_id','node_id') NOT NULL,
  `obj_id` char(36) CHARACTER SET ascii COLLATE ascii_general_ci DEFAULT '',
  KEY `fset_id` (`fset_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_general_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `gen_filters`
--

DROP TABLE IF EXISTS `gen_filters`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `gen_filters` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `f_table` varchar(30) NOT NULL,
  `f_field` varchar(30) NOT NULL,
  `f_value` varchar(256) DEFAULT NULL,
  `f_updated` timestamp NOT NULL DEFAULT current_timestamp(),
  `f_author` varchar(100) NOT NULL DEFAULT '',
  `f_op` varchar(8) NOT NULL,
  `f_cksum` varchar(64) GENERATED ALWAYS AS (md5(concat(`f_table`,`f_field`,`f_value`,`f_op`))) STORED,
  `f_label` varchar(512) GENERATED ALWAYS AS (concat(`f_table`,'.',`f_field`,' ',`f_op`,' ',`f_value`)) STORED,
  PRIMARY KEY (`id`),
  UNIQUE KEY `idx1` (`f_cksum`)
) ENGINE=InnoDB AUTO_INCREMENT=227 DEFAULT CHARSET=utf8 COLLATE=utf8_general_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `gen_filterset_check_threshold`
--

DROP TABLE IF EXISTS `gen_filterset_check_threshold`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `gen_filterset_check_threshold` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `fset_id` int(11) NOT NULL,
  `chk_type` varchar(10) NOT NULL,
  `chk_low` int(11) NOT NULL,
  `chk_high` int(11) NOT NULL,
  `chk_instance` varchar(60) NOT NULL,
  PRIMARY KEY (`id`),
  KEY `idx1` (`fset_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_general_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `gen_filterset_team_responsible`
--

DROP TABLE IF EXISTS `gen_filterset_team_responsible`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `gen_filterset_team_responsible` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `fset_id` int(11) NOT NULL,
  `group_id` int(11) NOT NULL,
  PRIMARY KEY (`id`),
  KEY `idx1` (`fset_id`),
  KEY `gen_filterset_team_responsible_fk2` (`group_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_general_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `gen_filterset_user`
--

DROP TABLE IF EXISTS `gen_filterset_user`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `gen_filterset_user` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `fset_id` int(11) NOT NULL,
  `user_id` int(11) NOT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `idx1` (`fset_id`,`user_id`),
  KEY `gen_filterset_user_fk2` (`user_id`)
) ENGINE=InnoDB AUTO_INCREMENT=937 DEFAULT CHARSET=utf8 COLLATE=utf8_general_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `gen_filtersets`
--

DROP TABLE IF EXISTS `gen_filtersets`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `gen_filtersets` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `fset_name` varchar(100) DEFAULT '',
  `fset_updated` timestamp NOT NULL DEFAULT current_timestamp(),
  `fset_author` varchar(100) NOT NULL DEFAULT '',
  `fset_stats` varchar(1) DEFAULT 'F',
  PRIMARY KEY (`id`),
  UNIQUE KEY `idx1` (`fset_name`)
) ENGINE=InnoDB AUTO_INCREMENT=280 DEFAULT CHARSET=utf8 COLLATE=utf8_general_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `gen_filtersets_filters`
--

DROP TABLE IF EXISTS `gen_filtersets_filters`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `gen_filtersets_filters` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `fset_id` int(11) NOT NULL,
  `f_id` int(11) NOT NULL,
  `f_log_op` varchar(8) NOT NULL,
  `encap_fset_id` int(11) DEFAULT NULL,
  `f_order` int(11) DEFAULT 0,
  PRIMARY KEY (`id`),
  KEY `idx_fset_id` (`fset_id`)
) ENGINE=InnoDB AUTO_INCREMENT=628 DEFAULT CHARSET=utf8 COLLATE=utf8_general_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `group_hidden_menu_entries`
--

DROP TABLE IF EXISTS `group_hidden_menu_entries`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `group_hidden_menu_entries` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `group_id` int(11) NOT NULL,
  `menu_entry` varchar(32) DEFAULT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `index_1` (`group_id`,`menu_entry`)
) ENGINE=InnoDB AUTO_INCREMENT=106 DEFAULT CHARSET=utf8 COLLATE=utf8_general_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `im_types`
--

DROP TABLE IF EXISTS `im_types`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `im_types` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `im_type` varchar(64) NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=utf8 COLLATE=utf8_general_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `lifecycle_os`
--

DROP TABLE IF EXISTS `lifecycle_os`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `lifecycle_os` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `lc_os_concat` varchar(100) NOT NULL,
  `lc_count` int(11) NOT NULL,
  `lc_date` date NOT NULL,
  `lc_os_name` varchar(60) DEFAULT NULL,
  `lc_os_vendor` varchar(60) DEFAULT NULL,
  `fset_id` int(11) DEFAULT 0,
  PRIMARY KEY (`id`),
  UNIQUE KEY `lifecycle_os_uk1` (`lc_os_concat`,`lc_date`,`fset_id`)
) ENGINE=InnoDB AUTO_INCREMENT=4766801 DEFAULT CHARSET=utf8 COLLATE=utf8_general_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `links`
--

DROP TABLE IF EXISTS `links`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `links` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `link_function` varchar(255) DEFAULT NULL,
  `link_parameters` text DEFAULT NULL,
  `link_creation_user_id` int(11) DEFAULT NULL,
  `link_creation_date` datetime NOT NULL,
  `link_last_consultation_date` datetime NOT NULL,
  `link_md5` varchar(32) DEFAULT NULL,
  `link_access_counter` int(10) DEFAULT 0,
  `link_title` varchar(255) DEFAULT NULL,
  `link_title_args` text DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `idx1` (`link_md5`)
) ENGINE=InnoDB AUTO_INCREMENT=115 DEFAULT CHARSET=utf8 COLLATE=utf8_general_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `log`
--

DROP TABLE IF EXISTS `log`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `log` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `log_action` varchar(100) NOT NULL,
  `log_user` varchar(100) NOT NULL,
  `log_fmt` varchar(200) DEFAULT NULL,
  `log_dict` text DEFAULT NULL,
  `log_date` timestamp NOT NULL DEFAULT current_timestamp(),
  `svc_id` char(36) CHARACTER SET ascii COLLATE ascii_general_ci DEFAULT '',
  `log_gtalk_sent` tinyint(1) DEFAULT 0,
  `log_email_sent` tinyint(1) DEFAULT 0,
  `log_entry_id` varchar(32) DEFAULT NULL,
  `log_level` enum('debug','info','warning','error','critical') DEFAULT 'info',
  `node_id` char(36) CHARACTER SET ascii COLLATE ascii_general_ci DEFAULT '',
  PRIMARY KEY (`id`),
  KEY `idx6` (`log_date`),
  KEY `k_node_id` (`node_id`),
  KEY `k_svc_id` (`svc_id`)
) ENGINE=InnoDB AUTO_INCREMENT=3365030 DEFAULT CHARSET=utf8 COLLATE=utf8_general_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `metric_team_publication`
--

DROP TABLE IF EXISTS `metric_team_publication`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `metric_team_publication` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `metric_id` int(11) NOT NULL,
  `group_id` int(11) NOT NULL,
  PRIMARY KEY (`id`),
  KEY `idx1` (`metric_id`),
  KEY `idx2` (`group_id`)
) ENGINE=InnoDB AUTO_INCREMENT=83 DEFAULT CHARSET=utf8 COLLATE=utf8_general_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `metrics`
--

DROP TABLE IF EXISTS `metrics`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `metrics` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `metric_name` varchar(100) NOT NULL,
  `metric_sql` text DEFAULT NULL,
  `metric_author` varchar(100) DEFAULT NULL,
  `metric_created` timestamp NOT NULL DEFAULT current_timestamp() ON UPDATE current_timestamp(),
  `metric_col_value_index` int(11) DEFAULT 0,
  `metric_col_instance_index` int(11) DEFAULT NULL,
  `metric_col_instance_label` varchar(100) DEFAULT NULL,
  `metric_historize` varchar(1) DEFAULT 'F',
  PRIMARY KEY (`id`),
  UNIQUE KEY `idx1` (`metric_name`)
) ENGINE=InnoDB AUTO_INCREMENT=183 DEFAULT CHARSET=utf8 COLLATE=utf8_general_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `network_segment_responsibles`
--

DROP TABLE IF EXISTS `network_segment_responsibles`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `network_segment_responsibles` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `seg_id` int(11) DEFAULT NULL,
  `group_id` int(11) DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `network_segment_responsibles_fk1` (`seg_id`),
  KEY `network_segment_responsibles_fk2` (`group_id`)
) ENGINE=InnoDB AUTO_INCREMENT=12 DEFAULT CHARSET=utf8 COLLATE=utf8_general_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `network_segments`
--

DROP TABLE IF EXISTS `network_segments`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `network_segments` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `net_id` int(11) DEFAULT NULL,
  `seg_type` enum('dynamic','static') DEFAULT 'static',
  `seg_begin` varchar(40) DEFAULT NULL,
  `seg_end` varchar(40) DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `network_segments_fk1` (`net_id`)
) ENGINE=InnoDB AUTO_INCREMENT=20 DEFAULT CHARSET=utf8 COLLATE=utf8_general_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `networks`
--

DROP TABLE IF EXISTS `networks`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `networks` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `name` varchar(255) DEFAULT NULL,
  `network` varchar(40) DEFAULT NULL,
  `netmask` smallint(5) unsigned DEFAULT NULL,
  `team_responsible` varchar(255) DEFAULT NULL,
  `comment` text DEFAULT NULL,
  `pvid` int(11) DEFAULT NULL,
  `gateway` varchar(40) DEFAULT NULL,
  `end` varchar(16) GENERATED ALWAYS AS (inet_ntoa(inet_aton(`network`) + pow(2,32 - `netmask`) - 2)) STORED,
  `broadcast` varchar(16) GENERATED ALWAYS AS (inet_ntoa(inet_aton(`network`) + pow(2,32 - `netmask`) - 1)) STORED,
  `begin` varchar(16) GENERATED ALWAYS AS (inet_ntoa(inet_aton(`network`) + 1)) STORED,
  `updated` timestamp NOT NULL DEFAULT current_timestamp() ON UPDATE current_timestamp(),
  `prio` int(11) NOT NULL DEFAULT 0,
  PRIMARY KEY (`id`),
  UNIQUE KEY `idx1` (`name`),
  UNIQUE KEY `idx2` (`network`,`netmask`),
  KEY `idx3` (`prio`)
) ENGINE=InnoDB AUTO_INCREMENT=2189 DEFAULT CHARSET=utf8 COLLATE=utf8_general_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `node_groups`
--

DROP TABLE IF EXISTS `node_groups`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `node_groups` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `group_name` varchar(255) NOT NULL,
  `group_id` bigint(20) DEFAULT NULL,
  `updated` timestamp NOT NULL DEFAULT current_timestamp(),
  `node_id` char(36) CHARACTER SET ascii COLLATE ascii_general_ci DEFAULT '',
  PRIMARY KEY (`id`),
  UNIQUE KEY `index_1` (`node_id`,`group_name`,`group_id`),
  KEY `k_node_id` (`node_id`),
  KEY `k_purge` (`node_id`,`updated`)
) ENGINE=InnoDB AUTO_INCREMENT=16312510 DEFAULT CHARSET=utf8 COLLATE=utf8_general_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `node_hba`
--

DROP TABLE IF EXISTS `node_hba`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `node_hba` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `updated` datetime NOT NULL,
  `hba_id` varchar(60) NOT NULL,
  `hba_type` varchar(5) DEFAULT NULL,
  `node_id` char(36) CHARACTER SET ascii COLLATE ascii_general_ci DEFAULT '',
  PRIMARY KEY (`id`),
  UNIQUE KEY `index_1` (`node_id`,`hba_id`),
  KEY `k_node_id` (`node_id`)
) ENGINE=InnoDB AUTO_INCREMENT=1238 DEFAULT CHARSET=utf8 COLLATE=utf8_general_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `node_hw`
--

DROP TABLE IF EXISTS `node_hw`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `node_hw` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `node_id` char(36) CHARACTER SET ascii COLLATE ascii_general_ci DEFAULT '',
  `hw_type` varchar(16) DEFAULT NULL,
  `hw_path` varchar(32) NOT NULL,
  `hw_class` varchar(128) NOT NULL,
  `hw_description` varchar(128) NOT NULL,
  `hw_driver` varchar(32) NOT NULL,
  `updated` datetime NOT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `node_id` (`node_id`,`hw_type`,`hw_path`)
) ENGINE=InnoDB AUTO_INCREMENT=65115 DEFAULT CHARSET=utf8 COLLATE=utf8_general_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `node_ip`
--

DROP TABLE IF EXISTS `node_ip`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `node_ip` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `mac` varchar(17) NOT NULL,
  `intf` varchar(128) DEFAULT NULL,
  `type` enum('ipv4','ipv6') DEFAULT 'ipv4',
  `addr` varchar(128) DEFAULT '',
  `mask` varchar(64) DEFAULT '',
  `updated` datetime NOT NULL,
  `flag_deprecated` varchar(1) DEFAULT 'F',
  `node_id` char(36) CHARACTER SET ascii COLLATE ascii_general_ci DEFAULT '',
  PRIMARY KEY (`id`),
  KEY `idx2` (`addr`),
  KEY `k_node_id` (`node_id`)
) ENGINE=InnoDB AUTO_INCREMENT=5564353 DEFAULT CHARSET=utf8 COLLATE=utf8_general_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `node_pw`
--

DROP TABLE IF EXISTS `node_pw`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `node_pw` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `pw` blob NOT NULL,
  `updated` timestamp NOT NULL DEFAULT current_timestamp(),
  `node_id` char(36) CHARACTER SET ascii COLLATE ascii_general_ci DEFAULT '',
  PRIMARY KEY (`id`),
  UNIQUE KEY `k_node_id` (`node_id`)
) ENGINE=InnoDB AUTO_INCREMENT=392 DEFAULT CHARSET=utf8 COLLATE=utf8_general_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `node_tags`
--

DROP TABLE IF EXISTS `node_tags`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `node_tags` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `created` timestamp NOT NULL DEFAULT current_timestamp(),
  `node_id` char(36) CHARACTER SET ascii COLLATE ascii_general_ci DEFAULT '',
  `tag_id` char(40) DEFAULT NULL,
  `tag_attach_data` text DEFAULT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `tag_bind` (`node_id`,`tag_id`),
  KEY `k_node_id` (`node_id`)
) ENGINE=InnoDB AUTO_INCREMENT=104 DEFAULT CHARSET=utf8 COLLATE=utf8_general_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `node_users`
--

DROP TABLE IF EXISTS `node_users`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `node_users` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `user_name` varchar(255) NOT NULL,
  `user_id` bigint(20) DEFAULT NULL,
  `updated` timestamp NOT NULL DEFAULT current_timestamp(),
  `node_id` char(36) CHARACTER SET ascii COLLATE ascii_general_ci DEFAULT '',
  PRIMARY KEY (`id`),
  UNIQUE KEY `index_1` (`node_id`,`user_name`,`user_id`),
  KEY `k_node_id` (`node_id`),
  KEY `k_purge` (`node_id`,`updated`)
) ENGINE=InnoDB AUTO_INCREMENT=15293272 DEFAULT CHARSET=utf8 COLLATE=utf8_general_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `nodes`
--

DROP TABLE IF EXISTS `nodes`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `nodes` (
  `nodename` varchar(256) DEFAULT NULL,
  `loc_country` varchar(256) DEFAULT NULL,
  `loc_city` varchar(256) DEFAULT NULL,
  `loc_addr` varchar(256) DEFAULT NULL,
  `loc_building` varchar(256) DEFAULT NULL,
  `loc_floor` varchar(256) DEFAULT NULL,
  `loc_room` varchar(256) DEFAULT NULL,
  `loc_rack` varchar(256) DEFAULT NULL,
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `cpu_freq` int(11) DEFAULT NULL,
  `cpu_cores` int(11) DEFAULT NULL,
  `cpu_dies` int(11) DEFAULT NULL,
  `cpu_vendor` varchar(256) DEFAULT NULL,
  `cpu_model` varchar(256) DEFAULT NULL,
  `mem_banks` int(11) DEFAULT NULL,
  `mem_slots` int(11) DEFAULT NULL,
  `mem_bytes` int(11) DEFAULT NULL,
  `os_name` varchar(256) DEFAULT NULL,
  `os_release` varchar(256) DEFAULT NULL,
  `os_update` varchar(10) DEFAULT NULL,
  `os_segment` varchar(10) DEFAULT NULL,
  `os_arch` varchar(256) DEFAULT NULL,
  `os_vendor` varchar(256) DEFAULT NULL,
  `os_kernel` varchar(256) DEFAULT NULL,
  `loc_zip` varchar(256) DEFAULT NULL,
  `team_responsible` varchar(256) DEFAULT NULL,
  `serial` varchar(256) DEFAULT NULL,
  `model` varchar(256) DEFAULT NULL,
  `type` varchar(256) DEFAULT NULL,
  `warranty_end` datetime(3) DEFAULT NULL,
  `status` varchar(256) DEFAULT NULL,
  `role` varchar(256) DEFAULT NULL,
  `asset_env` varchar(256) DEFAULT NULL,
  `power_cabinet1` varchar(256) DEFAULT NULL,
  `power_cabinet2` varchar(256) DEFAULT NULL,
  `power_supply_nb` int(11) DEFAULT NULL,
  `power_protect` varchar(256) DEFAULT NULL,
  `power_protect_breaker` varchar(256) DEFAULT NULL,
  `power_breaker1` varchar(256) DEFAULT NULL,
  `power_breaker2` varchar(256) DEFAULT NULL,
  `blade_cabinet` varchar(20) DEFAULT NULL,
  `updated` datetime(3) DEFAULT NULL,
  `team_integ` varchar(256) DEFAULT NULL,
  `app` varchar(256) DEFAULT NULL,
  `team_support` varchar(256) DEFAULT NULL,
  `node_env` varchar(256) DEFAULT 'TST',
  `maintenance_end` datetime(3) DEFAULT NULL,
  `enclosure` varchar(256) DEFAULT NULL,
  `hw_obs_warn_date` datetime(3) DEFAULT NULL,
  `hw_obs_alert_date` datetime(3) DEFAULT NULL,
  `os_obs_warn_date` datetime(3) DEFAULT NULL,
  `os_obs_alert_date` datetime(3) DEFAULT NULL,
  `fqdn` varchar(256) DEFAULT NULL,
  `listener_port` bigint(20) DEFAULT 1214,
  `version` varchar(256) DEFAULT NULL,
  `hvpool` varchar(256) DEFAULT NULL,
  `hv` varchar(256) DEFAULT NULL,
  `hvvdc` varchar(256) DEFAULT NULL,
  `cpu_threads` int(11) DEFAULT NULL,
  `assetname` varchar(256) DEFAULT NULL,
  `enclosureslot` varchar(256) DEFAULT NULL,
  `sec_zone` varchar(256) DEFAULT NULL,
  `last_boot` datetime DEFAULT NULL,
  `action_type` enum('push','pull') DEFAULT 'pull',
  `os_concat` varchar(140) GENERATED ALWAYS AS (concat_ws(' ',`os_name`,`os_vendor`,`os_release`,`os_update`)) STORED,
  `connect_to` varchar(256) DEFAULT NULL,
  `tz` varchar(256) DEFAULT NULL,
  `node_id` char(36) CHARACTER SET ascii COLLATE ascii_general_ci DEFAULT '',
  `collector` varchar(256) DEFAULT NULL,
  `sp_version` varchar(256) DEFAULT NULL,
  `bios_version` varchar(256) DEFAULT NULL,
  `last_comm` datetime(3) DEFAULT NULL,
  `manufacturer` varchar(256) DEFAULT NULL,
  `notifications` varchar(1) DEFAULT 'T',
  `snooze_till` datetime(3) DEFAULT NULL,
  `cluster_id` char(36) CHARACTER SET ascii COLLATE ascii_general_ci DEFAULT '',
  `node_frozen` varchar(1) DEFAULT 'F',
  PRIMARY KEY (`id`),
  UNIQUE KEY `k_node_id` (`node_id`),
  UNIQUE KEY `idx_nodes_node_id` (`node_id`),
  UNIQUE KEY `ns` (`nodename`,`app`),
  KEY `idx_os_name` (`os_name`),
  KEY `idx_os_release` (`os_release`),
  KEY `idx_os_vendor` (`os_vendor`),
  KEY `idx_team_responsible` (`team_responsible`),
  KEY `idx_model` (`model`),
  KEY `idx_arch` (`os_arch`),
  KEY `idx_os_concat` (`os_concat`),
  KEY `nodename_1` (`nodename`),
  KEY `idx_pivot_os_name` (`node_id`,`os_name`),
  KEY `k_cluster_id` (`cluster_id`)
) ENGINE=InnoDB AUTO_INCREMENT=1139882 DEFAULT CHARSET=utf8 COLLATE=utf8_general_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `obsolescence`
--

DROP TABLE IF EXISTS `obsolescence`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `obsolescence` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `obs_type` varchar(30) NOT NULL,
  `obs_name` varchar(100) NOT NULL,
  `obs_warn_date` datetime DEFAULT NULL,
  `obs_alert_date` datetime DEFAULT NULL,
  `obs_warn_date_updated_by` varchar(100) NOT NULL,
  `obs_alert_date_updated_by` varchar(100) NOT NULL,
  `obs_warn_date_updated` datetime NOT NULL,
  `obs_alert_date_updated` datetime NOT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `obs_1` (`obs_type`,`obs_name`)
) ENGINE=InnoDB AUTO_INCREMENT=2549 DEFAULT CHARSET=latin1 COLLATE=latin1_swedish_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `packages`
--

DROP TABLE IF EXISTS `packages`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `packages` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `pkg_name` varchar(100) NOT NULL,
  `pkg_version` varchar(64) NOT NULL,
  `pkg_arch` varchar(8) NOT NULL,
  `pkg_updated` timestamp NOT NULL DEFAULT current_timestamp(),
  `pkg_type` varchar(7) DEFAULT '',
  `pkg_install_date` datetime DEFAULT NULL,
  `pkg_sig` varchar(16) DEFAULT NULL,
  `node_id` char(36) CHARACTER SET ascii COLLATE ascii_general_ci DEFAULT '',
  PRIMARY KEY (`id`),
  UNIQUE KEY `idx3` (`node_id`,`pkg_name`,`pkg_arch`,`pkg_version`,`pkg_type`),
  KEY `idx2` (`pkg_version`),
  KEY `idx_pkg_updated` (`pkg_updated`)
) ENGINE=InnoDB AUTO_INCREMENT=4741451 DEFAULT CHARSET=utf8 COLLATE=utf8_general_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `patches`
--

DROP TABLE IF EXISTS `patches`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `patches` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `patch_num` varchar(100) NOT NULL,
  `patch_rev` varchar(32) NOT NULL,
  `patch_updated` timestamp NOT NULL DEFAULT current_timestamp(),
  `patch_install_date` datetime DEFAULT NULL,
  `node_id` char(36) CHARACTER SET ascii COLLATE ascii_general_ci DEFAULT '',
  PRIMARY KEY (`id`),
  UNIQUE KEY `idx3` (`node_id`,`patch_num`,`patch_rev`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_general_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `pkg_sig_provider`
--

DROP TABLE IF EXISTS `pkg_sig_provider`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `pkg_sig_provider` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `sig_id` varchar(16) NOT NULL,
  `sig_provider` varchar(32) NOT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `index_1` (`sig_id`)
) ENGINE=InnoDB AUTO_INCREMENT=57 DEFAULT CHARSET=utf8 COLLATE=utf8_general_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `prov_template_team_publication`
--

DROP TABLE IF EXISTS `prov_template_team_publication`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `prov_template_team_publication` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `tpl_id` int(11) NOT NULL,
  `group_id` int(11) NOT NULL,
  PRIMARY KEY (`id`),
  KEY `idx1` (`tpl_id`),
  KEY `idx2` (`group_id`)
) ENGINE=InnoDB AUTO_INCREMENT=19 DEFAULT CHARSET=utf8 COLLATE=utf8_general_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `prov_template_team_responsible`
--

DROP TABLE IF EXISTS `prov_template_team_responsible`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `prov_template_team_responsible` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `tpl_id` int(11) NOT NULL,
  `group_id` int(11) NOT NULL,
  PRIMARY KEY (`id`),
  KEY `idx1` (`tpl_id`),
  KEY `idx2` (`group_id`)
) ENGINE=InnoDB AUTO_INCREMENT=38 DEFAULT CHARSET=utf8 COLLATE=utf8_general_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `prov_templates`
--

DROP TABLE IF EXISTS `prov_templates`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `prov_templates` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `tpl_name` varchar(100) NOT NULL,
  `tpl_definition` mediumtext DEFAULT NULL,
  `tpl_comment` text NOT NULL,
  `tpl_author` varchar(100) NOT NULL,
  `tpl_created` timestamp NOT NULL DEFAULT current_timestamp(),
  PRIMARY KEY (`id`),
  UNIQUE KEY `idx1` (`tpl_name`)
) ENGINE=InnoDB AUTO_INCREMENT=26 DEFAULT CHARSET=utf8 COLLATE=utf8_general_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `replication_status`
--

DROP TABLE IF EXISTS `replication_status`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `replication_status` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `remote` varchar(192) NOT NULL,
  `mode` enum('push','pull') DEFAULT 'push',
  `table_schema` varchar(192) NOT NULL,
  `table_name` varchar(192) NOT NULL,
  `table_cksum` varchar(32) NOT NULL,
  `table_updated` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `index_1` (`remote`,`mode`,`table_schema`,`table_name`)
) ENGINE=InnoDB AUTO_INCREMENT=1581 DEFAULT CHARSET=utf8 COLLATE=utf8_general_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `report_team_publication`
--

DROP TABLE IF EXISTS `report_team_publication`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `report_team_publication` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `report_id` int(11) NOT NULL,
  `group_id` int(11) NOT NULL,
  PRIMARY KEY (`id`),
  KEY `idx1` (`report_id`),
  KEY `idx2` (`group_id`)
) ENGINE=InnoDB AUTO_INCREMENT=15 DEFAULT CHARSET=utf8 COLLATE=utf8_general_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `report_team_responsible`
--

DROP TABLE IF EXISTS `report_team_responsible`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `report_team_responsible` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `report_id` int(11) NOT NULL,
  `group_id` int(11) NOT NULL,
  PRIMARY KEY (`id`),
  KEY `idx1` (`report_id`),
  KEY `idx2` (`group_id`)
) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=utf8 COLLATE=utf8_general_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `reports`
--

DROP TABLE IF EXISTS `reports`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `reports` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `report_name` varchar(100) NOT NULL,
  `report_yaml` text DEFAULT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `report_name` (`report_name`)
) ENGINE=InnoDB AUTO_INCREMENT=24 DEFAULT CHARSET=utf8 COLLATE=utf8_general_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `reports_user`
--

DROP TABLE IF EXISTS `reports_user`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `reports_user` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `report_id` int(11) NOT NULL,
  `user_id` int(11) NOT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `report_user_uk1` (`user_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_general_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `resinfo`
--

DROP TABLE IF EXISTS `resinfo`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `resinfo` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `rid` varchar(255) CHARACTER SET utf8 COLLATE utf8_bin DEFAULT NULL,
  `res_key` varchar(40) DEFAULT '',
  `res_value` varchar(255) DEFAULT NULL,
  `updated` timestamp NOT NULL DEFAULT current_timestamp(),
  `topology` varchar(20) DEFAULT 'failover',
  `node_id` char(36) CHARACTER SET ascii COLLATE ascii_general_ci DEFAULT '',
  `svc_id` char(36) CHARACTER SET ascii COLLATE ascii_general_ci DEFAULT '',
  PRIMARY KEY (`id`),
  UNIQUE KEY `uk` (`node_id`,`svc_id`,`rid`,`res_key`),
  KEY `k_node_id` (`node_id`),
  KEY `k_svc_id` (`svc_id`)
) ENGINE=InnoDB AUTO_INCREMENT=69037030 DEFAULT CHARSET=utf8 COLLATE=utf8_general_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `resmon`
--

DROP TABLE IF EXISTS `resmon`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `resmon` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `rid` varchar(255) CHARACTER SET utf8 COLLATE utf8_bin DEFAULT NULL,
  `res_status` enum('up','down','warn','n/a','undef','stdby up','stdby down') DEFAULT 'undef',
  `changed` timestamp NOT NULL DEFAULT current_timestamp(),
  `updated` timestamp NOT NULL DEFAULT '0000-00-00 00:00:00',
  `res_desc` text DEFAULT NULL,
  `res_log` text DEFAULT NULL,
  `vmname` varchar(60) DEFAULT '',
  `res_monitor` varchar(1) DEFAULT NULL,
  `res_disable` varchar(1) DEFAULT NULL,
  `res_optional` varchar(1) DEFAULT NULL,
  `res_type` varchar(16) DEFAULT NULL,
  `node_id` char(36) CHARACTER SET ascii COLLATE ascii_general_ci DEFAULT '',
  `svc_id` char(36) CHARACTER SET ascii COLLATE ascii_general_ci DEFAULT '',
  PRIMARY KEY (`id`),
  UNIQUE KEY `uk_resmon_1` (`svc_id`,`node_id`,`vmname`,`rid`),
  KEY `resmon_updated` (`updated`),
  KEY `k_node_id` (`node_id`),
  KEY `k_svc_id` (`svc_id`),
  KEY `idx_node_id_updated` (`node_id`,`updated`)
) ENGINE=InnoDB AUTO_INCREMENT=25229213 DEFAULT CHARSET=utf8 COLLATE=utf8_general_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `resmon_log`
--

DROP TABLE IF EXISTS `resmon_log`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `resmon_log` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `node_id` char(36) CHARACTER SET ascii COLLATE ascii_general_ci DEFAULT '',
  `svc_id` char(36) CHARACTER SET ascii COLLATE ascii_general_ci DEFAULT '',
  `rid` varchar(255) CHARACTER SET utf8 COLLATE utf8_bin DEFAULT NULL,
  `res_status` enum('up','down','warn','n/a','undef','stdby up','stdby down') DEFAULT 'undef',
  `res_begin` datetime NOT NULL,
  `res_end` datetime NOT NULL,
  `res_log` text DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `idx1` (`node_id`,`svc_id`,`rid`),
  KEY `idx_res_end` (`res_end`)
) ENGINE=InnoDB AUTO_INCREMENT=532197 DEFAULT CHARSET=utf8 COLLATE=utf8_general_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `resmon_log_last`
--

DROP TABLE IF EXISTS `resmon_log_last`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `resmon_log_last` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `node_id` char(36) CHARACTER SET ascii COLLATE ascii_general_ci DEFAULT '',
  `svc_id` char(36) CHARACTER SET ascii COLLATE ascii_general_ci DEFAULT '',
  `rid` varchar(255) CHARACTER SET utf8 COLLATE utf8_bin DEFAULT NULL,
  `res_status` enum('up','down','warn','n/a','undef','stdby up','stdby down') DEFAULT 'undef',
  `res_begin` datetime NOT NULL,
  `res_end` datetime NOT NULL,
  `res_log` text DEFAULT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `uk` (`node_id`,`svc_id`,`rid`),
  KEY `idx1` (`node_id`,`svc_id`)
) ENGINE=InnoDB AUTO_INCREMENT=12350 DEFAULT CHARSET=utf8 COLLATE=utf8_general_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `safe`
--

DROP TABLE IF EXISTS `safe`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `safe` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `uploader` int(11) DEFAULT NULL,
  `uploaded_from` varchar(512) DEFAULT NULL,
  `uploaded_date` datetime NOT NULL,
  `name` varchar(512) DEFAULT NULL,
  `size` int(11) DEFAULT NULL,
  `uuid` varchar(512) DEFAULT NULL,
  `md5` char(32) DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `idx1` (`uuid`(255))
) ENGINE=InnoDB AUTO_INCREMENT=95 DEFAULT CHARSET=utf8 COLLATE=utf8_general_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `safe_log`
--

DROP TABLE IF EXISTS `safe_log`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `safe_log` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `safe_id` int(11) NOT NULL,
  `uuid` varchar(512) NOT NULL,
  `archived` timestamp NOT NULL DEFAULT current_timestamp(),
  PRIMARY KEY (`id`),
  UNIQUE KEY `uk` (`safe_id`,`uuid`)
) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=utf8 COLLATE=utf8_general_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `safe_team_publication`
--

DROP TABLE IF EXISTS `safe_team_publication`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `safe_team_publication` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `file_id` int(11) NOT NULL,
  `group_id` int(11) NOT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `idx3` (`file_id`,`group_id`),
  KEY `idx1` (`file_id`),
  KEY `idx2` (`group_id`)
) ENGINE=InnoDB AUTO_INCREMENT=82 DEFAULT CHARSET=utf8 COLLATE=utf8_general_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `safe_team_responsible`
--

DROP TABLE IF EXISTS `safe_team_responsible`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `safe_team_responsible` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `file_id` int(11) NOT NULL,
  `group_id` int(11) NOT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `idx3` (`file_id`,`group_id`),
  KEY `idx1` (`file_id`),
  KEY `idx2` (`group_id`)
) ENGINE=InnoDB AUTO_INCREMENT=57 DEFAULT CHARSET=utf8 COLLATE=utf8_general_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `san_zone`
--

DROP TABLE IF EXISTS `san_zone`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `san_zone` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `cfg` varchar(128) DEFAULT '',
  `zone` varchar(128) DEFAULT '',
  `port` varchar(16) DEFAULT '',
  `updated` datetime NOT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `idx1` (`cfg`,`zone`,`port`)
) ENGINE=InnoDB AUTO_INCREMENT=244815787 DEFAULT CHARSET=utf8 COLLATE=utf8_general_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `san_zone_alias`
--

DROP TABLE IF EXISTS `san_zone_alias`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `san_zone_alias` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `cfg` varchar(128) DEFAULT '',
  `alias` varchar(128) DEFAULT '',
  `port` varchar(16) DEFAULT '',
  `updated` datetime NOT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `idx1` (`cfg`,`alias`,`port`)
) ENGINE=InnoDB AUTO_INCREMENT=65585205 DEFAULT CHARSET=utf8 COLLATE=utf8_general_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `saves`
--

DROP TABLE IF EXISTS `saves`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `saves` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `save_name` varchar(200) NOT NULL,
  `save_group` varchar(100) NOT NULL,
  `save_size` bigint(20) DEFAULT NULL,
  `save_date` datetime NOT NULL,
  `save_retention` datetime NOT NULL,
  `save_volume` varchar(64) NOT NULL,
  `save_level` varchar(8) NOT NULL,
  `save_server` varchar(60) NOT NULL,
  `save_app` varchar(64) DEFAULT NULL,
  `save_id` varchar(64) DEFAULT NULL,
  `chk_instance` varchar(100) GENERATED ALWAYS AS (if(substr(`save_name`,1,4) = 'RMAN',substring_index(`save_name`,'_',1),`save_name`)) STORED,
  `save_resolved` varchar(1) GENERATED ALWAYS AS (octet_length(`node_id`) <> 36) STORED,
  `node_id` char(36) CHARACTER SET ascii COLLATE ascii_general_ci DEFAULT '',
  `svc_id` char(36) CHARACTER SET ascii COLLATE ascii_general_ci DEFAULT '',
  PRIMARY KEY (`id`),
  UNIQUE KEY `idx1` (`save_server`,`save_id`,`save_volume`),
  KEY `idx_save_retention` (`save_retention`),
  KEY `idx_save_date` (`save_date`),
  KEY `idx_save_name` (`save_name`),
  KEY `k_node_id` (`node_id`),
  KEY `k_svc_id` (`svc_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_general_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `saves_last`
--

DROP TABLE IF EXISTS `saves_last`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `saves_last` (
  `id` int(11) NOT NULL DEFAULT 0,
  `save_name` varchar(200) NOT NULL,
  `save_group` varchar(100) NOT NULL,
  `save_size` bigint(20) DEFAULT NULL,
  `save_date` datetime NOT NULL,
  `save_retention` datetime NOT NULL,
  `save_volume` varchar(64) NOT NULL,
  `save_level` varchar(8) NOT NULL,
  `save_server` varchar(60) NOT NULL,
  `save_app` varchar(64) DEFAULT NULL,
  `save_id` varchar(64) DEFAULT NULL,
  `chk_instance` varchar(100) DEFAULT NULL,
  `save_resolved` varchar(1) DEFAULT NULL,
  `node_id` char(36) CHARACTER SET ascii COLLATE ascii_general_ci DEFAULT '',
  `svc_id` char(36) CHARACTER SET ascii COLLATE ascii_general_ci DEFAULT '',
  KEY `k_node_id` (`node_id`),
  KEY `k_svc_id` (`svc_id`),
  KEY `idx2` (`node_id`,`svc_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_general_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `scheduler_run`
--

DROP TABLE IF EXISTS `scheduler_run`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `scheduler_run` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `task_id` int(11) DEFAULT NULL,
  `start_time` datetime DEFAULT NULL,
  `stop_time` datetime DEFAULT NULL,
  `run_output` longtext DEFAULT NULL,
  `run_result` longtext DEFAULT NULL,
  `traceback` longtext DEFAULT NULL,
  `status` varchar(512) DEFAULT NULL,
  `worker_name` varchar(512) DEFAULT NULL,
  `duration` int(11) GENERATED ALWAYS AS (timediff(`stop_time`,`start_time`)) STORED,
  PRIMARY KEY (`id`),
  KEY `task_id__idx` (`task_id`)
) ENGINE=InnoDB AUTO_INCREMENT=794823 DEFAULT CHARSET=utf8 COLLATE=utf8_general_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `scheduler_task`
--

DROP TABLE IF EXISTS `scheduler_task`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `scheduler_task` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `uuid` varchar(255) DEFAULT NULL,
  `args` longtext DEFAULT NULL,
  `vars` longtext DEFAULT NULL,
  `enabled` char(1) DEFAULT NULL,
  `start_time` datetime DEFAULT NULL,
  `next_run_time` datetime DEFAULT NULL,
  `stop_time` datetime DEFAULT NULL,
  `repeats` int(11) DEFAULT NULL,
  `retry_failed` int(11) DEFAULT NULL,
  `period` int(11) DEFAULT NULL,
  `timeout` int(11) DEFAULT NULL,
  `sync_output` int(11) DEFAULT NULL,
  `times_run` int(11) DEFAULT NULL,
  `times_failed` int(11) DEFAULT NULL,
  `last_run_time` datetime DEFAULT NULL,
  `prevent_drift` char(1) DEFAULT NULL,
  `group_name` varchar(255) DEFAULT NULL,
  `function_name` varchar(255) DEFAULT NULL,
  `status` varchar(255) DEFAULT NULL,
  `task_name` varchar(255) DEFAULT NULL,
  `application_name` varchar(255) DEFAULT NULL,
  `assigned_worker_name` varchar(512) DEFAULT '',
  PRIMARY KEY (`id`),
  UNIQUE KEY `uuid` (`uuid`),
  KEY `idx_dispatch` (`assigned_worker_name`(255),`status`),
  KEY `idx_expire` (`status`,`stop_time`)
) ENGINE=InnoDB AUTO_INCREMENT=166 DEFAULT CHARSET=utf8 COLLATE=utf8_general_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `scheduler_task_deps`
--

DROP TABLE IF EXISTS `scheduler_task_deps`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `scheduler_task_deps` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `job_name` int(11) DEFAULT NULL,
  `task_parent` int(11) DEFAULT NULL,
  `task_child` int(11) DEFAULT NULL,
  `can_visit` varchar(1) DEFAULT 'F',
  PRIMARY KEY (`id`),
  KEY `idx1` (`task_parent`),
  KEY `idx2` (`task_child`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_general_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `scheduler_worker`
--

DROP TABLE IF EXISTS `scheduler_worker`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `scheduler_worker` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `worker_name` varchar(64) DEFAULT NULL,
  `first_heartbeat` datetime DEFAULT NULL,
  `last_heartbeat` datetime DEFAULT NULL,
  `is_ticker` char(1) DEFAULT NULL,
  `group_names` longtext DEFAULT NULL,
  `status` varchar(512) DEFAULT NULL,
  `worker_stats` longtext DEFAULT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `worker_name` (`worker_name`)
) ENGINE=InnoDB AUTO_INCREMENT=25525 DEFAULT CHARSET=utf8 COLLATE=utf8_general_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `services`
--

DROP TABLE IF EXISTS `services`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `services` (
  `svc_hostid` varchar(30) CHARACTER SET latin1 COLLATE latin1_swedish_ci DEFAULT NULL,
  `svcname` varchar(256) DEFAULT NULL,
  `svc_nodes` varchar(1000) CHARACTER SET latin1 COLLATE latin1_swedish_ci DEFAULT NULL,
  `svc_drpnode` varchar(30) CHARACTER SET latin1 COLLATE latin1_swedish_ci DEFAULT NULL,
  `svc_drptype` varchar(7) CHARACTER SET latin1 COLLATE latin1_swedish_ci DEFAULT NULL,
  `svc_autostart` varchar(60) CHARACTER SET latin1 COLLATE latin1_swedish_ci NOT NULL DEFAULT '',
  `svc_env` varchar(256) DEFAULT NULL,
  `svc_drpnodes` varchar(1000) CHARACTER SET latin1 COLLATE latin1_swedish_ci DEFAULT NULL,
  `svc_comment` varchar(1000) CHARACTER SET latin1 COLLATE latin1_swedish_ci DEFAULT NULL,
  `svc_app` varchar(256) DEFAULT NULL,
  `svc_drnoaction` varchar(1) CHARACTER SET latin1 COLLATE latin1_swedish_ci DEFAULT 'F',
  `svc_created` timestamp NOT NULL DEFAULT current_timestamp(),
  `svc_config_updated` datetime(3) DEFAULT NULL,
  `svc_metrocluster` varchar(10) CHARACTER SET latin1 COLLATE latin1_swedish_ci DEFAULT NULL,
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `svc_wave` varchar(10) CHARACTER SET latin1 COLLATE latin1_swedish_ci NOT NULL DEFAULT '3',
  `svc_config` mediumtext DEFAULT NULL,
  `updated` datetime(3) DEFAULT NULL,
  `svc_topology` varchar(256) DEFAULT NULL,
  `svc_flex_min_nodes` int(11) DEFAULT 1,
  `svc_flex_max_nodes` int(11) DEFAULT 0,
  `svc_flex_cpu_low_threshold` int(11) DEFAULT 0,
  `svc_flex_cpu_high_threshold` int(11) DEFAULT 100,
  `svc_status` varchar(10) CHARACTER SET latin1 COLLATE latin1_swedish_ci DEFAULT 'undef',
  `svc_availstatus` varchar(10) CHARACTER SET latin1 COLLATE latin1_swedish_ci DEFAULT 'undef',
  `svc_ha` tinyint(1) DEFAULT 0,
  `svc_status_updated` datetime DEFAULT NULL,
  `svc_id` char(36) CHARACTER SET ascii COLLATE ascii_general_ci DEFAULT '',
  `svc_frozen` varchar(6) DEFAULT NULL,
  `svc_provisioned` varchar(6) DEFAULT NULL,
  `svc_placement` varchar(12) DEFAULT NULL,
  `svc_notifications` varchar(1) DEFAULT 'T',
  `svc_snooze_till` datetime(3) DEFAULT NULL,
  `cluster_id` char(36) CHARACTER SET ascii COLLATE ascii_general_ci DEFAULT '',
  `svc_flex_target` int(11) DEFAULT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `k_svc_id` (`svc_id`),
  KEY `svc_hostid` (`svc_hostid`),
  KEY `svc_drpnode` (`svc_drpnode`),
  KEY `idx2` (`svc_topology`),
  KEY `services_svc_app` (`svc_app`),
  KEY `k_svc_name` (`svcname`),
  KEY `k_cluster_id` (`cluster_id`)
) ENGINE=InnoDB AUTO_INCREMENT=488306 DEFAULT CHARSET=utf8 COLLATE=utf8_general_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `services_log`
--

DROP TABLE IF EXISTS `services_log`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `services_log` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `svc_availstatus` varchar(10) NOT NULL,
  `svc_begin` datetime NOT NULL,
  `svc_end` datetime NOT NULL,
  `svc_id` char(36) CHARACTER SET ascii COLLATE ascii_general_ci DEFAULT '',
  PRIMARY KEY (`id`),
  KEY `k_svc_id` (`svc_id`),
  KEY `idx_svc_end` (`svc_end`)
) ENGINE=InnoDB AUTO_INCREMENT=644597 DEFAULT CHARSET=utf8 COLLATE=utf8_general_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `services_log_last`
--

DROP TABLE IF EXISTS `services_log_last`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `services_log_last` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `svc_availstatus` varchar(10) NOT NULL,
  `svc_begin` datetime NOT NULL,
  `svc_end` datetime NOT NULL,
  `svc_id` char(36) CHARACTER SET ascii COLLATE ascii_general_ci DEFAULT '',
  PRIMARY KEY (`id`),
  UNIQUE KEY `uk` (`svc_id`),
  KEY `k_svc_id` (`svc_id`)
) ENGINE=InnoDB AUTO_INCREMENT=2598 DEFAULT CHARSET=utf8 COLLATE=utf8_general_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `services_test`
--

DROP TABLE IF EXISTS `services_test`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `services_test` (
  `name` varchar(256) DEFAULT NULL,
  `app` varchar(256) DEFAULT NULL,
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `svc_id` char(36) CHARACTER SET ascii COLLATE ascii_general_ci DEFAULT uuid(),
  PRIMARY KEY (`id`),
  UNIQUE KEY `uk` (`name`,`app`)
) ENGINE=InnoDB AUTO_INCREMENT=488306 DEFAULT CHARSET=utf8 COLLATE=utf8_general_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `stat_day`
--

DROP TABLE IF EXISTS `stat_day`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `stat_day` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `day` datetime NOT NULL,
  `nb_svc` int(11) NOT NULL DEFAULT 0,
  `nb_action` int(11) NOT NULL DEFAULT 0,
  `nb_action_err` int(11) NOT NULL DEFAULT 0,
  `nb_action_warn` int(11) NOT NULL DEFAULT 0,
  `nb_action_ok` int(11) NOT NULL DEFAULT 0,
  `disk_size` int(11) NOT NULL DEFAULT 0,
  `ram_size` int(11) DEFAULT 0,
  `nb_cpu_core` int(11) DEFAULT 0,
  `nb_cpu_die` int(11) DEFAULT 0,
  `watt` int(11) DEFAULT 0,
  `rackunit` int(11) DEFAULT 0,
  `nb_apps` int(11) NOT NULL DEFAULT 0,
  `nb_accounts` int(11) NOT NULL DEFAULT 0,
  `nb_svc_with_drp` int(11) NOT NULL DEFAULT 0,
  `nb_nodes` int(11) NOT NULL DEFAULT 0,
  `nb_svc_prd` int(11) DEFAULT 0,
  `nb_svc_cluster` int(11) DEFAULT 0,
  `nb_nodes_prd` int(11) DEFAULT 0,
  `fset_id` int(11) DEFAULT 0,
  `nb_vcpu` int(11) DEFAULT 0,
  `nb_vmem` int(11) DEFAULT 0,
  `nb_resp_accounts` int(11) DEFAULT 0,
  `nb_virt_nodes` int(11) DEFAULT 0,
  `local_disk_size` int(11) NOT NULL DEFAULT 0,
  PRIMARY KEY (`id`),
  UNIQUE KEY `stat_day_uk1` (`day`,`fset_id`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1 COLLATE=latin1_swedish_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `stat_day_disk_app`
--

DROP TABLE IF EXISTS `stat_day_disk_app`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `stat_day_disk_app` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `day` datetime NOT NULL,
  `app` varchar(100) NOT NULL,
  `disk_used` int(11) DEFAULT 0,
  `quota` int(11) DEFAULT 0,
  PRIMARY KEY (`id`),
  UNIQUE KEY `new_index` (`day`,`app`)
) ENGINE=InnoDB AUTO_INCREMENT=10591 DEFAULT CHARSET=utf8 COLLATE=utf8_general_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `stat_day_disk_app_dg`
--

DROP TABLE IF EXISTS `stat_day_disk_app_dg`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `stat_day_disk_app_dg` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `day` datetime NOT NULL,
  `dg_id` int(11) NOT NULL,
  `app` varchar(100) NOT NULL,
  `disk_used` int(11) DEFAULT 0,
  `quota` int(11) DEFAULT 0,
  PRIMARY KEY (`id`),
  UNIQUE KEY `new_index` (`day`,`app`,`dg_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_general_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `stat_day_disk_array`
--

DROP TABLE IF EXISTS `stat_day_disk_array`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `stat_day_disk_array` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `day` datetime NOT NULL,
  `array_name` varchar(100) NOT NULL,
  `disk_used` int(11) DEFAULT 0,
  `disk_size` int(11) DEFAULT 0,
  `reservable` int(11) DEFAULT 0,
  `reserved` int(11) DEFAULT 0,
  PRIMARY KEY (`id`),
  UNIQUE KEY `new_index` (`day`,`array_name`)
) ENGINE=InnoDB AUTO_INCREMENT=3225 DEFAULT CHARSET=utf8 COLLATE=utf8_general_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `stat_day_disk_array_dg`
--

DROP TABLE IF EXISTS `stat_day_disk_array_dg`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `stat_day_disk_array_dg` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `day` datetime NOT NULL,
  `array_name` varchar(100) NOT NULL,
  `array_dg` varchar(100) NOT NULL,
  `disk_used` int(11) DEFAULT 0,
  `disk_size` int(11) DEFAULT 0,
  `reserved` int(11) DEFAULT 0,
  `reservable` int(11) DEFAULT 0,
  PRIMARY KEY (`id`),
  UNIQUE KEY `new_index` (`day`,`array_name`,`array_dg`)
) ENGINE=InnoDB AUTO_INCREMENT=136688 DEFAULT CHARSET=utf8 COLLATE=utf8_general_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `stat_day_svc`
--

DROP TABLE IF EXISTS `stat_day_svc`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `stat_day_svc` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `day` datetime NOT NULL,
  `nb_action` int(11) DEFAULT NULL,
  `nb_action_err` int(11) DEFAULT 0,
  `nb_action_warn` int(11) DEFAULT 0,
  `nb_action_ok` int(11) DEFAULT 0,
  `disk_size` int(11) DEFAULT 0,
  `ram_size` int(11) DEFAULT 0,
  `nb_cpu_core` int(11) DEFAULT 0,
  `nb_cpu_die` int(11) DEFAULT 0,
  `watt` int(11) DEFAULT 0,
  `rackunit` int(11) DEFAULT 0,
  `nb_nodes` int(11) DEFAULT 0,
  `local_disk_size` int(11) DEFAULT 0,
  `svc_id` char(36) CHARACTER SET ascii COLLATE ascii_general_ci DEFAULT '',
  PRIMARY KEY (`id`),
  UNIQUE KEY `uk_stat_day_svc_1` (`day`,`svc_id`),
  KEY `k_svc_id` (`svc_id`)
) ENGINE=InnoDB AUTO_INCREMENT=638131 DEFAULT CHARSET=latin1 COLLATE=latin1_swedish_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `stats_compare`
--

DROP TABLE IF EXISTS `stats_compare`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `stats_compare` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `name` varchar(60) NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_general_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `stats_compare_fset`
--

DROP TABLE IF EXISTS `stats_compare_fset`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `stats_compare_fset` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `compare_id` int(11) NOT NULL,
  `fset_id` int(11) NOT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `stats_compare_fset_uk1` (`compare_id`,`fset_id`),
  KEY `stats_compare_fset_ibfk_1` (`fset_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_general_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `stats_compare_user`
--

DROP TABLE IF EXISTS `stats_compare_user`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `stats_compare_user` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `compare_id` int(11) NOT NULL,
  `user_id` int(11) NOT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `stats_compare_user_uk1` (`compare_id`,`user_id`),
  KEY `stats_compare_user_ibfk_1` (`user_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_general_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `stor_array`
--

DROP TABLE IF EXISTS `stor_array`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `stor_array` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `array_name` varchar(100) DEFAULT NULL,
  `array_model` varchar(30) NOT NULL,
  `array_cache` int(11) DEFAULT NULL,
  `array_firmware` varchar(60) DEFAULT NULL,
  `array_updated` timestamp NOT NULL DEFAULT current_timestamp() ON UPDATE current_timestamp(),
  `array_level` int(11) NOT NULL DEFAULT 0,
  `array_comment` varchar(300) DEFAULT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `index_1` (`array_name`)
) ENGINE=MyISAM AUTO_INCREMENT=562 DEFAULT CHARSET=utf8 COLLATE=utf8_general_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `stor_array_dg`
--

DROP TABLE IF EXISTS `stor_array_dg`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `stor_array_dg` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `array_id` varchar(60) NOT NULL,
  `dg_name` varchar(60) NOT NULL,
  `dg_free` int(11) NOT NULL,
  `dg_updated` timestamp NOT NULL DEFAULT current_timestamp() ON UPDATE current_timestamp(),
  `dg_size` int(11) DEFAULT NULL,
  `dg_used` int(11) DEFAULT NULL,
  `dg_reserved` int(11) DEFAULT 0,
  PRIMARY KEY (`id`),
  UNIQUE KEY `index_1` (`array_id`,`dg_name`),
  KEY `idx_array_id` (`array_id`),
  KEY `idx_dg_name` (`dg_name`)
) ENGINE=InnoDB AUTO_INCREMENT=581244 DEFAULT CHARSET=utf8 COLLATE=utf8_general_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `stor_array_dg_quota`
--

DROP TABLE IF EXISTS `stor_array_dg_quota`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `stor_array_dg_quota` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `dg_id` int(11) NOT NULL,
  `app_id` int(11) NOT NULL,
  `quota` int(11) DEFAULT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `index_1` (`dg_id`,`app_id`),
  KEY `stor_array_dg_quota_ibfk_2` (`app_id`),
  KEY `key_dg_id` (`dg_id`)
) ENGINE=InnoDB AUTO_INCREMENT=26 DEFAULT CHARSET=utf8 COLLATE=utf8_general_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `stor_array_proxy`
--

DROP TABLE IF EXISTS `stor_array_proxy`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `stor_array_proxy` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `array_id` int(11) NOT NULL,
  `node_id` char(36) CHARACTER SET ascii COLLATE ascii_general_ci DEFAULT '',
  PRIMARY KEY (`id`),
  UNIQUE KEY `index_1` (`node_id`,`array_id`),
  KEY `k_node_id` (`node_id`)
) ENGINE=InnoDB AUTO_INCREMENT=8278 DEFAULT CHARSET=utf8 COLLATE=utf8_general_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `stor_array_tgtid`
--

DROP TABLE IF EXISTS `stor_array_tgtid`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `stor_array_tgtid` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `array_id` varchar(60) NOT NULL,
  `array_tgtid` varchar(60) NOT NULL,
  `updated` timestamp NOT NULL DEFAULT current_timestamp() ON UPDATE current_timestamp(),
  PRIMARY KEY (`id`),
  UNIQUE KEY `index_1` (`array_id`,`array_tgtid`)
) ENGINE=InnoDB AUTO_INCREMENT=603414 DEFAULT CHARSET=utf8 COLLATE=utf8_general_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `stor_zone`
--

DROP TABLE IF EXISTS `stor_zone`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `stor_zone` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `tgt_id` varchar(60) NOT NULL,
  `hba_id` varchar(60) NOT NULL,
  `updated` timestamp NOT NULL DEFAULT current_timestamp() ON UPDATE current_timestamp(),
  `node_id` char(36) CHARACTER SET ascii COLLATE ascii_general_ci DEFAULT '',
  PRIMARY KEY (`id`),
  UNIQUE KEY `index_1` (`node_id`,`hba_id`,`tgt_id`),
  KEY `k_node_id` (`node_id`)
) ENGINE=InnoDB AUTO_INCREMENT=3047195 DEFAULT CHARSET=utf8 COLLATE=utf8_general_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `svc_tags`
--

DROP TABLE IF EXISTS `svc_tags`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `svc_tags` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `created` datetime(3) DEFAULT NULL,
  `svc_id` char(36) CHARACTER SET ascii COLLATE ascii_general_ci DEFAULT '',
  `tag_id` char(40) DEFAULT NULL,
  `tag_attach_data` text DEFAULT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `tag_bind` (`svc_id`,`tag_id`),
  KEY `k_svc_id` (`svc_id`)
) ENGINE=InnoDB AUTO_INCREMENT=1949 DEFAULT CHARSET=utf8 COLLATE=utf8_general_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `svcactions`
--

DROP TABLE IF EXISTS `svcactions`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `svcactions` (
  `action` varchar(128) DEFAULT NULL,
  `status` enum('err','ok','warn','') DEFAULT '',
  `begin` datetime NOT NULL DEFAULT '0000-00-00 00:00:00',
  `end` datetime DEFAULT NULL,
  `hostid` varchar(30) DEFAULT NULL,
  `status_log` text CHARACTER SET latin1 COLLATE latin1_swedish_ci DEFAULT NULL,
  `pid` varchar(32) DEFAULT NULL,
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `ack` tinyint(4) DEFAULT NULL,
  `alert` tinyint(1) DEFAULT NULL,
  `acked_by` varchar(50) CHARACTER SET latin1 COLLATE latin1_swedish_ci DEFAULT NULL,
  `acked_comment` text CHARACTER SET latin1 COLLATE latin1_swedish_ci DEFAULT NULL,
  `acked_date` datetime DEFAULT NULL,
  `version` varchar(20) CHARACTER SET latin1 COLLATE latin1_swedish_ci DEFAULT NULL,
  `cron` tinyint(1) DEFAULT 0,
  `time` int(11) DEFAULT NULL,
  `node_id` char(36) CHARACTER SET ascii COLLATE ascii_general_ci DEFAULT '',
  `svc_id` char(36) CHARACTER SET ascii COLLATE ascii_general_ci DEFAULT '',
  `sid` char(36) DEFAULT NULL,
  `rid` varchar(255) CHARACTER SET utf8 COLLATE utf8_bin DEFAULT NULL,
  `subset` varchar(255) DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `action` (`action`),
  KEY `end` (`end`),
  KEY `status` (`status`),
  KEY `k_node_id` (`node_id`),
  KEY `k_svc_id` (`svc_id`),
  KEY `begin` (`begin`),
  KEY `errcount` (`svc_id`,`node_id`,`begin`),
  KEY `k_instance` (`node_id`,`svc_id`),
  KEY `idx_count_err` (`svc_id`,`node_id`,`status`,`begin`),
  KEY `k_sid` (`sid`)
) ENGINE=InnoDB AUTO_INCREMENT=14489551 DEFAULT CHARSET=utf8 COLLATE=utf8_general_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `svcdisks`
--

DROP TABLE IF EXISTS `svcdisks`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `svcdisks` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `disk_id` varchar(120) DEFAULT NULL,
  `disk_size` int(11) NOT NULL DEFAULT 0,
  `disk_vendor` varchar(60) DEFAULT NULL,
  `disk_model` varchar(60) DEFAULT NULL,
  `disk_dg` varchar(60) DEFAULT NULL,
  `disk_updated` timestamp NOT NULL DEFAULT current_timestamp() ON UPDATE current_timestamp(),
  `disk_local` varchar(1) DEFAULT 'T',
  `disk_used` int(11) NOT NULL DEFAULT 0,
  `disk_region` varchar(32) DEFAULT '0',
  `app_id` int(11) DEFAULT NULL,
  `node_id` char(36) CHARACTER SET ascii COLLATE ascii_general_ci DEFAULT '',
  `svc_id` char(36) CHARACTER SET ascii COLLATE ascii_general_ci DEFAULT '',
  PRIMARY KEY (`id`),
  UNIQUE KEY `uk_svcdisks_1` (`disk_id`,`svc_id`,`node_id`,`disk_dg`),
  KEY `k_node_id` (`node_id`),
  KEY `k_svc_id` (`svc_id`),
  KEY `k_svcdisks_1` (`svc_id`,`node_id`)
) ENGINE=InnoDB AUTO_INCREMENT=11324 DEFAULT CHARSET=utf8 COLLATE=utf8_general_ci COMMENT='disks used by services';
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `svcmon`
--

DROP TABLE IF EXISTS `svcmon`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `svcmon` (
  `mon_svctype` varchar(10) DEFAULT NULL,
  `mon_ipstatus` varchar(10) DEFAULT 'undef',
  `mon_fsstatus` varchar(10) DEFAULT 'undef',
  `mon_updated` datetime DEFAULT NULL,
  `ID` int(11) NOT NULL AUTO_INCREMENT,
  `mon_frozen` int(11) DEFAULT NULL,
  `mon_changed` timestamp NOT NULL DEFAULT current_timestamp(),
  `mon_diskstatus` varchar(10) DEFAULT 'undef',
  `mon_containerstatus` varchar(10) DEFAULT 'undef',
  `mon_overallstatus` varchar(10) DEFAULT 'undef',
  `mon_syncstatus` varchar(10) DEFAULT 'undef',
  `mon_appstatus` varchar(10) DEFAULT 'undef',
  `mon_hbstatus` varchar(10) DEFAULT NULL,
  `mon_availstatus` varchar(10) DEFAULT 'undef',
  `mon_vmname` varchar(50) DEFAULT '',
  `mon_guestos` varchar(30) DEFAULT NULL,
  `mon_vmem` int(11) DEFAULT 0,
  `mon_vcpus` float DEFAULT 0,
  `mon_containerpath` varchar(512) DEFAULT NULL,
  `mon_vmtype` varchar(10) DEFAULT NULL,
  `mon_sharestatus` varchar(10) DEFAULT 'undef',
  `node_id` char(36) CHARACTER SET ascii COLLATE ascii_general_ci DEFAULT '',
  `svc_id` char(36) CHARACTER SET ascii COLLATE ascii_general_ci DEFAULT '',
  `mon_smon_status` varchar(32) DEFAULT NULL,
  `mon_smon_global_expect` varchar(32) DEFAULT NULL,
  PRIMARY KEY (`ID`),
  UNIQUE KEY `uk_svcmon` (`node_id`,`svc_id`,`mon_vmname`),
  KEY `mon_vmname` (`mon_vmname`),
  KEY `k_node_id` (`node_id`),
  KEY `k_svc_id` (`svc_id`)
) ENGINE=InnoDB AUTO_INCREMENT=24328 DEFAULT CHARSET=utf8 COLLATE=utf8_general_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `svcmon_log`
--

DROP TABLE IF EXISTS `svcmon_log`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `svcmon_log` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `mon_overallstatus` enum('up','down','warn','n/a','undef','stdby up','stdby down') DEFAULT 'undef',
  `mon_ipstatus` enum('up','down','warn','n/a','undef','stdby up','stdby down') DEFAULT 'undef',
  `mon_fsstatus` enum('up','down','warn','n/a','undef','stdby up','stdby down') DEFAULT 'undef',
  `mon_diskstatus` enum('up','down','warn','n/a','undef','stdby up','stdby down') DEFAULT 'undef',
  `mon_containerstatus` enum('up','down','warn','n/a','undef','stdby up','stdby down') DEFAULT 'undef',
  `mon_syncstatus` enum('up','down','warn','n/a','undef','stdby up','stdby down') DEFAULT 'undef',
  `mon_appstatus` enum('up','down','warn','n/a','undef','stdby up','stdby down') DEFAULT 'undef',
  `mon_begin` datetime NOT NULL,
  `mon_end` datetime NOT NULL,
  `mon_hbstatus` enum('up','down','warn','n/a','undef','stdby up','stdby down') DEFAULT 'undef',
  `mon_availstatus` enum('up','down','warn','n/a','undef','stdby up','stdby down') DEFAULT 'undef',
  `mon_sharestatus` varchar(10) DEFAULT 'undef',
  `node_id` char(36) CHARACTER SET ascii COLLATE ascii_general_ci DEFAULT '',
  `svc_id` char(36) CHARACTER SET ascii COLLATE ascii_general_ci DEFAULT '',
  PRIMARY KEY (`id`),
  KEY `mon_overallstatus` (`mon_overallstatus`),
  KEY `mon_begin` (`mon_begin`,`mon_end`),
  KEY `k_node_id` (`node_id`),
  KEY `k_svc_id` (`svc_id`)
) ENGINE=InnoDB AUTO_INCREMENT=6567725 DEFAULT CHARSET=utf8 COLLATE=utf8_general_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `svcmon_log_ack`
--

DROP TABLE IF EXISTS `svcmon_log_ack`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `svcmon_log_ack` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `mon_begin` datetime NOT NULL,
  `mon_end` datetime NOT NULL,
  `mon_comment` text NOT NULL,
  `mon_acked_by` varchar(100) NOT NULL,
  `mon_acked_on` datetime NOT NULL,
  `mon_account` tinyint(1) NOT NULL DEFAULT 1,
  `svc_id` char(36) CHARACTER SET ascii COLLATE ascii_general_ci DEFAULT '',
  PRIMARY KEY (`id`),
  UNIQUE KEY `uk_svcmon_log_ack` (`svc_id`,`mon_begin`,`mon_end`),
  KEY `mon_begin` (`mon_begin`),
  KEY `mon_end` (`mon_end`),
  KEY `k_svc_id` (`svc_id`)
) ENGINE=InnoDB AUTO_INCREMENT=6 DEFAULT CHARSET=latin1 COLLATE=latin1_swedish_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `svcmon_log_last`
--

DROP TABLE IF EXISTS `svcmon_log_last`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `svcmon_log_last` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `mon_overallstatus` enum('up','down','warn','n/a','undef','stdby up','stdby down') DEFAULT 'undef',
  `mon_ipstatus` enum('up','down','warn','n/a','undef','stdby up','stdby down') DEFAULT 'undef',
  `mon_fsstatus` enum('up','down','warn','n/a','undef','stdby up','stdby down') DEFAULT 'undef',
  `mon_diskstatus` enum('up','down','warn','n/a','undef','stdby up','stdby down') DEFAULT 'undef',
  `mon_containerstatus` enum('up','down','warn','n/a','undef','stdby up','stdby down') DEFAULT 'undef',
  `mon_syncstatus` enum('up','down','warn','n/a','undef','stdby up','stdby down') DEFAULT 'undef',
  `mon_appstatus` enum('up','down','warn','n/a','undef','stdby up','stdby down') DEFAULT 'undef',
  `mon_begin` datetime NOT NULL,
  `mon_end` datetime NOT NULL,
  `mon_hbstatus` enum('up','down','warn','n/a','undef','stdby up','stdby down') DEFAULT 'undef',
  `mon_availstatus` enum('up','down','warn','n/a','undef','stdby up','stdby down') DEFAULT 'undef',
  `mon_sharestatus` varchar(10) DEFAULT 'undef',
  `node_id` char(36) CHARACTER SET ascii COLLATE ascii_general_ci DEFAULT '',
  `svc_id` char(36) CHARACTER SET ascii COLLATE ascii_general_ci DEFAULT '',
  PRIMARY KEY (`id`),
  UNIQUE KEY `uk` (`node_id`,`svc_id`),
  KEY `mon_overallstatus` (`mon_overallstatus`),
  KEY `mon_begin` (`mon_begin`,`mon_end`),
  KEY `k_node_id` (`node_id`),
  KEY `k_svc_id` (`svc_id`)
) ENGINE=InnoDB AUTO_INCREMENT=6404 DEFAULT CHARSET=utf8 COLLATE=utf8_general_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `switches`
--

DROP TABLE IF EXISTS `switches`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `switches` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `sw_name` varchar(64) NOT NULL,
  `sw_slot` int(11) DEFAULT NULL,
  `sw_port` int(11) DEFAULT NULL,
  `sw_portspeed` int(11) DEFAULT NULL,
  `sw_portnego` varchar(1) DEFAULT '',
  `sw_porttype` varchar(16) DEFAULT '',
  `sw_portstate` varchar(16) DEFAULT '',
  `sw_portname` varchar(16) DEFAULT '',
  `sw_rportname` varchar(128) DEFAULT NULL,
  `sw_updated` datetime NOT NULL,
  `sw_fabric` varchar(128) DEFAULT NULL,
  `sw_index` int(11) DEFAULT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `idx1` (`sw_name`,`sw_slot`,`sw_port`,`sw_rportname`),
  KEY `idx2` (`sw_portname`,`sw_rportname`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_general_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `sysrep_allow`
--

DROP TABLE IF EXISTS `sysrep_allow`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `sysrep_allow` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `pattern` text NOT NULL,
  `fset_id` int(11) NOT NULL,
  `group_id` int(11) NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=8 DEFAULT CHARSET=utf8 COLLATE=utf8_general_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `sysrep_changing`
--

DROP TABLE IF EXISTS `sysrep_changing`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `sysrep_changing` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `pattern` text NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=3 DEFAULT CHARSET=utf8 COLLATE=utf8_general_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `sysrep_secure`
--

DROP TABLE IF EXISTS `sysrep_secure`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `sysrep_secure` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `pattern` text NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=26 DEFAULT CHARSET=utf8 COLLATE=utf8_general_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `table_modified`
--

DROP TABLE IF EXISTS `table_modified`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `table_modified` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `table_name` varchar(192) NOT NULL,
  `table_modified` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `index_1` (`table_name`)
) ENGINE=InnoDB AUTO_INCREMENT=17090832 DEFAULT CHARSET=utf8 COLLATE=utf8_general_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `tags`
--

DROP TABLE IF EXISTS `tags`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `tags` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `tag_name` varchar(128) DEFAULT '',
  `tag_created` timestamp NOT NULL DEFAULT current_timestamp(),
  `tag_exclude` varchar(128) DEFAULT NULL,
  `tag_id` char(40) GENERATED ALWAYS AS (sha(`tag_name`)) STORED,
  `tag_data` text DEFAULT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `tag_name` (`tag_name`)
) ENGINE=InnoDB AUTO_INCREMENT=137 DEFAULT CHARSET=utf8 COLLATE=utf8_general_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `tmp`
--

DROP TABLE IF EXISTS `tmp`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `tmp` (
  `id` int(11) NOT NULL DEFAULT 0
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_general_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `tmpmd5`
--

DROP TABLE IF EXISTS `tmpmd5`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `tmpmd5` (
  `rset_md5` varchar(32) DEFAULT NULL,
  KEY `idx1` (`rset_md5`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_general_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `u_inc`
--

DROP TABLE IF EXISTS `u_inc`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `u_inc` (
  `inc` double DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_general_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `user_log`
--

DROP TABLE IF EXISTS `user_log`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `user_log` (
  `user_id` int(11) NOT NULL DEFAULT 0,
  `log_id` int(11) DEFAULT NULL,
  PRIMARY KEY (`user_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_general_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `user_prefs`
--

DROP TABLE IF EXISTS `user_prefs`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `user_prefs` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `user_id` int(11) NOT NULL,
  `prefs` longtext NOT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `uk_user_id` (`user_id`)
) ENGINE=InnoDB AUTO_INCREMENT=5 DEFAULT CHARSET=utf8 COLLATE=utf8_general_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Temporary table structure for view `v_action_queue`
--

DROP TABLE IF EXISTS `v_action_queue`;
/*!50001 DROP VIEW IF EXISTS `v_action_queue`*/;
SET @saved_cs_client     = @@character_set_client;
SET character_set_client = utf8;
/*!50001 CREATE VIEW `v_action_queue` AS SELECT
 1 AS `nodename`,
  1 AS `svcname`,
  1 AS `id`,
  1 AS `status`,
  1 AS `command`,
  1 AS `date_queued`,
  1 AS `date_dequeued`,
  1 AS `ret`,
  1 AS `stdout`,
  1 AS `stderr`,
  1 AS `action_type`,
  1 AS `user_id`,
  1 AS `form_id`,
  1 AS `connect_to`,
  1 AS `node_id`,
  1 AS `svc_id`,
  1 AS `username` */;
SET character_set_client = @saved_cs_client;

--
-- Temporary table structure for view `v_apps`
--

DROP TABLE IF EXISTS `v_apps`;
/*!50001 DROP VIEW IF EXISTS `v_apps`*/;
SET @saved_cs_client     = @@character_set_client;
SET character_set_client = utf8;
/*!50001 CREATE VIEW `v_apps` AS SELECT
 1 AS `id`,
  1 AS `app`,
  1 AS `updated`,
  1 AS `app_domain`,
  1 AS `app_team_ops`,
  1 AS `description`,
  1 AS `responsibles`,
  1 AS `publications` */;
SET character_set_client = @saved_cs_client;

--
-- Temporary table structure for view `v_comp_explicit_rulesets`
--

DROP TABLE IF EXISTS `v_comp_explicit_rulesets`;
/*!50001 DROP VIEW IF EXISTS `v_comp_explicit_rulesets`*/;
SET @saved_cs_client     = @@character_set_client;
SET character_set_client = utf8;
/*!50001 CREATE VIEW `v_comp_explicit_rulesets` AS SELECT
 1 AS `id`,
  1 AS `ruleset_name`,
  1 AS `variables` */;
SET character_set_client = @saved_cs_client;

--
-- Temporary table structure for view `v_comp_moduleset_attachments`
--

DROP TABLE IF EXISTS `v_comp_moduleset_attachments`;
/*!50001 DROP VIEW IF EXISTS `v_comp_moduleset_attachments`*/;
SET @saved_cs_client     = @@character_set_client;
SET character_set_client = utf8;
/*!50001 CREATE VIEW `v_comp_moduleset_attachments` AS SELECT
 1 AS `node_id`,
  1 AS `svc_id`,
  1 AS `modset_name` */;
SET character_set_client = @saved_cs_client;

--
-- Temporary table structure for view `v_comp_modulesets`
--

DROP TABLE IF EXISTS `v_comp_modulesets`;
/*!50001 DROP VIEW IF EXISTS `v_comp_modulesets`*/;
SET @saved_cs_client     = @@character_set_client;
SET character_set_client = utf8;
/*!50001 CREATE VIEW `v_comp_modulesets` AS SELECT
 1 AS `id`,
  1 AS `modset_id`,
  1 AS `modset_name`,
  1 AS `modset_author`,
  1 AS `modset_updated`,
  1 AS `modset_mod_id`,
  1 AS `modset_mod_name`,
  1 AS `modset_mod_author`,
  1 AS `modset_mod_updated`,
  1 AS `autofix`,
  1 AS `teams_responsible`,
  1 AS `teams_publication` */;
SET character_set_client = @saved_cs_client;

--
-- Temporary table structure for view `v_comp_nodes`
--

DROP TABLE IF EXISTS `v_comp_nodes`;
/*!50001 DROP VIEW IF EXISTS `v_comp_nodes`*/;
SET @saved_cs_client     = @@character_set_client;
SET character_set_client = utf8;
/*!50001 CREATE VIEW `v_comp_nodes` AS SELECT
 1 AS `node_id`,
  1 AS `nodename`,
  1 AS `fqdn`,
  1 AS `loc_country`,
  1 AS `loc_city`,
  1 AS `loc_addr`,
  1 AS `loc_building`,
  1 AS `loc_floor`,
  1 AS `loc_room`,
  1 AS `loc_rack`,
  1 AS `id`,
  1 AS `cpu_freq`,
  1 AS `cpu_cores`,
  1 AS `cpu_dies`,
  1 AS `cpu_vendor`,
  1 AS `cpu_model`,
  1 AS `mem_banks`,
  1 AS `mem_slots`,
  1 AS `mem_bytes`,
  1 AS `os_name`,
  1 AS `os_release`,
  1 AS `os_update`,
  1 AS `os_segment`,
  1 AS `os_arch`,
  1 AS `os_vendor`,
  1 AS `os_kernel`,
  1 AS `loc_zip`,
  1 AS `version`,
  1 AS `listener_port`,
  1 AS `tz`,
  1 AS `last_comm`,
  1 AS `collector`,
  1 AS `connect_to`,
  1 AS `team_responsible`,
  1 AS `team_integ`,
  1 AS `team_support`,
  1 AS `app`,
  1 AS `serial`,
  1 AS `sp_version`,
  1 AS `bios_version`,
  1 AS `manufacturer`,
  1 AS `model`,
  1 AS `type`,
  1 AS `warranty_end`,
  1 AS `maintenance_end`,
  1 AS `status`,
  1 AS `role`,
  1 AS `asset_env`,
  1 AS `node_env`,
  1 AS `power_cabinet1`,
  1 AS `power_cabinet2`,
  1 AS `power_supply_nb`,
  1 AS `power_protect`,
  1 AS `power_protect_breaker`,
  1 AS `power_breaker1`,
  1 AS `power_breaker2`,
  1 AS `os_concat`,
  1 AS `updated`,
  1 AS `enclosure`,
  1 AS `enclosureslot`,
  1 AS `assetname`,
  1 AS `cpu_threads`,
  1 AS `hw_obs_warn_date`,
  1 AS `hw_obs_alert_date`,
  1 AS `os_obs_warn_date`,
  1 AS `os_obs_alert_date`,
  1 AS `hvpool`,
  1 AS `hv`,
  1 AS `hvvdc`,
  1 AS `sec_zone`,
  1 AS `last_boot`,
  1 AS `action_type`,
  1 AS `ruleset_id`,
  1 AS `ruleset_name`,
  1 AS `modset_id`,
  1 AS `modset_name` */;
SET character_set_client = @saved_cs_client;

--
-- Temporary table structure for view `v_comp_rulesets`
--

DROP TABLE IF EXISTS `v_comp_rulesets`;
/*!50001 DROP VIEW IF EXISTS `v_comp_rulesets`*/;
SET @saved_cs_client     = @@character_set_client;
SET character_set_client = utf8;
/*!50001 CREATE VIEW `v_comp_rulesets` AS SELECT
 1 AS `ruleset_id`,
  1 AS `ruleset_name`,
  1 AS `ruleset_type`,
  1 AS `ruleset_public`,
  1 AS `teams_responsible`,
  1 AS `teams_publication`,
  1 AS `encap_rset`,
  1 AS `encap_rset_id`,
  1 AS `chain`,
  1 AS `chain_len`,
  1 AS `id`,
  1 AS `var_name`,
  1 AS `var_class`,
  1 AS `var_value`,
  1 AS `var_author`,
  1 AS `var_updated`,
  1 AS `fset_id`,
  1 AS `fset_name` */;
SET character_set_client = @saved_cs_client;

--
-- Temporary table structure for view `v_comp_services`
--

DROP TABLE IF EXISTS `v_comp_services`;
/*!50001 DROP VIEW IF EXISTS `v_comp_services`*/;
SET @saved_cs_client     = @@character_set_client;
SET character_set_client = utf8;
/*!50001 CREATE VIEW `v_comp_services` AS SELECT
 1 AS `svc_status_updated`,
  1 AS `svc_ha`,
  1 AS `svc_status`,
  1 AS `svc_availstatus`,
  1 AS `svc_topology`,
  1 AS `svc_flex_min_nodes`,
  1 AS `svc_flex_max_nodes`,
  1 AS `svc_flex_cpu_low_threshold`,
  1 AS `svc_flex_cpu_high_threshold`,
  1 AS `svc_id`,
  1 AS `svcname`,
  1 AS `svc_nodes`,
  1 AS `svc_drpnode`,
  1 AS `svc_drptype`,
  1 AS `svc_autostart`,
  1 AS `svc_env`,
  1 AS `svc_drpnodes`,
  1 AS `svc_comment`,
  1 AS `svc_app`,
  1 AS `svc_drnoaction`,
  1 AS `svc_created`,
  1 AS `updated`,
  1 AS `svc_config_updated`,
  1 AS `svc_metrocluster`,
  1 AS `id`,
  1 AS `svc_wave`,
  1 AS `encap`,
  1 AS `ruleset_id`,
  1 AS `ruleset_name`,
  1 AS `modset_id`,
  1 AS `modset_name` */;
SET character_set_client = @saved_cs_client;

--
-- Temporary table structure for view `v_disk_app_dedup`
--

DROP TABLE IF EXISTS `v_disk_app_dedup`;
/*!50001 DROP VIEW IF EXISTS `v_disk_app_dedup`*/;
SET @saved_cs_client     = @@character_set_client;
SET character_set_client = utf8;
/*!50001 CREATE VIEW `v_disk_app_dedup` AS SELECT
 1 AS `app`,
  1 AS `disk_used`,
  1 AS `disk_size`,
  1 AS `disk_arrayid`,
  1 AS `disk_group` */;
SET character_set_client = @saved_cs_client;

--
-- Temporary table structure for view `v_disk_quota`
--

DROP TABLE IF EXISTS `v_disk_quota`;
/*!50001 DROP VIEW IF EXISTS `v_disk_quota`*/;
SET @saved_cs_client     = @@character_set_client;
SET character_set_client = utf8;
/*!50001 CREATE VIEW `v_disk_quota` AS SELECT
 1 AS `id`,
  1 AS `array_id`,
  1 AS `dg_id`,
  1 AS `app_id`,
  1 AS `array_name`,
  1 AS `dg_name`,
  1 AS `dg_free`,
  1 AS `dg_size`,
  1 AS `dg_used`,
  1 AS `dg_reserved`,
  1 AS `dg_reservable`,
  1 AS `array_model`,
  1 AS `app`,
  1 AS `quota`,
  1 AS `quota_used` */;
SET character_set_client = @saved_cs_client;

--
-- Temporary table structure for view `v_disks_app`
--

DROP TABLE IF EXISTS `v_disks_app`;
/*!50001 DROP VIEW IF EXISTS `v_disks_app`*/;
SET @saved_cs_client     = @@character_set_client;
SET character_set_client = utf8;
/*!50001 CREATE VIEW `v_disks_app` AS SELECT
 1 AS `app`,
  1 AS `disk_used`,
  1 AS `disk_arrayid`,
  1 AS `disk_group` */;
SET character_set_client = @saved_cs_client;

--
-- Temporary table structure for view `v_forms`
--

DROP TABLE IF EXISTS `v_forms`;
/*!50001 DROP VIEW IF EXISTS `v_forms`*/;
SET @saved_cs_client     = @@character_set_client;
SET character_set_client = utf8;
/*!50001 CREATE VIEW `v_forms` AS SELECT
 1 AS `id`,
  1 AS `form_name`,
  1 AS `form_yaml`,
  1 AS `form_author`,
  1 AS `form_created`,
  1 AS `form_type`,
  1 AS `form_folder`,
  1 AS `form_team_publication`,
  1 AS `form_team_responsible` */;
SET character_set_client = @saved_cs_client;

--
-- Temporary table structure for view `v_forms_store`
--

DROP TABLE IF EXISTS `v_forms_store`;
/*!50001 DROP VIEW IF EXISTS `v_forms_store`*/;
SET @saved_cs_client     = @@character_set_client;
SET character_set_client = utf8;
/*!50001 CREATE VIEW `v_forms_store` AS SELECT
 1 AS `id`,
  1 AS `results_id`,
  1 AS `form_submitter`,
  1 AS `form_submit_date`,
  1 AS `form_data`,
  1 AS `form_next_id`,
  1 AS `form_prev_id`,
  1 AS `form_assignee`,
  1 AS `form_head_id`,
  1 AS `form_md5`,
  1 AS `form_var_id`,
  1 AS `form_yaml`,
  1 AS `form_date`,
  1 AS `form_id`,
  1 AS `form_folder`,
  1 AS `form_name` */;
SET character_set_client = @saved_cs_client;

--
-- Temporary table structure for view `v_gen_filterset_check_threshold`
--

DROP TABLE IF EXISTS `v_gen_filterset_check_threshold`;
/*!50001 DROP VIEW IF EXISTS `v_gen_filterset_check_threshold`*/;
SET @saved_cs_client     = @@character_set_client;
SET character_set_client = utf8;
/*!50001 CREATE VIEW `v_gen_filterset_check_threshold` AS SELECT
 1 AS `id`,
  1 AS `fset_id`,
  1 AS `chk_type`,
  1 AS `chk_low`,
  1 AS `chk_high`,
  1 AS `chk_instance`,
  1 AS `name` */;
SET character_set_client = @saved_cs_client;

--
-- Temporary table structure for view `v_gen_filterset_teams_responsible`
--

DROP TABLE IF EXISTS `v_gen_filterset_teams_responsible`;
/*!50001 DROP VIEW IF EXISTS `v_gen_filterset_teams_responsible`*/;
SET @saved_cs_client     = @@character_set_client;
SET character_set_client = utf8;
/*!50001 CREATE VIEW `v_gen_filterset_teams_responsible` AS SELECT
 1 AS `fset_id`,
  1 AS `teams_responsible` */;
SET character_set_client = @saved_cs_client;

--
-- Temporary table structure for view `v_gen_filtersets`
--

DROP TABLE IF EXISTS `v_gen_filtersets`;
/*!50001 DROP VIEW IF EXISTS `v_gen_filtersets`*/;
SET @saved_cs_client     = @@character_set_client;
SET character_set_client = utf8;
/*!50001 CREATE VIEW `v_gen_filtersets` AS SELECT
 1 AS `fset_name`,
  1 AS `fset_stats`,
  1 AS `fset_updated`,
  1 AS `fset_author`,
  1 AS `fset_id`,
  1 AS `join_id`,
  1 AS `f_order`,
  1 AS `f_id`,
  1 AS `encap_fset_id`,
  1 AS `encap_fset_name`,
  1 AS `f_log_op`,
  1 AS `id`,
  1 AS `f_table`,
  1 AS `f_field`,
  1 AS `f_value`,
  1 AS `f_updated`,
  1 AS `f_author`,
  1 AS `f_op`,
  1 AS `f_label` */;
SET character_set_client = @saved_cs_client;

--
-- Temporary table structure for view `v_gids`
--

DROP TABLE IF EXISTS `v_gids`;
/*!50001 DROP VIEW IF EXISTS `v_gids`*/;
SET @saved_cs_client     = @@character_set_client;
SET character_set_client = utf8;
/*!50001 CREATE VIEW `v_gids` AS SELECT
 1 AS `id`,
  1 AS `group_id`,
  1 AS `group_id_count`,
  1 AS `group_name` */;
SET character_set_client = @saved_cs_client;

--
-- Temporary table structure for view `v_lifecycle_os_name`
--

DROP TABLE IF EXISTS `v_lifecycle_os_name`;
/*!50001 DROP VIEW IF EXISTS `v_lifecycle_os_name`*/;
SET @saved_cs_client     = @@character_set_client;
SET character_set_client = utf8;
/*!50001 CREATE VIEW `v_lifecycle_os_name` AS SELECT
 1 AS `id`,
  1 AS `fset_id`,
  1 AS `lc_date`,
  1 AS `lc_count`,
  1 AS `lc_os_name` */;
SET character_set_client = @saved_cs_client;

--
-- Temporary table structure for view `v_nb_services`
--

DROP TABLE IF EXISTS `v_nb_services`;
/*!50001 DROP VIEW IF EXISTS `v_nb_services`*/;
SET @saved_cs_client     = @@character_set_client;
SET character_set_client = utf8;
/*!50001 CREATE VIEW `v_nb_services` AS SELECT
 1 AS `nb_svc` */;
SET character_set_client = @saved_cs_client;

--
-- Temporary table structure for view `v_network_segments`
--

DROP TABLE IF EXISTS `v_network_segments`;
/*!50001 DROP VIEW IF EXISTS `v_network_segments`*/;
SET @saved_cs_client     = @@character_set_client;
SET character_set_client = utf8;
/*!50001 CREATE VIEW `v_network_segments` AS SELECT
 1 AS `id`,
  1 AS `net_id`,
  1 AS `seg_type`,
  1 AS `seg_begin`,
  1 AS `seg_end`,
  1 AS `teams_responsible` */;
SET character_set_client = @saved_cs_client;

--
-- Temporary table structure for view `v_nodenetworks`
--

DROP TABLE IF EXISTS `v_nodenetworks`;
/*!50001 DROP VIEW IF EXISTS `v_nodenetworks`*/;
SET @saved_cs_client     = @@character_set_client;
SET character_set_client = utf8;
/*!50001 CREATE VIEW `v_nodenetworks` AS SELECT
 1 AS `nodename`,
  1 AS `fqdn`,
  1 AS `loc_country`,
  1 AS `loc_city`,
  1 AS `loc_addr`,
  1 AS `loc_building`,
  1 AS `loc_floor`,
  1 AS `loc_room`,
  1 AS `loc_rack`,
  1 AS `cpu_freq`,
  1 AS `cpu_cores`,
  1 AS `cpu_dies`,
  1 AS `cpu_vendor`,
  1 AS `cpu_model`,
  1 AS `mem_banks`,
  1 AS `mem_slots`,
  1 AS `mem_bytes`,
  1 AS `os_name`,
  1 AS `os_release`,
  1 AS `os_update`,
  1 AS `os_segment`,
  1 AS `os_arch`,
  1 AS `os_vendor`,
  1 AS `os_kernel`,
  1 AS `loc_zip`,
  1 AS `version`,
  1 AS `listener_port`,
  1 AS `tz`,
  1 AS `last_comm`,
  1 AS `collector`,
  1 AS `connect_to`,
  1 AS `team_responsible`,
  1 AS `team_integ`,
  1 AS `team_support`,
  1 AS `app`,
  1 AS `serial`,
  1 AS `sp_version`,
  1 AS `bios_version`,
  1 AS `manufacturer`,
  1 AS `model`,
  1 AS `type`,
  1 AS `warranty_end`,
  1 AS `maintenance_end`,
  1 AS `status`,
  1 AS `role`,
  1 AS `asset_env`,
  1 AS `node_env`,
  1 AS `power_cabinet1`,
  1 AS `power_cabinet2`,
  1 AS `power_supply_nb`,
  1 AS `power_protect`,
  1 AS `power_protect_breaker`,
  1 AS `power_breaker1`,
  1 AS `power_breaker2`,
  1 AS `os_concat`,
  1 AS `updated`,
  1 AS `enclosure`,
  1 AS `enclosureslot`,
  1 AS `assetname`,
  1 AS `cpu_threads`,
  1 AS `hw_obs_warn_date`,
  1 AS `hw_obs_alert_date`,
  1 AS `os_obs_warn_date`,
  1 AS `os_obs_alert_date`,
  1 AS `hvpool`,
  1 AS `hv`,
  1 AS `hvvdc`,
  1 AS `sec_zone`,
  1 AS `last_boot`,
  1 AS `action_type`,
  1 AS `node_id`,
  1 AS `id`,
  1 AS `mac`,
  1 AS `intf`,
  1 AS `addr`,
  1 AS `addr_type`,
  1 AS `mask`,
  1 AS `flag_deprecated`,
  1 AS `addr_updated`,
  1 AS `net_name`,
  1 AS `net_network`,
  1 AS `net_broadcast`,
  1 AS `net_netmask`,
  1 AS `net_team_responsible`,
  1 AS `net_begin`,
  1 AS `net_end`,
  1 AS `net_comment`,
  1 AS `net_pvid`,
  1 AS `net_gateway`,
  1 AS `net_id`,
  1 AS `prio` */;
SET character_set_client = @saved_cs_client;

--
-- Temporary table structure for view `v_nodesan`
--

DROP TABLE IF EXISTS `v_nodesan`;
/*!50001 DROP VIEW IF EXISTS `v_nodesan`*/;
SET @saved_cs_client     = @@character_set_client;
SET character_set_client = utf8;
/*!50001 CREATE VIEW `v_nodesan` AS SELECT
 1 AS `id`,
  1 AS `tgt_id`,
  1 AS `hba_id`,
  1 AS `node_id`,
  1 AS `nodename`,
  1 AS `updated`,
  1 AS `fqdn`,
  1 AS `loc_country`,
  1 AS `loc_city`,
  1 AS `loc_addr`,
  1 AS `loc_building`,
  1 AS `loc_floor`,
  1 AS `loc_room`,
  1 AS `loc_rack`,
  1 AS `cpu_freq`,
  1 AS `cpu_cores`,
  1 AS `cpu_dies`,
  1 AS `cpu_vendor`,
  1 AS `cpu_model`,
  1 AS `mem_banks`,
  1 AS `mem_slots`,
  1 AS `mem_bytes`,
  1 AS `os_name`,
  1 AS `os_release`,
  1 AS `os_update`,
  1 AS `os_segment`,
  1 AS `os_arch`,
  1 AS `os_vendor`,
  1 AS `os_kernel`,
  1 AS `loc_zip`,
  1 AS `version`,
  1 AS `listener_port`,
  1 AS `tz`,
  1 AS `last_comm`,
  1 AS `collector`,
  1 AS `connect_to`,
  1 AS `team_responsible`,
  1 AS `team_integ`,
  1 AS `team_support`,
  1 AS `app`,
  1 AS `serial`,
  1 AS `sp_version`,
  1 AS `bios_version`,
  1 AS `model`,
  1 AS `type`,
  1 AS `warranty_end`,
  1 AS `maintenance_end`,
  1 AS `status`,
  1 AS `role`,
  1 AS `asset_env`,
  1 AS `node_env`,
  1 AS `power_cabinet1`,
  1 AS `power_cabinet2`,
  1 AS `power_supply_nb`,
  1 AS `power_protect`,
  1 AS `power_protect_breaker`,
  1 AS `power_breaker1`,
  1 AS `power_breaker2`,
  1 AS `os_concat`,
  1 AS `node_updated`,
  1 AS `enclosure`,
  1 AS `hw_obs_warn_date`,
  1 AS `hw_obs_alert_date`,
  1 AS `os_obs_warn_date`,
  1 AS `os_obs_alert_date`,
  1 AS `hvpool`,
  1 AS `hv`,
  1 AS `hvvdc`,
  1 AS `enclosureslot`,
  1 AS `assetname`,
  1 AS `cpu_threads`,
  1 AS `sec_zone`,
  1 AS `last_boot`,
  1 AS `action_type`,
  1 AS `array_name`,
  1 AS `array_model`,
  1 AS `array_cache`,
  1 AS `array_firmware`,
  1 AS `array_updated`,
  1 AS `array_level` */;
SET character_set_client = @saved_cs_client;

--
-- Temporary table structure for view `v_obsolescence`
--

DROP TABLE IF EXISTS `v_obsolescence`;
/*!50001 DROP VIEW IF EXISTS `v_obsolescence`*/;
SET @saved_cs_client     = @@character_set_client;
SET character_set_client = utf8;
/*!50001 CREATE VIEW `v_obsolescence` AS SELECT
 1 AS `id`,
  1 AS `obs_type`,
  1 AS `obs_name`,
  1 AS `obs_warn_date`,
  1 AS `obs_alert_date`,
  1 AS `obs_warn_date_updated_by`,
  1 AS `obs_alert_date_updated_by`,
  1 AS `obs_warn_date_updated`,
  1 AS `obs_alert_date_updated`,
  1 AS `obs_count` */;
SET character_set_client = @saved_cs_client;

--
-- Temporary table structure for view `v_outdated_services`
--

DROP TABLE IF EXISTS `v_outdated_services`;
/*!50001 DROP VIEW IF EXISTS `v_outdated_services`*/;
SET @saved_cs_client     = @@character_set_client;
SET character_set_client = utf8;
/*!50001 CREATE VIEW `v_outdated_services` AS SELECT
 1 AS `svc_id`,
  1 AS `uptodate` */;
SET character_set_client = @saved_cs_client;

--
-- Temporary table structure for view `v_prov_templates`
--

DROP TABLE IF EXISTS `v_prov_templates`;
/*!50001 DROP VIEW IF EXISTS `v_prov_templates`*/;
SET @saved_cs_client     = @@character_set_client;
SET character_set_client = utf8;
/*!50001 CREATE VIEW `v_prov_templates` AS SELECT
 1 AS `id`,
  1 AS `tpl_name`,
  1 AS `tpl_definition`,
  1 AS `tpl_comment`,
  1 AS `tpl_author`,
  1 AS `tpl_created`,
  1 AS `tpl_team_responsible`,
  1 AS `tpl_team_publication` */;
SET character_set_client = @saved_cs_client;

--
-- Temporary table structure for view `v_resmon_log`
--

DROP TABLE IF EXISTS `v_resmon_log`;
/*!50001 DROP VIEW IF EXISTS `v_resmon_log`*/;
SET @saved_cs_client     = @@character_set_client;
SET character_set_client = utf8;
/*!50001 CREATE VIEW `v_resmon_log` AS SELECT
 1 AS `id`,
  1 AS `node_id`,
  1 AS `svc_id`,
  1 AS `rid`,
  1 AS `res_status`,
  1 AS `res_begin`,
  1 AS `res_end`,
  1 AS `res_log` */;
SET character_set_client = @saved_cs_client;

--
-- Temporary table structure for view `v_safe`
--

DROP TABLE IF EXISTS `v_safe`;
/*!50001 DROP VIEW IF EXISTS `v_safe`*/;
SET @saved_cs_client     = @@character_set_client;
SET character_set_client = utf8;
/*!50001 CREATE VIEW `v_safe` AS SELECT
 1 AS `id`,
  1 AS `size`,
  1 AS `safe_name`,
  1 AS `md5`,
  1 AS `uuid`,
  1 AS `uploader`,
  1 AS `uploaded_date`,
  1 AS `uploaded_from`,
  1 AS `uploader_name`,
  1 AS `safe_team_publication`,
  1 AS `safe_team_responsible` */;
SET character_set_client = @saved_cs_client;

--
-- Temporary table structure for view `v_scheduler_run`
--

DROP TABLE IF EXISTS `v_scheduler_run`;
/*!50001 DROP VIEW IF EXISTS `v_scheduler_run`*/;
SET @saved_cs_client     = @@character_set_client;
SET character_set_client = utf8;
/*!50001 CREATE VIEW `v_scheduler_run` AS SELECT
 1 AS `id`,
  1 AS `task_id`,
  1 AS `start_time`,
  1 AS `stop_time`,
  1 AS `run_output`,
  1 AS `run_result`,
  1 AS `traceback`,
  1 AS `status`,
  1 AS `worker_name`,
  1 AS `duration`,
  1 AS `timeout`,
  1 AS `args`,
  1 AS `vars`,
  1 AS `retry_failed`,
  1 AS `times_run`,
  1 AS `times_failed`,
  1 AS `group_name`,
  1 AS `function_name`,
  1 AS `application_name`,
  1 AS `assigned_worker_name` */;
SET character_set_client = @saved_cs_client;

--
-- Temporary table structure for view `v_services_log`
--

DROP TABLE IF EXISTS `v_services_log`;
/*!50001 DROP VIEW IF EXISTS `v_services_log`*/;
SET @saved_cs_client     = @@character_set_client;
SET character_set_client = utf8;
/*!50001 CREATE VIEW `v_services_log` AS SELECT
 1 AS `id`,
  1 AS `svc_availstatus`,
  1 AS `svc_begin`,
  1 AS `svc_end`,
  1 AS `svc_id` */;
SET character_set_client = @saved_cs_client;

--
-- Temporary table structure for view `v_svcmon`
--

DROP TABLE IF EXISTS `v_svcmon`;
/*!50001 DROP VIEW IF EXISTS `v_svcmon`*/;
SET @saved_cs_client     = @@character_set_client;
SET character_set_client = utf8;
/*!50001 CREATE VIEW `v_svcmon` AS SELECT
 1 AS `err`,
  1 AS `svc_ha`,
  1 AS `svc_topology`,
  1 AS `svc_status`,
  1 AS `svc_availstatus`,
  1 AS `svc_flex_min_nodes`,
  1 AS `svc_flex_max_nodes`,
  1 AS `svc_flex_cpu_low_threshold`,
  1 AS `svc_flex_cpu_high_threshold`,
  1 AS `mon_vmname`,
  1 AS `mon_vmtype`,
  1 AS `mon_guestos`,
  1 AS `svc_id`,
  1 AS `svcname`,
  1 AS `svc_nodes`,
  1 AS `svc_drpnode`,
  1 AS `svc_drpnodes`,
  1 AS `svc_drptype`,
  1 AS `svc_autostart`,
  1 AS `svc_env`,
  1 AS `svc_comment`,
  1 AS `svc_app`,
  1 AS `svc_drnoaction`,
  1 AS `svc_created`,
  1 AS `svc_updated`,
  1 AS `svc_config_updated`,
  1 AS `svc_metrocluster`,
  1 AS `mon_vcpus`,
  1 AS `mon_vmem`,
  1 AS `mon_svctype`,
  1 AS `mon_smon_status`,
  1 AS `mon_smon_global_expect`,
  1 AS `mon_ipstatus`,
  1 AS `mon_fsstatus`,
  1 AS `ID`,
  1 AS `mon_frozen`,
  1 AS `mon_changed`,
  1 AS `mon_updated`,
  1 AS `mon_sharestatus`,
  1 AS `mon_diskstatus`,
  1 AS `mon_containerstatus`,
  1 AS `mon_overallstatus`,
  1 AS `node_id`,
  1 AS `nodename`,
  1 AS `listener_port`,
  1 AS `tz`,
  1 AS `last_comm`,
  1 AS `collector`,
  1 AS `connect_to`,
  1 AS `version`,
  1 AS `node_updated`,
  1 AS `loc_country`,
  1 AS `loc_city`,
  1 AS `loc_addr`,
  1 AS `loc_building`,
  1 AS `loc_floor`,
  1 AS `loc_room`,
  1 AS `loc_rack`,
  1 AS `hv`,
  1 AS `hvpool`,
  1 AS `hvvdc`,
  1 AS `cpu_freq`,
  1 AS `cpu_cores`,
  1 AS `cpu_dies`,
  1 AS `cpu_vendor`,
  1 AS `cpu_model`,
  1 AS `mem_banks`,
  1 AS `mem_slots`,
  1 AS `mem_bytes`,
  1 AS `os_name`,
  1 AS `os_release`,
  1 AS `os_update`,
  1 AS `os_segment`,
  1 AS `os_arch`,
  1 AS `os_vendor`,
  1 AS `os_kernel`,
  1 AS `loc_zip`,
  1 AS `team_responsible`,
  1 AS `team_integ`,
  1 AS `team_support`,
  1 AS `serial`,
  1 AS `sp_version`,
  1 AS `bios_version`,
  1 AS `manufacturer`,
  1 AS `model`,
  1 AS `type`,
  1 AS `warranty_end`,
  1 AS `maintenance_end`,
  1 AS `status`,
  1 AS `role`,
  1 AS `asset_env`,
  1 AS `node_env`,
  1 AS `power_supply_nb`,
  1 AS `power_cabinet1`,
  1 AS `power_cabinet2`,
  1 AS `power_protect`,
  1 AS `power_protect_breaker`,
  1 AS `power_breaker1`,
  1 AS `power_breaker2`,
  1 AS `sec_zone`,
  1 AS `last_boot`,
  1 AS `action_type`,
  1 AS `mon_syncstatus`,
  1 AS `mon_hbstatus`,
  1 AS `mon_availstatus`,
  1 AS `mon_appstatus`,
  1 AS `app_domain`,
  1 AS `app_team_ops`,
  1 AS `enclosure`,
  1 AS `enclosureslot`,
  1 AS `assetname`,
  1 AS `cpu_threads` */;
SET character_set_client = @saved_cs_client;

--
-- Temporary table structure for view `v_svcmon_log`
--

DROP TABLE IF EXISTS `v_svcmon_log`;
/*!50001 DROP VIEW IF EXISTS `v_svcmon_log`*/;
SET @saved_cs_client     = @@character_set_client;
SET character_set_client = utf8;
/*!50001 CREATE VIEW `v_svcmon_log` AS SELECT
 1 AS `id`,
  1 AS `mon_overallstatus`,
  1 AS `mon_ipstatus`,
  1 AS `mon_fsstatus`,
  1 AS `mon_diskstatus`,
  1 AS `mon_containerstatus`,
  1 AS `mon_syncstatus`,
  1 AS `mon_appstatus`,
  1 AS `mon_begin`,
  1 AS `mon_end`,
  1 AS `mon_hbstatus`,
  1 AS `mon_availstatus`,
  1 AS `mon_sharestatus`,
  1 AS `node_id`,
  1 AS `svc_id` */;
SET character_set_client = @saved_cs_client;

--
-- Temporary table structure for view `v_switches`
--

DROP TABLE IF EXISTS `v_switches`;
/*!50001 DROP VIEW IF EXISTS `v_switches`*/;
SET @saved_cs_client     = @@character_set_client;
SET character_set_client = utf8;
/*!50001 CREATE VIEW `v_switches` AS SELECT
 1 AS `id`,
  1 AS `sw_name`,
  1 AS `sw_slot`,
  1 AS `sw_port`,
  1 AS `sw_portspeed`,
  1 AS `sw_portnego`,
  1 AS `sw_porttype`,
  1 AS `sw_portstate`,
  1 AS `sw_portname`,
  1 AS `sw_rportname`,
  1 AS `sw_updated`,
  1 AS `sw_fabric`,
  1 AS `sw_index`,
  1 AS `node_id`,
  1 AS `sw_rname` */;
SET character_set_client = @saved_cs_client;

--
-- Temporary table structure for view `v_sysrep_allow`
--

DROP TABLE IF EXISTS `v_sysrep_allow`;
/*!50001 DROP VIEW IF EXISTS `v_sysrep_allow`*/;
SET @saved_cs_client     = @@character_set_client;
SET character_set_client = utf8;
/*!50001 CREATE VIEW `v_sysrep_allow` AS SELECT
 1 AS `id`,
  1 AS `group_id`,
  1 AS `group_name`,
  1 AS `fset_id`,
  1 AS `fset_name`,
  1 AS `pattern` */;
SET character_set_client = @saved_cs_client;

--
-- Temporary table structure for view `v_table_size`
--

DROP TABLE IF EXISTS `v_table_size`;
/*!50001 DROP VIEW IF EXISTS `v_table_size`*/;
SET @saved_cs_client     = @@character_set_client;
SET character_set_client = utf8;
/*!50001 CREATE VIEW `v_table_size` AS SELECT
 1 AS `table_schema`,
  1 AS `table_name`,
  1 AS `tablesize_mb` */;
SET character_set_client = @saved_cs_client;

--
-- Temporary table structure for view `v_tags`
--

DROP TABLE IF EXISTS `v_tags`;
/*!50001 DROP VIEW IF EXISTS `v_tags`*/;
SET @saved_cs_client     = @@character_set_client;
SET character_set_client = utf8;
/*!50001 CREATE VIEW `v_tags` AS SELECT
 1 AS `id`,
  1 AS `tag_id`,
  1 AS `tag_name`,
  1 AS `node_id`,
  1 AS `svc_id`,
  1 AS `created`,
  1 AS `tag_data`,
  1 AS `tag_attach_data` */;
SET character_set_client = @saved_cs_client;

--
-- Temporary table structure for view `v_tags_full`
--

DROP TABLE IF EXISTS `v_tags_full`;
/*!50001 DROP VIEW IF EXISTS `v_tags_full`*/;
SET @saved_cs_client     = @@character_set_client;
SET character_set_client = utf8;
/*!50001 CREATE VIEW `v_tags_full` AS SELECT
 1 AS `id`,
  1 AS `ckid`,
  1 AS `tag_id`,
  1 AS `tag_name`,
  1 AS `node_id`,
  1 AS `nodename`,
  1 AS `svc_id`,
  1 AS `svcname`,
  1 AS `created`,
  1 AS `tag_data`,
  1 AS `tag_attach_data` */;
SET character_set_client = @saved_cs_client;

--
-- Temporary table structure for view `v_uids`
--

DROP TABLE IF EXISTS `v_uids`;
/*!50001 DROP VIEW IF EXISTS `v_uids`*/;
SET @saved_cs_client     = @@character_set_client;
SET character_set_client = utf8;
/*!50001 CREATE VIEW `v_uids` AS SELECT
 1 AS `id`,
  1 AS `user_id`,
  1 AS `user_id_count`,
  1 AS `user_name` */;
SET character_set_client = @saved_cs_client;

--
-- Temporary table structure for view `v_users`
--

DROP TABLE IF EXISTS `v_users`;
/*!50001 DROP VIEW IF EXISTS `v_users`*/;
SET @saved_cs_client     = @@character_set_client;
SET character_set_client = utf8;
/*!50001 CREATE VIEW `v_users` AS SELECT
 1 AS `last`,
  1 AS `id`,
  1 AS `fullname`,
  1 AS `quota_org_group`,
  1 AS `quota_app`,
  1 AS `email`,
  1 AS `manager`,
  1 AS `groups`,
  1 AS `primary_group`,
  1 AS `lock_filter`,
  1 AS `fset_name`,
  1 AS `phone_work` */;
SET character_set_client = @saved_cs_client;

--
-- Temporary table structure for view `v_wiki_events`
--

DROP TABLE IF EXISTS `v_wiki_events`;
/*!50001 DROP VIEW IF EXISTS `v_wiki_events`*/;
SET @saved_cs_client     = @@character_set_client;
SET character_set_client = utf8;
/*!50001 CREATE VIEW `v_wiki_events` AS SELECT
 1 AS `id`,
  1 AS `name`,
  1 AS `title`,
  1 AS `saved_on`,
  1 AS `change_note`,
  1 AS `body`,
  1 AS `email` */;
SET character_set_client = @saved_cs_client;

--
-- Table structure for table `wiki_pages`
--

DROP TABLE IF EXISTS `wiki_pages`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `wiki_pages` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `name` varchar(100) DEFAULT NULL,
  `author` int(11) DEFAULT NULL,
  `saved_on` datetime DEFAULT NULL,
  `title` varchar(100) DEFAULT NULL,
  `body` text DEFAULT NULL,
  `change_note` varchar(200) DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=MyISAM AUTO_INCREMENT=88 DEFAULT CHARSET=utf8 COLLATE=utf8_general_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `workflows`
--

DROP TABLE IF EXISTS `workflows`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `workflows` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `form_head_id` int(11) NOT NULL,
  `status` varchar(10) NOT NULL,
  `steps` int(11) NOT NULL,
  `creator` varchar(200) NOT NULL,
  `create_date` datetime NOT NULL,
  `last_assignee` varchar(200) NOT NULL,
  `last_update` datetime NOT NULL,
  `form_md5` varchar(32) DEFAULT NULL,
  `last_form_id` int(11) DEFAULT NULL,
  `last_form_name` varchar(100) DEFAULT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `idx1` (`form_head_id`)
) ENGINE=InnoDB AUTO_INCREMENT=1324 DEFAULT CHARSET=utf8 COLLATE=utf8_general_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Current Database: `pdns`
--

CREATE DATABASE /*!32312 IF NOT EXISTS*/ `pdns` /*!40100 DEFAULT CHARACTER SET latin1 COLLATE latin1_swedish_ci */;

USE `pdns`;

--
-- Table structure for table `comments`
--

DROP TABLE IF EXISTS `comments`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `comments` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `domain_id` int(11) NOT NULL,
  `name` varchar(255) NOT NULL,
  `type` varchar(10) NOT NULL,
  `modified_at` int(11) NOT NULL,
  `account` varchar(40) NOT NULL,
  `comment` varchar(64000) NOT NULL,
  PRIMARY KEY (`id`),
  KEY `comments_domain_id_idx` (`domain_id`),
  KEY `comments_name_type_idx` (`name`,`type`),
  KEY `comments_order_idx` (`domain_id`,`modified_at`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1 COLLATE=latin1_swedish_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `cryptokeys`
--

DROP TABLE IF EXISTS `cryptokeys`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `cryptokeys` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `domain_id` int(11) NOT NULL,
  `flags` int(11) NOT NULL,
  `active` tinyint(1) DEFAULT NULL,
  `content` text DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `domainidindex` (`domain_id`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1 COLLATE=latin1_swedish_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `domainmetadata`
--

DROP TABLE IF EXISTS `domainmetadata`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `domainmetadata` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `domain_id` int(11) NOT NULL,
  `kind` varchar(32) DEFAULT NULL,
  `content` text DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `domainmetadata_idx` (`domain_id`,`kind`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1 COLLATE=latin1_swedish_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `domains`
--

DROP TABLE IF EXISTS `domains`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `domains` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `name` varchar(255) NOT NULL,
  `master` varchar(128) DEFAULT NULL,
  `last_check` int(11) DEFAULT NULL,
  `type` varchar(6) NOT NULL,
  `notified_serial` int(11) DEFAULT NULL,
  `account` varchar(40) DEFAULT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `name_index` (`name`)
) ENGINE=InnoDB AUTO_INCREMENT=8 DEFAULT CHARSET=latin1 COLLATE=latin1_swedish_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `records`
--

DROP TABLE IF EXISTS `records`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `records` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `domain_id` int(11) DEFAULT NULL,
  `name` varchar(255) DEFAULT NULL,
  `type` varchar(10) DEFAULT NULL,
  `content` varchar(64000) DEFAULT NULL,
  `ttl` int(11) DEFAULT NULL,
  `prio` int(11) DEFAULT NULL,
  `change_date` int(11) DEFAULT NULL,
  `disabled` tinyint(1) DEFAULT 0,
  `ordername` varchar(255) CHARACTER SET latin1 COLLATE latin1_bin DEFAULT NULL,
  `auth` tinyint(1) DEFAULT 1,
  PRIMARY KEY (`id`),
  KEY `nametype_index` (`name`,`type`),
  KEY `domain_id` (`domain_id`),
  KEY `recordorder` (`domain_id`,`ordername`)
) ENGINE=InnoDB AUTO_INCREMENT=202 DEFAULT CHARSET=latin1 COLLATE=latin1_swedish_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `supermasters`
--

DROP TABLE IF EXISTS `supermasters`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `supermasters` (
  `ip` varchar(64) NOT NULL,
  `nameserver` varchar(255) NOT NULL,
  `account` varchar(40) NOT NULL,
  PRIMARY KEY (`ip`,`nameserver`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1 COLLATE=latin1_swedish_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `tsigkeys`
--

DROP TABLE IF EXISTS `tsigkeys`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `tsigkeys` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `name` varchar(255) DEFAULT NULL,
  `algorithm` varchar(50) DEFAULT NULL,
  `secret` varchar(255) DEFAULT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `namealgoindex` (`name`,`algorithm`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1 COLLATE=latin1_swedish_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Current Database: `opensvc`
--

USE `opensvc`;

--
-- Final view structure for view `v_action_queue`
--

/*!50001 DROP VIEW IF EXISTS `v_action_queue`*/;
/*!50001 SET @saved_cs_client          = @@character_set_client */;
/*!50001 SET @saved_cs_results         = @@character_set_results */;
/*!50001 SET @saved_col_connection     = @@collation_connection */;
/*!50001 SET character_set_client      = utf8 */;
/*!50001 SET character_set_results     = utf8 */;
/*!50001 SET collation_connection      = utf8_general_ci */;
/*!50001 CREATE ALGORITHM=UNDEFINED */
/*!50013 DEFINER=`root`@`127.0.0.1` SQL SECURITY INVOKER */
/*!50001 VIEW `v_action_queue` AS select `n`.`nodename` AS `nodename`,`s`.`svcname` AS `svcname`,`a`.`id` AS `id`,`a`.`status` AS `status`,`a`.`command` AS `command`,`a`.`date_queued` AS `date_queued`,`a`.`date_dequeued` AS `date_dequeued`,`a`.`ret` AS `ret`,`a`.`stdout` AS `stdout`,`a`.`stderr` AS `stderr`,`a`.`action_type` AS `action_type`,`a`.`user_id` AS `user_id`,`a`.`form_id` AS `form_id`,`a`.`connect_to` AS `connect_to`,`a`.`node_id` AS `node_id`,`a`.`svc_id` AS `svc_id`,concat(`u`.`first_name`,' ',`u`.`last_name`) AS `username` from (((`action_queue` `a` left join `auth_user` `u` on(`a`.`user_id` = `u`.`id`)) left join `nodes` `n` on(`a`.`node_id` = `n`.`node_id`)) left join `services` `s` on(`a`.`svc_id` <> '' and `a`.`svc_id` = `s`.`svc_id`)) */;
/*!50001 SET character_set_client      = @saved_cs_client */;
/*!50001 SET character_set_results     = @saved_cs_results */;
/*!50001 SET collation_connection      = @saved_col_connection */;

--
-- Final view structure for view `v_apps`
--

/*!50001 DROP VIEW IF EXISTS `v_apps`*/;
/*!50001 SET @saved_cs_client          = @@character_set_client */;
/*!50001 SET @saved_cs_results         = @@character_set_results */;
/*!50001 SET @saved_col_connection     = @@collation_connection */;
/*!50001 SET character_set_client      = utf8 */;
/*!50001 SET character_set_results     = utf8 */;
/*!50001 SET collation_connection      = utf8_general_ci */;
/*!50001 CREATE ALGORITHM=UNDEFINED */
/*!50013 DEFINER=`root`@`127.0.0.1` SQL SECURITY INVOKER */
/*!50001 VIEW `v_apps` AS (select `a`.`id` AS `id`,`a`.`app` AS `app`,`a`.`updated` AS `updated`,`a`.`app_domain` AS `app_domain`,`a`.`app_team_ops` AS `app_team_ops`,`a`.`description` AS `description`,group_concat(distinct `tr`.`role` order by `tr`.`role` ASC separator ', ') AS `responsibles`,group_concat(distinct `tp`.`role` order by `tp`.`role` ASC separator ', ') AS `publications` from ((((`apps` `a` left join `apps_responsibles` `ar` on(`a`.`id` = `ar`.`app_id`)) left join `auth_group` `tr` on(`ar`.`group_id` = `tr`.`id`)) left join `apps_publications` `ap` on(`a`.`id` = `ap`.`app_id`)) left join `auth_group` `tp` on(`ap`.`group_id` = `tp`.`id`)) group by `a`.`app`) */;
/*!50001 SET character_set_client      = @saved_cs_client */;
/*!50001 SET character_set_results     = @saved_cs_results */;
/*!50001 SET collation_connection      = @saved_col_connection */;

--
-- Final view structure for view `v_comp_explicit_rulesets`
--

/*!50001 DROP VIEW IF EXISTS `v_comp_explicit_rulesets`*/;
/*!50001 SET @saved_cs_client          = @@character_set_client */;
/*!50001 SET @saved_cs_results         = @@character_set_results */;
/*!50001 SET @saved_col_connection     = @@collation_connection */;
/*!50001 SET character_set_client      = utf8 */;
/*!50001 SET character_set_results     = utf8 */;
/*!50001 SET collation_connection      = utf8_general_ci */;
/*!50001 CREATE ALGORITHM=UNDEFINED */
/*!50013 DEFINER=`root`@`localhost` SQL SECURITY INVOKER */
/*!50001 VIEW `v_comp_explicit_rulesets` AS (select `r`.`id` AS `id`,`r`.`ruleset_name` AS `ruleset_name`,group_concat(distinct concat(`v`.`var_name`,'=',`v`.`var_value`) separator '|') AS `variables` from (`comp_rulesets` `r` left join `comp_rulesets_variables` `v` on(`r`.`id` = `v`.`ruleset_id`)) where `r`.`ruleset_type` = 'explicit' group by `r`.`id`) */;
/*!50001 SET character_set_client      = @saved_cs_client */;
/*!50001 SET character_set_results     = @saved_cs_results */;
/*!50001 SET collation_connection      = @saved_col_connection */;

--
-- Final view structure for view `v_comp_moduleset_attachments`
--

/*!50001 DROP VIEW IF EXISTS `v_comp_moduleset_attachments`*/;
/*!50001 SET @saved_cs_client          = @@character_set_client */;
/*!50001 SET @saved_cs_results         = @@character_set_results */;
/*!50001 SET @saved_col_connection     = @@collation_connection */;
/*!50001 SET character_set_client      = utf8 */;
/*!50001 SET character_set_results     = utf8 */;
/*!50001 SET collation_connection      = utf8_general_ci */;
/*!50001 CREATE ALGORITHM=UNDEFINED */
/*!50013 DEFINER=`root`@`127.0.0.1` SQL SECURITY INVOKER */
/*!50001 VIEW `v_comp_moduleset_attachments` AS select `nm`.`node_id` AS `node_id`,NULL AS `svc_id`,`ms`.`modset_name` AS `modset_name` from (`comp_node_moduleset` `nm` join `comp_moduleset` `ms` on(`nm`.`modset_id` = `ms`.`id`)) union all select '' AS `node_id`,`sm`.`svc_id` AS `svc_id`,`ms`.`modset_name` AS `modset_name` from (`comp_modulesets_services` `sm` join `comp_moduleset` `ms` on(`sm`.`modset_id` = `ms`.`id`)) */;
/*!50001 SET character_set_client      = @saved_cs_client */;
/*!50001 SET character_set_results     = @saved_cs_results */;
/*!50001 SET collation_connection      = @saved_col_connection */;

--
-- Final view structure for view `v_comp_modulesets`
--

/*!50001 DROP VIEW IF EXISTS `v_comp_modulesets`*/;
/*!50001 SET @saved_cs_client          = @@character_set_client */;
/*!50001 SET @saved_cs_results         = @@character_set_results */;
/*!50001 SET @saved_col_connection     = @@collation_connection */;
/*!50001 SET character_set_client      = utf8 */;
/*!50001 SET character_set_results     = utf8 */;
/*!50001 SET collation_connection      = utf8_general_ci */;
/*!50001 CREATE ALGORITHM=UNDEFINED */
/*!50013 DEFINER=`root`@`127.0.0.1` SQL SECURITY INVOKER */
/*!50001 VIEW `v_comp_modulesets` AS select if(`m`.`id`,`m`.`id`,0) AS `id`,`ms`.`id` AS `modset_id`,`ms`.`modset_name` AS `modset_name`,`ms`.`modset_author` AS `modset_author`,`ms`.`modset_updated` AS `modset_updated`,`m`.`id` AS `modset_mod_id`,`m`.`modset_mod_name` AS `modset_mod_name`,`m`.`modset_mod_author` AS `modset_mod_author`,`m`.`modset_mod_updated` AS `modset_mod_updated`,`m`.`autofix` AS `autofix`,group_concat(distinct `rg`.`role` separator ', ') AS `teams_responsible`,group_concat(distinct `pg`.`role` separator ', ') AS `teams_publication` from (((((`comp_moduleset` `ms` left join `comp_moduleset_modules` `m` on(`ms`.`id` = `m`.`modset_id`)) left join `comp_moduleset_team_responsible` `rt` on(`ms`.`id` = `rt`.`modset_id`)) left join `comp_moduleset_team_publication` `pt` on(`ms`.`id` = `pt`.`modset_id`)) left join `auth_group` `rg` on(`rt`.`group_id` = `rg`.`id`)) left join `auth_group` `pg` on(`pt`.`group_id` = `pg`.`id`)) group by `m`.`id`,`ms`.`id` */;
/*!50001 SET character_set_client      = @saved_cs_client */;
/*!50001 SET character_set_results     = @saved_cs_results */;
/*!50001 SET collation_connection      = @saved_col_connection */;

--
-- Final view structure for view `v_comp_nodes`
--

/*!50001 DROP VIEW IF EXISTS `v_comp_nodes`*/;
/*!50001 SET @saved_cs_client          = @@character_set_client */;
/*!50001 SET @saved_cs_results         = @@character_set_results */;
/*!50001 SET @saved_col_connection     = @@collation_connection */;
/*!50001 SET character_set_client      = latin1 */;
/*!50001 SET character_set_results     = latin1 */;
/*!50001 SET collation_connection      = latin1_swedish_ci */;
/*!50001 CREATE ALGORITHM=UNDEFINED */
/*!50013 DEFINER=`root`@`127.0.0.1` SQL SECURITY INVOKER */
/*!50001 VIEW `v_comp_nodes` AS (select `n`.`node_id` AS `node_id`,`n`.`nodename` AS `nodename`,`n`.`fqdn` AS `fqdn`,`n`.`loc_country` AS `loc_country`,`n`.`loc_city` AS `loc_city`,`n`.`loc_addr` AS `loc_addr`,`n`.`loc_building` AS `loc_building`,`n`.`loc_floor` AS `loc_floor`,`n`.`loc_room` AS `loc_room`,`n`.`loc_rack` AS `loc_rack`,`n`.`id` AS `id`,`n`.`cpu_freq` AS `cpu_freq`,`n`.`cpu_cores` AS `cpu_cores`,`n`.`cpu_dies` AS `cpu_dies`,`n`.`cpu_vendor` AS `cpu_vendor`,`n`.`cpu_model` AS `cpu_model`,`n`.`mem_banks` AS `mem_banks`,`n`.`mem_slots` AS `mem_slots`,`n`.`mem_bytes` AS `mem_bytes`,`n`.`os_name` AS `os_name`,`n`.`os_release` AS `os_release`,`n`.`os_update` AS `os_update`,`n`.`os_segment` AS `os_segment`,`n`.`os_arch` AS `os_arch`,`n`.`os_vendor` AS `os_vendor`,`n`.`os_kernel` AS `os_kernel`,`n`.`loc_zip` AS `loc_zip`,`n`.`version` AS `version`,`n`.`listener_port` AS `listener_port`,`n`.`tz` AS `tz`,`n`.`last_comm` AS `last_comm`,`n`.`collector` AS `collector`,`n`.`connect_to` AS `connect_to`,`n`.`team_responsible` AS `team_responsible`,`n`.`team_integ` AS `team_integ`,`n`.`team_support` AS `team_support`,`n`.`app` AS `app`,`n`.`serial` AS `serial`,`n`.`sp_version` AS `sp_version`,`n`.`bios_version` AS `bios_version`,`n`.`manufacturer` AS `manufacturer`,`n`.`model` AS `model`,`n`.`type` AS `type`,`n`.`warranty_end` AS `warranty_end`,`n`.`maintenance_end` AS `maintenance_end`,`n`.`status` AS `status`,`n`.`role` AS `role`,`n`.`asset_env` AS `asset_env`,`n`.`node_env` AS `node_env`,`n`.`power_cabinet1` AS `power_cabinet1`,`n`.`power_cabinet2` AS `power_cabinet2`,`n`.`power_supply_nb` AS `power_supply_nb`,`n`.`power_protect` AS `power_protect`,`n`.`power_protect_breaker` AS `power_protect_breaker`,`n`.`power_breaker1` AS `power_breaker1`,`n`.`power_breaker2` AS `power_breaker2`,`n`.`os_concat` AS `os_concat`,`n`.`updated` AS `updated`,`n`.`enclosure` AS `enclosure`,`n`.`enclosureslot` AS `enclosureslot`,`n`.`assetname` AS `assetname`,`n`.`cpu_threads` AS `cpu_threads`,`n`.`hw_obs_warn_date` AS `hw_obs_warn_date`,`n`.`hw_obs_alert_date` AS `hw_obs_alert_date`,`n`.`os_obs_warn_date` AS `os_obs_warn_date`,`n`.`os_obs_alert_date` AS `os_obs_alert_date`,`n`.`hvpool` AS `hvpool`,`n`.`hv` AS `hv`,`n`.`hvvdc` AS `hvvdc`,`n`.`sec_zone` AS `sec_zone`,`n`.`last_boot` AS `last_boot`,`n`.`action_type` AS `action_type`,`r`.`id` AS `ruleset_id`,`r`.`ruleset_name` AS `ruleset_name`,`m`.`id` AS `modset_id`,`m`.`modset_name` AS `modset_name` from ((((`nodes` `n` left join `comp_rulesets_nodes` `rn` on(`n`.`node_id` = `rn`.`node_id`)) left join `comp_rulesets` `r` on(`r`.`id` = `rn`.`ruleset_id`)) left join `comp_node_moduleset` `mn` on(`mn`.`node_id` = `n`.`node_id`)) left join `comp_moduleset` `m` on(`m`.`id` = `mn`.`modset_id`))) */;
/*!50001 SET character_set_client      = @saved_cs_client */;
/*!50001 SET character_set_results     = @saved_cs_results */;
/*!50001 SET collation_connection      = @saved_col_connection */;

--
-- Final view structure for view `v_comp_rulesets`
--

/*!50001 DROP VIEW IF EXISTS `v_comp_rulesets`*/;
/*!50001 SET @saved_cs_client          = @@character_set_client */;
/*!50001 SET @saved_cs_results         = @@character_set_results */;
/*!50001 SET @saved_col_connection     = @@collation_connection */;
/*!50001 SET character_set_client      = utf8 */;
/*!50001 SET character_set_results     = utf8 */;
/*!50001 SET collation_connection      = utf8_general_ci */;
/*!50001 CREATE ALGORITHM=UNDEFINED */
/*!50013 DEFINER=`root`@`127.0.0.1` SQL SECURITY INVOKER */
/*!50001 VIEW `v_comp_rulesets` AS select `r`.`id` AS `ruleset_id`,`r`.`ruleset_name` AS `ruleset_name`,`r`.`ruleset_type` AS `ruleset_type`,`r`.`ruleset_public` AS `ruleset_public`,group_concat(distinct `rg`.`role` separator ', ') AS `teams_responsible`,group_concat(distinct `pg`.`role` separator ', ') AS `teams_publication`,if(`rr`.`ruleset_name` <> `r`.`ruleset_name`,`rr`.`ruleset_name`,'') AS `encap_rset`,if(`rr`.`id` <> `r`.`id`,`rr`.`id`,NULL) AS `encap_rset_id`,`rc`.`chain` AS `chain`,`rc`.`chain_len` AS `chain_len`,`rv`.`id` AS `id`,`rv`.`var_name` AS `var_name`,`rv`.`var_class` AS `var_class`,`rv`.`var_value` AS `var_value`,`rv`.`var_author` AS `var_author`,`rv`.`var_updated` AS `var_updated`,`rf`.`fset_id` AS `fset_id`,`fs`.`fset_name` AS `fset_name` from (((((((((`comp_rulesets` `r` left join `comp_rulesets_filtersets` `rf` on(`r`.`id` = `rf`.`ruleset_id`)) left join `gen_filtersets` `fs` on(`fs`.`id` = `rf`.`fset_id`)) left join `comp_ruleset_team_responsible` `rt` on(`r`.`id` = `rt`.`ruleset_id`)) left join `comp_ruleset_team_publication` `pt` on(`r`.`id` = `pt`.`ruleset_id`)) left join `auth_group` `rg` on(`rt`.`group_id` = `rg`.`id`)) left join `auth_group` `pg` on(`pt`.`group_id` = `pg`.`id`)) left join `comp_rulesets_chains` `rc` on(`r`.`id` = `rc`.`head_rset_id`)) left join `comp_rulesets` `rr` on(`rc`.`tail_rset_id` = `rr`.`id`)) left join `comp_rulesets_variables` `rv` on(`rr`.`id` = `rv`.`ruleset_id`)) group by `r`.`id`,`rv`.`id`,`rr`.`id` */;
/*!50001 SET character_set_client      = @saved_cs_client */;
/*!50001 SET character_set_results     = @saved_cs_results */;
/*!50001 SET collation_connection      = @saved_col_connection */;

--
-- Final view structure for view `v_comp_services`
--

/*!50001 DROP VIEW IF EXISTS `v_comp_services`*/;
/*!50001 SET @saved_cs_client          = @@character_set_client */;
/*!50001 SET @saved_cs_results         = @@character_set_results */;
/*!50001 SET @saved_col_connection     = @@collation_connection */;
/*!50001 SET character_set_client      = latin1 */;
/*!50001 SET character_set_results     = latin1 */;
/*!50001 SET collation_connection      = latin1_swedish_ci */;
/*!50001 CREATE ALGORITHM=UNDEFINED */
/*!50013 DEFINER=`root`@`127.0.0.1` SQL SECURITY INVOKER */
/*!50001 VIEW `v_comp_services` AS select `s`.`svc_status_updated` AS `svc_status_updated`,`s`.`svc_ha` AS `svc_ha`,`s`.`svc_status` AS `svc_status`,`s`.`svc_availstatus` AS `svc_availstatus`,`s`.`svc_topology` AS `svc_topology`,`s`.`svc_flex_min_nodes` AS `svc_flex_min_nodes`,`s`.`svc_flex_max_nodes` AS `svc_flex_max_nodes`,`s`.`svc_flex_cpu_low_threshold` AS `svc_flex_cpu_low_threshold`,`s`.`svc_flex_cpu_high_threshold` AS `svc_flex_cpu_high_threshold`,`s`.`svc_id` AS `svc_id`,`s`.`svcname` AS `svcname`,`s`.`svc_nodes` AS `svc_nodes`,`s`.`svc_drpnode` AS `svc_drpnode`,`s`.`svc_drptype` AS `svc_drptype`,`s`.`svc_autostart` AS `svc_autostart`,`s`.`svc_env` AS `svc_env`,`s`.`svc_drpnodes` AS `svc_drpnodes`,`s`.`svc_comment` AS `svc_comment`,`s`.`svc_app` AS `svc_app`,`s`.`svc_drnoaction` AS `svc_drnoaction`,`s`.`svc_created` AS `svc_created`,`s`.`updated` AS `updated`,`s`.`svc_config_updated` AS `svc_config_updated`,`s`.`svc_metrocluster` AS `svc_metrocluster`,`s`.`id` AS `id`,`s`.`svc_wave` AS `svc_wave`,'F' AS `encap`,`r`.`id` AS `ruleset_id`,`r`.`ruleset_name` AS `ruleset_name`,`m`.`id` AS `modset_id`,`m`.`modset_name` AS `modset_name` from ((((`services` `s` left join `comp_rulesets_services` `rs1` on(`s`.`svc_id` = `rs1`.`svc_id` and `rs1`.`slave` = 'F')) left join `comp_rulesets` `r` on(`rs1`.`ruleset_id` = `r`.`id`)) left join `comp_modulesets_services` `ms` on(`s`.`svc_id` = `ms`.`svc_id` and `ms`.`slave` = 'F')) left join `comp_moduleset` `m` on(`ms`.`modset_id` = `m`.`id`)) union all select `s`.`svc_status_updated` AS `svc_status_updated`,`s`.`svc_ha` AS `svc_ha`,`s`.`svc_status` AS `svc_status`,`s`.`svc_availstatus` AS `svc_availstatus`,`s`.`svc_topology` AS `svc_topology`,`s`.`svc_flex_min_nodes` AS `svc_flex_min_nodes`,`s`.`svc_flex_max_nodes` AS `svc_flex_max_nodes`,`s`.`svc_flex_cpu_low_threshold` AS `svc_flex_cpu_low_threshold`,`s`.`svc_flex_cpu_high_threshold` AS `svc_flex_cpu_high_threshold`,`s`.`svc_id` AS `svc_id`,`s`.`svcname` AS `svcname`,`s`.`svc_nodes` AS `svc_nodes`,`s`.`svc_drpnode` AS `svc_drpnode`,`s`.`svc_drptype` AS `svc_drptype`,`s`.`svc_autostart` AS `svc_autostart`,`s`.`svc_env` AS `svc_env`,`s`.`svc_drpnodes` AS `svc_drpnodes`,`s`.`svc_comment` AS `svc_comment`,`s`.`svc_app` AS `svc_app`,`s`.`svc_drnoaction` AS `svc_drnoaction`,`s`.`svc_created` AS `svc_created`,`s`.`updated` AS `updated`,`s`.`svc_config_updated` AS `svc_config_updated`,`s`.`svc_metrocluster` AS `svc_metrocluster`,`s`.`id` AS `id`,`s`.`svc_wave` AS `svc_wave`,'T' AS `encap`,`r`.`id` AS `ruleset_id`,`r`.`ruleset_name` AS `ruleset_name`,`m`.`id` AS `modset_id`,`m`.`modset_name` AS `modset_name` from (((((`services` `s` join `svcmon` `sm` on(`s`.`svc_id` = `sm`.`svc_id` and `sm`.`mon_vmname` <> '' and `sm`.`mon_vmname` is not null)) left join `comp_rulesets_services` `rs1` on(`s`.`svc_id` = `rs1`.`svc_id` and `rs1`.`slave` = 'T')) left join `comp_rulesets` `r` on(`rs1`.`ruleset_id` = `r`.`id`)) left join `comp_modulesets_services` `ms` on(`s`.`svc_id` = `ms`.`svc_id` and `ms`.`slave` = 'T')) left join `comp_moduleset` `m` on(`ms`.`modset_id` = `m`.`id`)) */;
/*!50001 SET character_set_client      = @saved_cs_client */;
/*!50001 SET character_set_results     = @saved_cs_results */;
/*!50001 SET collation_connection      = @saved_col_connection */;

--
-- Final view structure for view `v_disk_app_dedup`
--

/*!50001 DROP VIEW IF EXISTS `v_disk_app_dedup`*/;
/*!50001 SET @saved_cs_client          = @@character_set_client */;
/*!50001 SET @saved_cs_results         = @@character_set_results */;
/*!50001 SET @saved_col_connection     = @@collation_connection */;
/*!50001 SET character_set_client      = utf8 */;
/*!50001 SET character_set_results     = utf8 */;
/*!50001 SET collation_connection      = utf8_general_ci */;
/*!50001 CREATE ALGORITHM=UNDEFINED */
/*!50013 DEFINER=`root`@`127.0.0.1` SQL SECURITY INVOKER */
/*!50001 VIEW `v_disk_app_dedup` AS select `apps`.`app` AS `app`,max(`svcdisks`.`disk_used`) AS `disk_used`,`svcdisks`.`disk_size` AS `disk_size`,`diskinfo`.`disk_arrayid` AS `disk_arrayid`,`diskinfo`.`disk_group` AS `disk_group` from ((`svcdisks` join `diskinfo`) join `apps`) where `svcdisks`.`disk_id` = convert(`diskinfo`.`disk_id` using utf8) and `svcdisks`.`app_id` = `apps`.`id` group by `svcdisks`.`disk_id`,`svcdisks`.`disk_region`,`diskinfo`.`disk_arrayid`,`diskinfo`.`disk_group` */;
/*!50001 SET character_set_client      = @saved_cs_client */;
/*!50001 SET character_set_results     = @saved_cs_results */;
/*!50001 SET collation_connection      = @saved_col_connection */;

--
-- Final view structure for view `v_disk_quota`
--

/*!50001 DROP VIEW IF EXISTS `v_disk_quota`*/;
/*!50001 SET @saved_cs_client          = @@character_set_client */;
/*!50001 SET @saved_cs_results         = @@character_set_results */;
/*!50001 SET @saved_col_connection     = @@collation_connection */;
/*!50001 SET character_set_client      = latin1 */;
/*!50001 SET character_set_results     = latin1 */;
/*!50001 SET collation_connection      = latin1_swedish_ci */;
/*!50001 CREATE ALGORITHM=UNDEFINED */
/*!50013 DEFINER=`root`@`localhost` SQL SECURITY INVOKER */
/*!50001 VIEW `v_disk_quota` AS select `stor_array_dg_quota`.`id` AS `id`,`stor_array`.`id` AS `array_id`,`stor_array_dg`.`id` AS `dg_id`,`stor_array_dg_quota`.`app_id` AS `app_id`,`stor_array`.`array_name` AS `array_name`,`stor_array_dg`.`dg_name` AS `dg_name`,`stor_array_dg`.`dg_free` AS `dg_free`,`stor_array_dg`.`dg_size` AS `dg_size`,`stor_array_dg`.`dg_used` AS `dg_used`,`stor_array_dg`.`dg_reserved` AS `dg_reserved`,`stor_array_dg`.`dg_size` - `stor_array_dg`.`dg_reserved` AS `dg_reservable`,`stor_array`.`array_model` AS `array_model`,`apps`.`app` AS `app`,`stor_array_dg_quota`.`quota` AS `quota`,ifnull(sum(`v_disk_app_dedup`.`disk_used`),0) AS `quota_used` from ((((`stor_array_dg_quota` left join `apps` on(`apps`.`id` = `stor_array_dg_quota`.`app_id`)) left join `stor_array_dg` on(`stor_array_dg`.`id` = `stor_array_dg_quota`.`dg_id`)) left join `stor_array` on(`stor_array_dg`.`array_id` = `stor_array`.`id`)) left join `v_disk_app_dedup` on(`v_disk_app_dedup`.`app` = `apps`.`app` and convert(`v_disk_app_dedup`.`disk_arrayid` using utf8) = `stor_array`.`array_name` and convert(`v_disk_app_dedup`.`disk_group` using utf8) = `stor_array_dg`.`dg_name`)) group by `stor_array_dg_quota`.`id` */;
/*!50001 SET character_set_client      = @saved_cs_client */;
/*!50001 SET character_set_results     = @saved_cs_results */;
/*!50001 SET collation_connection      = @saved_col_connection */;

--
-- Final view structure for view `v_disks_app`
--

/*!50001 DROP VIEW IF EXISTS `v_disks_app`*/;
/*!50001 SET @saved_cs_client          = @@character_set_client */;
/*!50001 SET @saved_cs_results         = @@character_set_results */;
/*!50001 SET @saved_col_connection     = @@collation_connection */;
/*!50001 SET character_set_client      = utf8 */;
/*!50001 SET character_set_results     = utf8 */;
/*!50001 SET collation_connection      = utf8_general_ci */;
/*!50001 CREATE ALGORITHM=UNDEFINED */
/*!50013 DEFINER=`root`@`127.0.0.1` SQL SECURITY INVOKER */
/*!50001 VIEW `v_disks_app` AS select `v_disk_app_dedup`.`app` AS `app`,sum(if(`v_disk_app_dedup`.`disk_used` is not null and `v_disk_app_dedup`.`disk_used` > 0,`v_disk_app_dedup`.`disk_used`,`v_disk_app_dedup`.`disk_size`)) AS `disk_used`,`v_disk_app_dedup`.`disk_arrayid` AS `disk_arrayid`,`v_disk_app_dedup`.`disk_group` AS `disk_group` from `v_disk_app_dedup` group by `v_disk_app_dedup`.`app`,`v_disk_app_dedup`.`disk_arrayid`,`v_disk_app_dedup`.`disk_group` */;
/*!50001 SET character_set_client      = @saved_cs_client */;
/*!50001 SET character_set_results     = @saved_cs_results */;
/*!50001 SET collation_connection      = @saved_col_connection */;

--
-- Final view structure for view `v_forms`
--

/*!50001 DROP VIEW IF EXISTS `v_forms`*/;
/*!50001 SET @saved_cs_client          = @@character_set_client */;
/*!50001 SET @saved_cs_results         = @@character_set_results */;
/*!50001 SET @saved_col_connection     = @@collation_connection */;
/*!50001 SET character_set_client      = latin1 */;
/*!50001 SET character_set_results     = latin1 */;
/*!50001 SET collation_connection      = latin1_swedish_ci */;
/*!50001 CREATE ALGORITHM=UNDEFINED */
/*!50013 DEFINER=`root`@`localhost` SQL SECURITY INVOKER */
/*!50001 VIEW `v_forms` AS (select `f`.`id` AS `id`,`f`.`form_name` AS `form_name`,`f`.`form_yaml` AS `form_yaml`,`f`.`form_author` AS `form_author`,`f`.`form_created` AS `form_created`,`f`.`form_type` AS `form_type`,`f`.`form_folder` AS `form_folder`,group_concat(distinct `gg`.`role` order by `gg`.`role` ASC separator ', ') AS `form_team_publication`,group_concat(distinct `g`.`role` order by `g`.`role` ASC separator ', ') AS `form_team_responsible` from ((((`forms` `f` left join `forms_team_responsible` `fr` on(`f`.`id` = `fr`.`form_id`)) left join `auth_group` `g` on(`fr`.`group_id` = `g`.`id`)) left join `forms_team_publication` `fp` on(`f`.`id` = `fp`.`form_id`)) left join `auth_group` `gg` on(`fp`.`group_id` = `gg`.`id`)) group by `f`.`id`) */;
/*!50001 SET character_set_client      = @saved_cs_client */;
/*!50001 SET character_set_results     = @saved_cs_results */;
/*!50001 SET collation_connection      = @saved_col_connection */;

--
-- Final view structure for view `v_forms_store`
--

/*!50001 DROP VIEW IF EXISTS `v_forms_store`*/;
/*!50001 SET @saved_cs_client          = @@character_set_client */;
/*!50001 SET @saved_cs_results         = @@character_set_results */;
/*!50001 SET @saved_col_connection     = @@collation_connection */;
/*!50001 SET character_set_client      = utf8 */;
/*!50001 SET character_set_results     = utf8 */;
/*!50001 SET collation_connection      = utf8_general_ci */;
/*!50001 CREATE ALGORITHM=UNDEFINED */
/*!50013 DEFINER=`root`@`127.0.0.1` SQL SECURITY INVOKER */
/*!50001 VIEW `v_forms_store` AS select `fs`.`id` AS `id`,`fs`.`results_id` AS `results_id`,`fs`.`form_submitter` AS `form_submitter`,`fs`.`form_submit_date` AS `form_submit_date`,`fs`.`form_data` AS `form_data`,`fs`.`form_next_id` AS `form_next_id`,`fs`.`form_prev_id` AS `form_prev_id`,`fs`.`form_assignee` AS `form_assignee`,`fs`.`form_head_id` AS `form_head_id`,`fs`.`form_md5` AS `form_md5`,`fs`.`form_var_id` AS `form_var_id`,`fr`.`form_yaml` AS `form_yaml`,`fr`.`form_date` AS `form_date`,`fr`.`form_id` AS `form_id`,`fr`.`form_folder` AS `form_folder`,`fr`.`form_name` AS `form_name` from (`forms_store` `fs` join `forms_revisions` `fr`) where `fs`.`form_md5` = `fr`.`form_md5` */;
/*!50001 SET character_set_client      = @saved_cs_client */;
/*!50001 SET character_set_results     = @saved_cs_results */;
/*!50001 SET collation_connection      = @saved_col_connection */;

--
-- Final view structure for view `v_gen_filterset_check_threshold`
--

/*!50001 DROP VIEW IF EXISTS `v_gen_filterset_check_threshold`*/;
/*!50001 SET @saved_cs_client          = @@character_set_client */;
/*!50001 SET @saved_cs_results         = @@character_set_results */;
/*!50001 SET @saved_col_connection     = @@collation_connection */;
/*!50001 SET character_set_client      = utf8 */;
/*!50001 SET character_set_results     = utf8 */;
/*!50001 SET collation_connection      = utf8_general_ci */;
/*!50001 CREATE ALGORITHM=UNDEFINED */
/*!50013 DEFINER=`root`@`127.0.0.1` SQL SECURITY INVOKER */
/*!50001 VIEW `v_gen_filterset_check_threshold` AS (select `fsc`.`id` AS `id`,`fsc`.`fset_id` AS `fset_id`,`fsc`.`chk_type` AS `chk_type`,`fsc`.`chk_low` AS `chk_low`,`fsc`.`chk_high` AS `chk_high`,`fsc`.`chk_instance` AS `chk_instance`,concat(if(`fs`.`fset_name` is not null,`fs`.`fset_name`,'fset_deleted'),' ',`fsc`.`chk_type`,':',`fsc`.`chk_instance`,' ',`fsc`.`chk_low`,':',`fsc`.`chk_high`) AS `name` from (`gen_filterset_check_threshold` `fsc` left join `gen_filtersets` `fs` on(`fsc`.`fset_id` = `fs`.`id`))) */;
/*!50001 SET character_set_client      = @saved_cs_client */;
/*!50001 SET character_set_results     = @saved_cs_results */;
/*!50001 SET collation_connection      = @saved_col_connection */;

--
-- Final view structure for view `v_gen_filterset_teams_responsible`
--

/*!50001 DROP VIEW IF EXISTS `v_gen_filterset_teams_responsible`*/;
/*!50001 SET @saved_cs_client          = @@character_set_client */;
/*!50001 SET @saved_cs_results         = @@character_set_results */;
/*!50001 SET @saved_col_connection     = @@collation_connection */;
/*!50001 SET character_set_client      = latin1 */;
/*!50001 SET character_set_results     = latin1 */;
/*!50001 SET collation_connection      = latin1_swedish_ci */;
/*!50001 CREATE ALGORITHM=UNDEFINED */
/*!50013 DEFINER=`root`@`localhost` SQL SECURITY INVOKER */
/*!50001 VIEW `v_gen_filterset_teams_responsible` AS (select `m`.`id` AS `fset_id`,group_concat(`g`.`role` separator ', ') AS `teams_responsible` from ((`gen_filtersets` `m` left join `gen_filterset_team_responsible` `j` on(`m`.`id` = `j`.`fset_id`)) left join `auth_group` `g` on(`j`.`group_id` = `g`.`id`)) group by `m`.`id`) */;
/*!50001 SET character_set_client      = @saved_cs_client */;
/*!50001 SET character_set_results     = @saved_cs_results */;
/*!50001 SET collation_connection      = @saved_col_connection */;

--
-- Final view structure for view `v_gen_filtersets`
--

/*!50001 DROP VIEW IF EXISTS `v_gen_filtersets`*/;
/*!50001 SET @saved_cs_client          = @@character_set_client */;
/*!50001 SET @saved_cs_results         = @@character_set_results */;
/*!50001 SET @saved_col_connection     = @@collation_connection */;
/*!50001 SET character_set_client      = utf8 */;
/*!50001 SET character_set_results     = utf8 */;
/*!50001 SET collation_connection      = utf8_general_ci */;
/*!50001 CREATE ALGORITHM=UNDEFINED */
/*!50013 DEFINER=`root`@`127.0.0.1` SQL SECURITY INVOKER */
/*!50001 VIEW `v_gen_filtersets` AS (select `fs`.`fset_name` AS `fset_name`,`fs`.`fset_stats` AS `fset_stats`,`fs`.`fset_updated` AS `fset_updated`,`fs`.`fset_author` AS `fset_author`,`fs`.`id` AS `fset_id`,`g`.`id` AS `join_id`,`g`.`f_order` AS `f_order`,`f`.`id` AS `f_id`,`g`.`encap_fset_id` AS `encap_fset_id`,`cfs`.`fset_name` AS `encap_fset_name`,`g`.`f_log_op` AS `f_log_op`,`f`.`id` AS `id`,`f`.`f_table` AS `f_table`,`f`.`f_field` AS `f_field`,`f`.`f_value` AS `f_value`,`f`.`f_updated` AS `f_updated`,`f`.`f_author` AS `f_author`,`f`.`f_op` AS `f_op`,`f`.`f_label` AS `f_label` from (((`gen_filtersets` `fs` left join `gen_filtersets_filters` `g` on(`g`.`fset_id` = `fs`.`id`)) left join `gen_filtersets` `cfs` on(`g`.`encap_fset_id` = `cfs`.`id`)) left join `gen_filters` `f` on(`g`.`f_id` = `f`.`id`))) */;
/*!50001 SET character_set_client      = @saved_cs_client */;
/*!50001 SET character_set_results     = @saved_cs_results */;
/*!50001 SET collation_connection      = @saved_col_connection */;

--
-- Final view structure for view `v_gids`
--

/*!50001 DROP VIEW IF EXISTS `v_gids`*/;
/*!50001 SET @saved_cs_client          = @@character_set_client */;
/*!50001 SET @saved_cs_results         = @@character_set_results */;
/*!50001 SET @saved_col_connection     = @@collation_connection */;
/*!50001 SET character_set_client      = utf8 */;
/*!50001 SET character_set_results     = utf8 */;
/*!50001 SET collation_connection      = utf8_general_ci */;
/*!50001 CREATE ALGORITHM=UNDEFINED */
/*!50013 DEFINER=`root`@`127.0.0.1` SQL SECURITY INVOKER */
/*!50001 VIEW `v_gids` AS select `node_groups`.`id` AS `id`,`node_groups`.`group_id` AS `group_id`,count(`node_groups`.`id`) AS `group_id_count`,group_concat(`node_groups`.`group_name` separator ',') AS `group_name` from `node_groups` group by `node_groups`.`group_id` */;
/*!50001 SET character_set_client      = @saved_cs_client */;
/*!50001 SET character_set_results     = @saved_cs_results */;
/*!50001 SET collation_connection      = @saved_col_connection */;

--
-- Final view structure for view `v_lifecycle_os_name`
--

/*!50001 DROP VIEW IF EXISTS `v_lifecycle_os_name`*/;
/*!50001 SET @saved_cs_client          = @@character_set_client */;
/*!50001 SET @saved_cs_results         = @@character_set_results */;
/*!50001 SET @saved_col_connection     = @@collation_connection */;
/*!50001 SET character_set_client      = latin1 */;
/*!50001 SET character_set_results     = latin1 */;
/*!50001 SET collation_connection      = latin1_swedish_ci */;
/*!50001 CREATE ALGORITHM=UNDEFINED */
/*!50013 DEFINER=`root`@`localhost` SQL SECURITY INVOKER */
/*!50001 VIEW `v_lifecycle_os_name` AS select `lifecycle_os`.`id` AS `id`,`lifecycle_os`.`fset_id` AS `fset_id`,`lifecycle_os`.`lc_date` AS `lc_date`,sum(`lifecycle_os`.`lc_count`) AS `lc_count`,`lifecycle_os`.`lc_os_name` AS `lc_os_name` from `lifecycle_os` group by `lifecycle_os`.`lc_date`,`lifecycle_os`.`lc_os_name`,`lifecycle_os`.`fset_id` order by `lifecycle_os`.`lc_date`,`lifecycle_os`.`lc_os_name` */;
/*!50001 SET character_set_client      = @saved_cs_client */;
/*!50001 SET character_set_results     = @saved_cs_results */;
/*!50001 SET collation_connection      = @saved_col_connection */;

--
-- Final view structure for view `v_nb_services`
--

/*!50001 DROP VIEW IF EXISTS `v_nb_services`*/;
/*!50001 SET @saved_cs_client          = @@character_set_client */;
/*!50001 SET @saved_cs_results         = @@character_set_results */;
/*!50001 SET @saved_col_connection     = @@collation_connection */;
/*!50001 SET character_set_client      = latin1 */;
/*!50001 SET character_set_results     = latin1 */;
/*!50001 SET collation_connection      = latin1_swedish_ci */;
/*!50001 CREATE ALGORITHM=UNDEFINED */
/*!50013 DEFINER=`root`@`localhost` SQL SECURITY INVOKER */
/*!50001 VIEW `v_nb_services` AS select count(`services`.`id`) AS `nb_svc` from `services` */;
/*!50001 SET character_set_client      = @saved_cs_client */;
/*!50001 SET character_set_results     = @saved_cs_results */;
/*!50001 SET collation_connection      = @saved_col_connection */;

--
-- Final view structure for view `v_network_segments`
--

/*!50001 DROP VIEW IF EXISTS `v_network_segments`*/;
/*!50001 SET @saved_cs_client          = @@character_set_client */;
/*!50001 SET @saved_cs_results         = @@character_set_results */;
/*!50001 SET @saved_col_connection     = @@collation_connection */;
/*!50001 SET character_set_client      = latin1 */;
/*!50001 SET character_set_results     = latin1 */;
/*!50001 SET collation_connection      = latin1_swedish_ci */;
/*!50001 CREATE ALGORITHM=UNDEFINED */
/*!50013 DEFINER=`root`@`localhost` SQL SECURITY INVOKER */
/*!50001 VIEW `v_network_segments` AS (select `s`.`id` AS `id`,`s`.`net_id` AS `net_id`,`s`.`seg_type` AS `seg_type`,`s`.`seg_begin` AS `seg_begin`,`s`.`seg_end` AS `seg_end`,group_concat(`g`.`role` separator ', ') AS `teams_responsible` from ((`network_segments` `s` left join `network_segment_responsibles` `sr` on(`s`.`id` = `sr`.`seg_id`)) left join `auth_group` `g` on(`sr`.`group_id` = `g`.`id`)) group by `s`.`id`) */;
/*!50001 SET character_set_client      = @saved_cs_client */;
/*!50001 SET character_set_results     = @saved_cs_results */;
/*!50001 SET collation_connection      = @saved_col_connection */;

--
-- Final view structure for view `v_nodenetworks`
--

/*!50001 DROP VIEW IF EXISTS `v_nodenetworks`*/;
/*!50001 SET @saved_cs_client          = @@character_set_client */;
/*!50001 SET @saved_cs_results         = @@character_set_results */;
/*!50001 SET @saved_col_connection     = @@collation_connection */;
/*!50001 SET character_set_client      = latin1 */;
/*!50001 SET character_set_results     = latin1 */;
/*!50001 SET collation_connection      = latin1_swedish_ci */;
/*!50001 CREATE ALGORITHM=UNDEFINED */
/*!50013 DEFINER=`root`@`127.0.0.1` SQL SECURITY INVOKER */
/*!50001 VIEW `v_nodenetworks` AS select `n`.`nodename` AS `nodename`,`n`.`fqdn` AS `fqdn`,`n`.`loc_country` AS `loc_country`,`n`.`loc_city` AS `loc_city`,`n`.`loc_addr` AS `loc_addr`,`n`.`loc_building` AS `loc_building`,`n`.`loc_floor` AS `loc_floor`,`n`.`loc_room` AS `loc_room`,`n`.`loc_rack` AS `loc_rack`,`n`.`cpu_freq` AS `cpu_freq`,`n`.`cpu_cores` AS `cpu_cores`,`n`.`cpu_dies` AS `cpu_dies`,`n`.`cpu_vendor` AS `cpu_vendor`,`n`.`cpu_model` AS `cpu_model`,`n`.`mem_banks` AS `mem_banks`,`n`.`mem_slots` AS `mem_slots`,`n`.`mem_bytes` AS `mem_bytes`,`n`.`os_name` AS `os_name`,`n`.`os_release` AS `os_release`,`n`.`os_update` AS `os_update`,`n`.`os_segment` AS `os_segment`,`n`.`os_arch` AS `os_arch`,`n`.`os_vendor` AS `os_vendor`,`n`.`os_kernel` AS `os_kernel`,`n`.`loc_zip` AS `loc_zip`,`n`.`version` AS `version`,`n`.`listener_port` AS `listener_port`,`n`.`tz` AS `tz`,`n`.`last_comm` AS `last_comm`,`n`.`collector` AS `collector`,`n`.`connect_to` AS `connect_to`,`n`.`team_responsible` AS `team_responsible`,`n`.`team_integ` AS `team_integ`,`n`.`team_support` AS `team_support`,`n`.`app` AS `app`,`n`.`serial` AS `serial`,`n`.`sp_version` AS `sp_version`,`n`.`bios_version` AS `bios_version`,`n`.`manufacturer` AS `manufacturer`,`n`.`model` AS `model`,`n`.`type` AS `type`,`n`.`warranty_end` AS `warranty_end`,`n`.`maintenance_end` AS `maintenance_end`,`n`.`status` AS `status`,`n`.`role` AS `role`,`n`.`asset_env` AS `asset_env`,`n`.`node_env` AS `node_env`,`n`.`power_cabinet1` AS `power_cabinet1`,`n`.`power_cabinet2` AS `power_cabinet2`,`n`.`power_supply_nb` AS `power_supply_nb`,`n`.`power_protect` AS `power_protect`,`n`.`power_protect_breaker` AS `power_protect_breaker`,`n`.`power_breaker1` AS `power_breaker1`,`n`.`power_breaker2` AS `power_breaker2`,`n`.`os_concat` AS `os_concat`,`n`.`updated` AS `updated`,`n`.`enclosure` AS `enclosure`,`n`.`enclosureslot` AS `enclosureslot`,`n`.`assetname` AS `assetname`,`n`.`cpu_threads` AS `cpu_threads`,`n`.`hw_obs_warn_date` AS `hw_obs_warn_date`,`n`.`hw_obs_alert_date` AS `hw_obs_alert_date`,`n`.`os_obs_warn_date` AS `os_obs_warn_date`,`n`.`os_obs_alert_date` AS `os_obs_alert_date`,`n`.`hvpool` AS `hvpool`,`n`.`hv` AS `hv`,`n`.`hvvdc` AS `hvvdc`,`n`.`sec_zone` AS `sec_zone`,`n`.`last_boot` AS `last_boot`,`n`.`action_type` AS `action_type`,`ni`.`node_id` AS `node_id`,`ni`.`id` AS `id`,`ni`.`mac` AS `mac`,`ni`.`intf` AS `intf`,`ni`.`addr` AS `addr`,`ni`.`type` AS `addr_type`,`ni`.`mask` AS `mask`,`ni`.`flag_deprecated` AS `flag_deprecated`,`ni`.`updated` AS `addr_updated`,`nw`.`name` AS `net_name`,`nw`.`network` AS `net_network`,`nw`.`broadcast` AS `net_broadcast`,`nw`.`netmask` AS `net_netmask`,`nw`.`team_responsible` AS `net_team_responsible`,`nw`.`begin` AS `net_begin`,`nw`.`end` AS `net_end`,`nw`.`comment` AS `net_comment`,`nw`.`pvid` AS `net_pvid`,`nw`.`gateway` AS `net_gateway`,`nw`.`id` AS `net_id`,`nw`.`prio` AS `prio` from ((`node_ip` `ni` left join `nodes` `n` on(`ni`.`node_id` = `n`.`node_id`)) left join `networks` `nw` on(inet_aton(`ni`.`addr`) >= inet_aton(`nw`.`begin`) and inet_aton(`ni`.`addr`) <= inet_aton(`nw`.`end`))) */;
/*!50001 SET character_set_client      = @saved_cs_client */;
/*!50001 SET character_set_results     = @saved_cs_results */;
/*!50001 SET collation_connection      = @saved_col_connection */;

--
-- Final view structure for view `v_nodesan`
--

/*!50001 DROP VIEW IF EXISTS `v_nodesan`*/;
/*!50001 SET @saved_cs_client          = @@character_set_client */;
/*!50001 SET @saved_cs_results         = @@character_set_results */;
/*!50001 SET @saved_col_connection     = @@collation_connection */;
/*!50001 SET character_set_client      = utf8 */;
/*!50001 SET character_set_results     = utf8 */;
/*!50001 SET collation_connection      = utf8_general_ci */;
/*!50001 CREATE ALGORITHM=UNDEFINED */
/*!50013 DEFINER=`root`@`127.0.0.1` SQL SECURITY INVOKER */
/*!50001 VIEW `v_nodesan` AS select `z`.`id` AS `id`,`z`.`tgt_id` AS `tgt_id`,`z`.`hba_id` AS `hba_id`,`z`.`node_id` AS `node_id`,`n`.`nodename` AS `nodename`,`z`.`updated` AS `updated`,`n`.`fqdn` AS `fqdn`,`n`.`loc_country` AS `loc_country`,`n`.`loc_city` AS `loc_city`,`n`.`loc_addr` AS `loc_addr`,`n`.`loc_building` AS `loc_building`,`n`.`loc_floor` AS `loc_floor`,`n`.`loc_room` AS `loc_room`,`n`.`loc_rack` AS `loc_rack`,`n`.`cpu_freq` AS `cpu_freq`,`n`.`cpu_cores` AS `cpu_cores`,`n`.`cpu_dies` AS `cpu_dies`,`n`.`cpu_vendor` AS `cpu_vendor`,`n`.`cpu_model` AS `cpu_model`,`n`.`mem_banks` AS `mem_banks`,`n`.`mem_slots` AS `mem_slots`,`n`.`mem_bytes` AS `mem_bytes`,`n`.`os_name` AS `os_name`,`n`.`os_release` AS `os_release`,`n`.`os_update` AS `os_update`,`n`.`os_segment` AS `os_segment`,`n`.`os_arch` AS `os_arch`,`n`.`os_vendor` AS `os_vendor`,`n`.`os_kernel` AS `os_kernel`,`n`.`loc_zip` AS `loc_zip`,`n`.`version` AS `version`,`n`.`listener_port` AS `listener_port`,`n`.`tz` AS `tz`,`n`.`last_comm` AS `last_comm`,`n`.`collector` AS `collector`,`n`.`connect_to` AS `connect_to`,`n`.`team_responsible` AS `team_responsible`,`n`.`team_integ` AS `team_integ`,`n`.`team_support` AS `team_support`,`n`.`app` AS `app`,`n`.`serial` AS `serial`,`n`.`sp_version` AS `sp_version`,`n`.`bios_version` AS `bios_version`,`n`.`model` AS `model`,`n`.`type` AS `type`,`n`.`warranty_end` AS `warranty_end`,`n`.`maintenance_end` AS `maintenance_end`,`n`.`status` AS `status`,`n`.`role` AS `role`,`n`.`asset_env` AS `asset_env`,`n`.`node_env` AS `node_env`,`n`.`power_cabinet1` AS `power_cabinet1`,`n`.`power_cabinet2` AS `power_cabinet2`,`n`.`power_supply_nb` AS `power_supply_nb`,`n`.`power_protect` AS `power_protect`,`n`.`power_protect_breaker` AS `power_protect_breaker`,`n`.`power_breaker1` AS `power_breaker1`,`n`.`power_breaker2` AS `power_breaker2`,`n`.`os_concat` AS `os_concat`,`n`.`updated` AS `node_updated`,`n`.`enclosure` AS `enclosure`,`n`.`hw_obs_warn_date` AS `hw_obs_warn_date`,`n`.`hw_obs_alert_date` AS `hw_obs_alert_date`,`n`.`os_obs_warn_date` AS `os_obs_warn_date`,`n`.`os_obs_alert_date` AS `os_obs_alert_date`,`n`.`hvpool` AS `hvpool`,`n`.`hv` AS `hv`,`n`.`hvvdc` AS `hvvdc`,`n`.`enclosureslot` AS `enclosureslot`,`n`.`assetname` AS `assetname`,`n`.`cpu_threads` AS `cpu_threads`,`n`.`sec_zone` AS `sec_zone`,`n`.`last_boot` AS `last_boot`,`n`.`action_type` AS `action_type`,`a`.`array_name` AS `array_name`,`a`.`array_model` AS `array_model`,`a`.`array_cache` AS `array_cache`,`a`.`array_firmware` AS `array_firmware`,`a`.`array_updated` AS `array_updated`,`a`.`array_level` AS `array_level` from (((`stor_zone` `z` join `nodes` `n` on(`z`.`node_id` = `n`.`node_id`)) left join `stor_array_tgtid` `at` on(`z`.`tgt_id` = `at`.`array_tgtid`)) left join `stor_array` `a` on(`at`.`array_id` = `a`.`id`)) */;
/*!50001 SET character_set_client      = @saved_cs_client */;
/*!50001 SET character_set_results     = @saved_cs_results */;
/*!50001 SET collation_connection      = @saved_col_connection */;

--
-- Final view structure for view `v_obsolescence`
--

/*!50001 DROP VIEW IF EXISTS `v_obsolescence`*/;
/*!50001 SET @saved_cs_client          = @@character_set_client */;
/*!50001 SET @saved_cs_results         = @@character_set_results */;
/*!50001 SET @saved_col_connection     = @@collation_connection */;
/*!50001 SET character_set_client      = utf8 */;
/*!50001 SET character_set_results     = utf8 */;
/*!50001 SET collation_connection      = utf8_general_ci */;
/*!50001 CREATE ALGORITHM=UNDEFINED */
/*!50013 DEFINER=`root`@`127.0.0.1` SQL SECURITY INVOKER */
/*!50001 VIEW `v_obsolescence` AS select `obsolescence`.`id` AS `id`,`obsolescence`.`obs_type` AS `obs_type`,`obsolescence`.`obs_name` AS `obs_name`,`obsolescence`.`obs_warn_date` AS `obs_warn_date`,`obsolescence`.`obs_alert_date` AS `obs_alert_date`,`obsolescence`.`obs_warn_date_updated_by` AS `obs_warn_date_updated_by`,`obsolescence`.`obs_alert_date_updated_by` AS `obs_alert_date_updated_by`,`obsolescence`.`obs_warn_date_updated` AS `obs_warn_date_updated`,`obsolescence`.`obs_alert_date_updated` AS `obs_alert_date_updated`,count(`nodes`.`id`) AS `obs_count` from (`obsolescence` left join `nodes` on(convert(`obsolescence`.`obs_name` using utf8) = `nodes`.`model` and `obsolescence`.`obs_name`  not like '%virt%' and `obsolescence`.`obs_name`  not like '%cluster%')) where `obsolescence`.`obs_type` = 'hw' group by `obsolescence`.`id` union all select `obsolescence`.`id` AS `id`,`obsolescence`.`obs_type` AS `obs_type`,`obsolescence`.`obs_name` AS `obs_name`,`obsolescence`.`obs_warn_date` AS `obs_warn_date`,`obsolescence`.`obs_alert_date` AS `obs_alert_date`,`obsolescence`.`obs_warn_date_updated_by` AS `obs_warn_date_updated_by`,`obsolescence`.`obs_alert_date_updated_by` AS `obs_alert_date_updated_by`,`obsolescence`.`obs_warn_date_updated` AS `obs_warn_date_updated`,`obsolescence`.`obs_alert_date_updated` AS `obs_alert_date_updated`,count(`nodes`.`id`) AS `obs_count` from (`obsolescence` left join `nodes` on(convert(`obsolescence`.`obs_name` using utf8) = `nodes`.`os_concat`)) where `obsolescence`.`obs_type` = 'os' group by `obsolescence`.`id` */;
/*!50001 SET character_set_client      = @saved_cs_client */;
/*!50001 SET character_set_results     = @saved_cs_results */;
/*!50001 SET collation_connection      = @saved_col_connection */;

--
-- Final view structure for view `v_outdated_services`
--

/*!50001 DROP VIEW IF EXISTS `v_outdated_services`*/;
/*!50001 SET @saved_cs_client          = @@character_set_client */;
/*!50001 SET @saved_cs_results         = @@character_set_results */;
/*!50001 SET @saved_col_connection     = @@collation_connection */;
/*!50001 SET character_set_client      = utf8 */;
/*!50001 SET character_set_results     = utf8 */;
/*!50001 SET collation_connection      = utf8_general_ci */;
/*!50001 CREATE ALGORITHM=UNDEFINED */
/*!50013 DEFINER=`root`@`127.0.0.1` SQL SECURITY INVOKER */
/*!50001 VIEW `v_outdated_services` AS (select `svcmon`.`svc_id` AS `svc_id`,sum(if(`svcmon`.`mon_updated` >= current_timestamp() - interval 15 minute,1,0)) AS `uptodate` from `svcmon` group by `svcmon`.`svc_id`) */;
/*!50001 SET character_set_client      = @saved_cs_client */;
/*!50001 SET character_set_results     = @saved_cs_results */;
/*!50001 SET collation_connection      = @saved_col_connection */;

--
-- Final view structure for view `v_prov_templates`
--

/*!50001 DROP VIEW IF EXISTS `v_prov_templates`*/;
/*!50001 SET @saved_cs_client          = @@character_set_client */;
/*!50001 SET @saved_cs_results         = @@character_set_results */;
/*!50001 SET @saved_col_connection     = @@collation_connection */;
/*!50001 SET character_set_client      = utf8 */;
/*!50001 SET character_set_results     = utf8 */;
/*!50001 SET collation_connection      = utf8_general_ci */;
/*!50001 CREATE ALGORITHM=UNDEFINED */
/*!50013 DEFINER=`root`@`127.0.0.1` SQL SECURITY INVOKER */
/*!50001 VIEW `v_prov_templates` AS (select `f`.`id` AS `id`,`f`.`tpl_name` AS `tpl_name`,`f`.`tpl_definition` AS `tpl_definition`,`f`.`tpl_comment` AS `tpl_comment`,`f`.`tpl_author` AS `tpl_author`,`f`.`tpl_created` AS `tpl_created`,group_concat(distinct `gr`.`role` order by `gr`.`role` ASC separator ', ') AS `tpl_team_responsible`,group_concat(distinct `gp`.`role` order by `gp`.`role` ASC separator ', ') AS `tpl_team_publication` from ((((`prov_templates` `f` left join `prov_template_team_responsible` `fr` on(`f`.`id` = `fr`.`tpl_id`)) left join `prov_template_team_publication` `fp` on(`f`.`id` = `fp`.`tpl_id`)) left join `auth_group` `gr` on(`fr`.`group_id` = `gr`.`id`)) left join `auth_group` `gp` on(`fp`.`group_id` = `gp`.`id`)) group by `f`.`id`) */;
/*!50001 SET character_set_client      = @saved_cs_client */;
/*!50001 SET character_set_results     = @saved_cs_results */;
/*!50001 SET collation_connection      = @saved_col_connection */;

--
-- Final view structure for view `v_resmon_log`
--

/*!50001 DROP VIEW IF EXISTS `v_resmon_log`*/;
/*!50001 SET @saved_cs_client          = @@character_set_client */;
/*!50001 SET @saved_cs_results         = @@character_set_results */;
/*!50001 SET @saved_col_connection     = @@collation_connection */;
/*!50001 SET character_set_client      = utf8 */;
/*!50001 SET character_set_results     = utf8 */;
/*!50001 SET collation_connection      = utf8_general_ci */;
/*!50001 CREATE ALGORITHM=UNDEFINED */
/*!50013 DEFINER=`root`@`127.0.0.1` SQL SECURITY INVOKER */
/*!50001 VIEW `v_resmon_log` AS select `resmon_log`.`id` AS `id`,`resmon_log`.`node_id` AS `node_id`,`resmon_log`.`svc_id` AS `svc_id`,`resmon_log`.`rid` AS `rid`,`resmon_log`.`res_status` AS `res_status`,`resmon_log`.`res_begin` AS `res_begin`,`resmon_log`.`res_end` AS `res_end`,`resmon_log`.`res_log` AS `res_log` from `resmon_log` union all select `resmon_log_last`.`id` AS `id`,`resmon_log_last`.`node_id` AS `node_id`,`resmon_log_last`.`svc_id` AS `svc_id`,`resmon_log_last`.`rid` AS `rid`,`resmon_log_last`.`res_status` AS `res_status`,`resmon_log_last`.`res_begin` AS `res_begin`,`resmon_log_last`.`res_end` AS `res_end`,`resmon_log_last`.`res_log` AS `res_log` from `resmon_log_last` */;
/*!50001 SET character_set_client      = @saved_cs_client */;
/*!50001 SET character_set_results     = @saved_cs_results */;
/*!50001 SET collation_connection      = @saved_col_connection */;

--
-- Final view structure for view `v_safe`
--

/*!50001 DROP VIEW IF EXISTS `v_safe`*/;
/*!50001 SET @saved_cs_client          = @@character_set_client */;
/*!50001 SET @saved_cs_results         = @@character_set_results */;
/*!50001 SET @saved_col_connection     = @@collation_connection */;
/*!50001 SET character_set_client      = utf8 */;
/*!50001 SET character_set_results     = utf8 */;
/*!50001 SET collation_connection      = utf8_general_ci */;
/*!50001 CREATE ALGORITHM=UNDEFINED */
/*!50013 DEFINER=`root`@`127.0.0.1` SQL SECURITY INVOKER */
/*!50001 VIEW `v_safe` AS select `safe`.`id` AS `id`,`safe`.`size` AS `size`,`safe`.`name` AS `safe_name`,`safe`.`md5` AS `md5`,`safe`.`uuid` AS `uuid`,`safe`.`uploader` AS `uploader`,`safe`.`uploaded_date` AS `uploaded_date`,`safe`.`uploaded_from` AS `uploaded_from`,concat(`auth_user`.`first_name`,' ',`auth_user`.`last_name`) AS `uploader_name`,group_concat(distinct `gp`.`role` order by `gp`.`role` ASC separator ', ') AS `safe_team_publication`,group_concat(distinct `gr`.`role` order by `gr`.`role` ASC separator ', ') AS `safe_team_responsible` from (((((`safe` left join `auth_user` on(`safe`.`uploader` = `auth_user`.`id`)) left join `safe_team_responsible` on(`safe`.`id` = `safe_team_responsible`.`file_id`)) left join `auth_group` `gr` on(`safe_team_responsible`.`group_id` = `gr`.`id`)) left join `safe_team_publication` on(`safe`.`id` = `safe_team_publication`.`file_id`)) left join `auth_group` `gp` on(`safe_team_publication`.`group_id` = `gp`.`id`)) group by `safe`.`id` */;
/*!50001 SET character_set_client      = @saved_cs_client */;
/*!50001 SET character_set_results     = @saved_cs_results */;
/*!50001 SET collation_connection      = @saved_col_connection */;

--
-- Final view structure for view `v_scheduler_run`
--

/*!50001 DROP VIEW IF EXISTS `v_scheduler_run`*/;
/*!50001 SET @saved_cs_client          = @@character_set_client */;
/*!50001 SET @saved_cs_results         = @@character_set_results */;
/*!50001 SET @saved_col_connection     = @@collation_connection */;
/*!50001 SET character_set_client      = utf8 */;
/*!50001 SET character_set_results     = utf8 */;
/*!50001 SET collation_connection      = utf8_general_ci */;
/*!50001 CREATE ALGORITHM=UNDEFINED */
/*!50013 DEFINER=`root`@`127.0.0.1` SQL SECURITY INVOKER */
/*!50001 VIEW `v_scheduler_run` AS select `sr`.`id` AS `id`,`sr`.`task_id` AS `task_id`,`sr`.`start_time` AS `start_time`,`sr`.`stop_time` AS `stop_time`,`sr`.`run_output` AS `run_output`,`sr`.`run_result` AS `run_result`,`sr`.`traceback` AS `traceback`,`sr`.`status` AS `status`,`sr`.`worker_name` AS `worker_name`,`sr`.`duration` AS `duration`,`st`.`timeout` AS `timeout`,`st`.`args` AS `args`,`st`.`vars` AS `vars`,`st`.`retry_failed` AS `retry_failed`,`st`.`times_run` AS `times_run`,`st`.`times_failed` AS `times_failed`,`st`.`group_name` AS `group_name`,`st`.`function_name` AS `function_name`,`st`.`application_name` AS `application_name`,`st`.`assigned_worker_name` AS `assigned_worker_name` from (`scheduler_run` `sr` left join `scheduler_task` `st` on(`sr`.`task_id` = `st`.`id`)) */;
/*!50001 SET character_set_client      = @saved_cs_client */;
/*!50001 SET character_set_results     = @saved_cs_results */;
/*!50001 SET collation_connection      = @saved_col_connection */;

--
-- Final view structure for view `v_services_log`
--

/*!50001 DROP VIEW IF EXISTS `v_services_log`*/;
/*!50001 SET @saved_cs_client          = @@character_set_client */;
/*!50001 SET @saved_cs_results         = @@character_set_results */;
/*!50001 SET @saved_col_connection     = @@collation_connection */;
/*!50001 SET character_set_client      = latin1 */;
/*!50001 SET character_set_results     = latin1 */;
/*!50001 SET collation_connection      = latin1_swedish_ci */;
/*!50001 CREATE ALGORITHM=UNDEFINED */
/*!50013 DEFINER=`root`@`localhost` SQL SECURITY INVOKER */
/*!50001 VIEW `v_services_log` AS select `services_log`.`id` AS `id`,`services_log`.`svc_availstatus` AS `svc_availstatus`,`services_log`.`svc_begin` AS `svc_begin`,`services_log`.`svc_end` AS `svc_end`,`services_log`.`svc_id` AS `svc_id` from `services_log` union all select `services_log_last`.`id` AS `id`,`services_log_last`.`svc_availstatus` AS `svc_availstatus`,`services_log_last`.`svc_begin` AS `svc_begin`,`services_log_last`.`svc_end` AS `svc_end`,`services_log_last`.`svc_id` AS `svc_id` from `services_log_last` */;
/*!50001 SET character_set_client      = @saved_cs_client */;
/*!50001 SET character_set_results     = @saved_cs_results */;
/*!50001 SET collation_connection      = @saved_col_connection */;

--
-- Final view structure for view `v_svcmon`
--

/*!50001 DROP VIEW IF EXISTS `v_svcmon`*/;
/*!50001 SET @saved_cs_client          = @@character_set_client */;
/*!50001 SET @saved_cs_results         = @@character_set_results */;
/*!50001 SET @saved_col_connection     = @@collation_connection */;
/*!50001 SET character_set_client      = latin1 */;
/*!50001 SET character_set_results     = latin1 */;
/*!50001 SET collation_connection      = latin1_swedish_ci */;
/*!50001 CREATE ALGORITHM=UNDEFINED */
/*!50013 DEFINER=`root`@`127.0.0.1` SQL SECURITY INVOKER */
/*!50001 VIEW `v_svcmon` AS select `e`.`err` AS `err`,`s`.`svc_ha` AS `svc_ha`,`s`.`svc_topology` AS `svc_topology`,`s`.`svc_status` AS `svc_status`,`s`.`svc_availstatus` AS `svc_availstatus`,`s`.`svc_flex_min_nodes` AS `svc_flex_min_nodes`,`s`.`svc_flex_max_nodes` AS `svc_flex_max_nodes`,`s`.`svc_flex_cpu_low_threshold` AS `svc_flex_cpu_low_threshold`,`s`.`svc_flex_cpu_high_threshold` AS `svc_flex_cpu_high_threshold`,`m`.`mon_vmname` AS `mon_vmname`,`m`.`mon_vmtype` AS `mon_vmtype`,`m`.`mon_guestos` AS `mon_guestos`,`s`.`svc_id` AS `svc_id`,`s`.`svcname` AS `svcname`,`s`.`svc_nodes` AS `svc_nodes`,`s`.`svc_drpnode` AS `svc_drpnode`,`s`.`svc_drpnodes` AS `svc_drpnodes`,`s`.`svc_drptype` AS `svc_drptype`,`s`.`svc_autostart` AS `svc_autostart`,`s`.`svc_env` AS `svc_env`,`s`.`svc_comment` AS `svc_comment`,`s`.`svc_app` AS `svc_app`,`s`.`svc_drnoaction` AS `svc_drnoaction`,`s`.`svc_created` AS `svc_created`,`s`.`updated` AS `svc_updated`,`s`.`svc_config_updated` AS `svc_config_updated`,`s`.`svc_metrocluster` AS `svc_metrocluster`,`m`.`mon_vcpus` AS `mon_vcpus`,`m`.`mon_vmem` AS `mon_vmem`,`m`.`mon_svctype` AS `mon_svctype`,`m`.`mon_smon_status` AS `mon_smon_status`,`m`.`mon_smon_global_expect` AS `mon_smon_global_expect`,`m`.`mon_ipstatus` AS `mon_ipstatus`,`m`.`mon_fsstatus` AS `mon_fsstatus`,`m`.`ID` AS `ID`,`m`.`mon_frozen` AS `mon_frozen`,`m`.`mon_changed` AS `mon_changed`,`m`.`mon_updated` AS `mon_updated`,`m`.`mon_sharestatus` AS `mon_sharestatus`,`m`.`mon_diskstatus` AS `mon_diskstatus`,`m`.`mon_containerstatus` AS `mon_containerstatus`,`m`.`mon_overallstatus` AS `mon_overallstatus`,`m`.`node_id` AS `node_id`,`n`.`nodename` AS `nodename`,`n`.`listener_port` AS `listener_port`,`n`.`tz` AS `tz`,`n`.`last_comm` AS `last_comm`,`n`.`collector` AS `collector`,`n`.`connect_to` AS `connect_to`,`n`.`version` AS `version`,`n`.`updated` AS `node_updated`,`n`.`loc_country` AS `loc_country`,`n`.`loc_city` AS `loc_city`,`n`.`loc_addr` AS `loc_addr`,`n`.`loc_building` AS `loc_building`,`n`.`loc_floor` AS `loc_floor`,`n`.`loc_room` AS `loc_room`,`n`.`loc_rack` AS `loc_rack`,`n`.`hv` AS `hv`,`n`.`hvpool` AS `hvpool`,`n`.`hvvdc` AS `hvvdc`,`n`.`cpu_freq` AS `cpu_freq`,`n`.`cpu_cores` AS `cpu_cores`,`n`.`cpu_dies` AS `cpu_dies`,`n`.`cpu_vendor` AS `cpu_vendor`,`n`.`cpu_model` AS `cpu_model`,`n`.`mem_banks` AS `mem_banks`,`n`.`mem_slots` AS `mem_slots`,`n`.`mem_bytes` AS `mem_bytes`,`n`.`os_name` AS `os_name`,`n`.`os_release` AS `os_release`,`n`.`os_update` AS `os_update`,`n`.`os_segment` AS `os_segment`,`n`.`os_arch` AS `os_arch`,`n`.`os_vendor` AS `os_vendor`,`n`.`os_kernel` AS `os_kernel`,`n`.`loc_zip` AS `loc_zip`,`n`.`team_responsible` AS `team_responsible`,`n`.`team_integ` AS `team_integ`,`n`.`team_support` AS `team_support`,`n`.`serial` AS `serial`,`n`.`sp_version` AS `sp_version`,`n`.`bios_version` AS `bios_version`,`n`.`manufacturer` AS `manufacturer`,`n`.`model` AS `model`,`n`.`type` AS `type`,`n`.`warranty_end` AS `warranty_end`,`n`.`maintenance_end` AS `maintenance_end`,`n`.`status` AS `status`,`n`.`role` AS `role`,`n`.`asset_env` AS `asset_env`,`n`.`node_env` AS `node_env`,`n`.`power_supply_nb` AS `power_supply_nb`,`n`.`power_cabinet1` AS `power_cabinet1`,`n`.`power_cabinet2` AS `power_cabinet2`,`n`.`power_protect` AS `power_protect`,`n`.`power_protect_breaker` AS `power_protect_breaker`,`n`.`power_breaker1` AS `power_breaker1`,`n`.`power_breaker2` AS `power_breaker2`,`n`.`sec_zone` AS `sec_zone`,`n`.`last_boot` AS `last_boot`,`n`.`action_type` AS `action_type`,`m`.`mon_syncstatus` AS `mon_syncstatus`,`m`.`mon_hbstatus` AS `mon_hbstatus`,`m`.`mon_availstatus` AS `mon_availstatus`,`m`.`mon_appstatus` AS `mon_appstatus`,`ap`.`app_domain` AS `app_domain`,`ap`.`app_team_ops` AS `app_team_ops`,`n`.`enclosure` AS `enclosure`,`n`.`enclosureslot` AS `enclosureslot`,`n`.`assetname` AS `assetname`,`n`.`cpu_threads` AS `cpu_threads` from ((((`svcmon` `m` left join `services` `s` on(`s`.`svc_id` = `m`.`svc_id`)) left join `nodes` `n` on(`m`.`node_id` = `n`.`node_id`)) left join `apps` `ap` on(`ap`.`app` = `s`.`svc_app`)) left join `b_action_errors` `e` on(`e`.`svc_id` = `s`.`svc_id` and `e`.`node_id` = `m`.`node_id`)) */;
/*!50001 SET character_set_client      = @saved_cs_client */;
/*!50001 SET character_set_results     = @saved_cs_results */;
/*!50001 SET collation_connection      = @saved_col_connection */;

--
-- Final view structure for view `v_svcmon_log`
--

/*!50001 DROP VIEW IF EXISTS `v_svcmon_log`*/;
/*!50001 SET @saved_cs_client          = @@character_set_client */;
/*!50001 SET @saved_cs_results         = @@character_set_results */;
/*!50001 SET @saved_col_connection     = @@collation_connection */;
/*!50001 SET character_set_client      = latin1 */;
/*!50001 SET character_set_results     = latin1 */;
/*!50001 SET collation_connection      = latin1_swedish_ci */;
/*!50001 CREATE ALGORITHM=UNDEFINED */
/*!50013 DEFINER=`root`@`localhost` SQL SECURITY INVOKER */
/*!50001 VIEW `v_svcmon_log` AS select `svcmon_log`.`id` AS `id`,`svcmon_log`.`mon_overallstatus` AS `mon_overallstatus`,`svcmon_log`.`mon_ipstatus` AS `mon_ipstatus`,`svcmon_log`.`mon_fsstatus` AS `mon_fsstatus`,`svcmon_log`.`mon_diskstatus` AS `mon_diskstatus`,`svcmon_log`.`mon_containerstatus` AS `mon_containerstatus`,`svcmon_log`.`mon_syncstatus` AS `mon_syncstatus`,`svcmon_log`.`mon_appstatus` AS `mon_appstatus`,`svcmon_log`.`mon_begin` AS `mon_begin`,`svcmon_log`.`mon_end` AS `mon_end`,`svcmon_log`.`mon_hbstatus` AS `mon_hbstatus`,`svcmon_log`.`mon_availstatus` AS `mon_availstatus`,`svcmon_log`.`mon_sharestatus` AS `mon_sharestatus`,`svcmon_log`.`node_id` AS `node_id`,`svcmon_log`.`svc_id` AS `svc_id` from `svcmon_log` union all select `svcmon_log_last`.`id` AS `id`,`svcmon_log_last`.`mon_overallstatus` AS `mon_overallstatus`,`svcmon_log_last`.`mon_ipstatus` AS `mon_ipstatus`,`svcmon_log_last`.`mon_fsstatus` AS `mon_fsstatus`,`svcmon_log_last`.`mon_diskstatus` AS `mon_diskstatus`,`svcmon_log_last`.`mon_containerstatus` AS `mon_containerstatus`,`svcmon_log_last`.`mon_syncstatus` AS `mon_syncstatus`,`svcmon_log_last`.`mon_appstatus` AS `mon_appstatus`,`svcmon_log_last`.`mon_begin` AS `mon_begin`,`svcmon_log_last`.`mon_end` AS `mon_end`,`svcmon_log_last`.`mon_hbstatus` AS `mon_hbstatus`,`svcmon_log_last`.`mon_availstatus` AS `mon_availstatus`,`svcmon_log_last`.`mon_sharestatus` AS `mon_sharestatus`,`svcmon_log_last`.`node_id` AS `node_id`,`svcmon_log_last`.`svc_id` AS `svc_id` from `svcmon_log_last` */;
/*!50001 SET character_set_client      = @saved_cs_client */;
/*!50001 SET character_set_results     = @saved_cs_results */;
/*!50001 SET collation_connection      = @saved_col_connection */;

--
-- Final view structure for view `v_switches`
--

/*!50001 DROP VIEW IF EXISTS `v_switches`*/;
/*!50001 SET @saved_cs_client          = @@character_set_client */;
/*!50001 SET @saved_cs_results         = @@character_set_results */;
/*!50001 SET @saved_col_connection     = @@collation_connection */;
/*!50001 SET character_set_client      = utf8 */;
/*!50001 SET character_set_results     = utf8 */;
/*!50001 SET collation_connection      = utf8_general_ci */;
/*!50001 CREATE ALGORITHM=UNDEFINED */
/*!50013 DEFINER=`root`@`127.0.0.1` SQL SECURITY INVOKER */
/*!50001 VIEW `v_switches` AS select `s`.`id` AS `id`,`s`.`sw_name` AS `sw_name`,`s`.`sw_slot` AS `sw_slot`,`s`.`sw_port` AS `sw_port`,`s`.`sw_portspeed` AS `sw_portspeed`,`s`.`sw_portnego` AS `sw_portnego`,`s`.`sw_porttype` AS `sw_porttype`,`s`.`sw_portstate` AS `sw_portstate`,`s`.`sw_portname` AS `sw_portname`,`s`.`sw_rportname` AS `sw_rportname`,`s`.`sw_updated` AS `sw_updated`,`s`.`sw_fabric` AS `sw_fabric`,`s`.`sw_index` AS `sw_index`,`nh`.`node_id` AS `node_id`,if(`n`.`nodename` is not null,`n`.`nodename`,if(`a`.`array_name` is not null,`a`.`array_name`,(select `switches`.`sw_name` from `switches` where `switches`.`sw_portname` = `s`.`sw_rportname` limit 1))) AS `sw_rname` from ((((`switches` `s` left join `node_hba` `nh` on(`s`.`sw_rportname` = `nh`.`hba_id`)) left join `nodes` `n` on(`nh`.`node_id` = `n`.`node_id`)) left join `stor_array_tgtid` `at` on(`s`.`sw_rportname` = `at`.`array_tgtid`)) left join `stor_array` `a` on(`at`.`array_id` = `a`.`id`)) */;
/*!50001 SET character_set_client      = @saved_cs_client */;
/*!50001 SET character_set_results     = @saved_cs_results */;
/*!50001 SET collation_connection      = @saved_col_connection */;

--
-- Final view structure for view `v_sysrep_allow`
--

/*!50001 DROP VIEW IF EXISTS `v_sysrep_allow`*/;
/*!50001 SET @saved_cs_client          = @@character_set_client */;
/*!50001 SET @saved_cs_results         = @@character_set_results */;
/*!50001 SET @saved_col_connection     = @@collation_connection */;
/*!50001 SET character_set_client      = utf8 */;
/*!50001 SET character_set_results     = utf8 */;
/*!50001 SET collation_connection      = utf8_general_ci */;
/*!50001 CREATE ALGORITHM=UNDEFINED */
/*!50013 DEFINER=`root`@`localhost` SQL SECURITY INVOKER */
/*!50001 VIEW `v_sysrep_allow` AS (select `s`.`id` AS `id`,`s`.`group_id` AS `group_id`,`g`.`role` AS `group_name`,`s`.`fset_id` AS `fset_id`,`fs`.`fset_name` AS `fset_name`,`s`.`pattern` AS `pattern` from ((`sysrep_allow` `s` left join `auth_group` `g` on(`s`.`group_id` = `g`.`id`)) left join `gen_filtersets` `fs` on(`s`.`fset_id` = `fs`.`id`))) */;
/*!50001 SET character_set_client      = @saved_cs_client */;
/*!50001 SET character_set_results     = @saved_cs_results */;
/*!50001 SET collation_connection      = @saved_col_connection */;

--
-- Final view structure for view `v_table_size`
--

/*!50001 DROP VIEW IF EXISTS `v_table_size`*/;
/*!50001 SET @saved_cs_client          = @@character_set_client */;
/*!50001 SET @saved_cs_results         = @@character_set_results */;
/*!50001 SET @saved_col_connection     = @@collation_connection */;
/*!50001 SET character_set_client      = latin1 */;
/*!50001 SET character_set_results     = latin1 */;
/*!50001 SET collation_connection      = latin1_swedish_ci */;
/*!50001 CREATE ALGORITHM=UNDEFINED */
/*!50013 DEFINER=`root`@`127.0.0.1` SQL SECURITY INVOKER */
/*!50001 VIEW `v_table_size` AS select `information_schema`.`tables`.`TABLE_SCHEMA` AS `table_schema`,`information_schema`.`tables`.`TABLE_NAME` AS `table_name`,round((`information_schema`.`tables`.`DATA_LENGTH` + `information_schema`.`tables`.`INDEX_LENGTH`) / pow(1024,2),2) AS `tablesize_mb` from `information_schema`.`tables` order by round((`information_schema`.`tables`.`DATA_LENGTH` + `information_schema`.`tables`.`INDEX_LENGTH`) / pow(1024,2),2) desc */;
/*!50001 SET character_set_client      = @saved_cs_client */;
/*!50001 SET character_set_results     = @saved_cs_results */;
/*!50001 SET collation_connection      = @saved_col_connection */;

--
-- Final view structure for view `v_tags`
--

/*!50001 DROP VIEW IF EXISTS `v_tags`*/;
/*!50001 SET @saved_cs_client          = @@character_set_client */;
/*!50001 SET @saved_cs_results         = @@character_set_results */;
/*!50001 SET @saved_col_connection     = @@collation_connection */;
/*!50001 SET character_set_client      = latin1 */;
/*!50001 SET character_set_results     = latin1 */;
/*!50001 SET collation_connection      = utf8_general_ci */;
/*!50001 CREATE ALGORITHM=UNDEFINED */
/*!50013 DEFINER=`root`@`localhost` SQL SECURITY INVOKER */
/*!50001 VIEW `v_tags` AS select NULL AS `id`,`tags`.`tag_id` AS `tag_id`,`tags`.`tag_name` AS `tag_name`,`node_tags`.`node_id` AS `node_id`,'' AS `svc_id`,`node_tags`.`created` AS `created`,`tags`.`tag_data` AS `tag_data`,`node_tags`.`tag_attach_data` AS `tag_attach_data` from (`tags` join `node_tags` on(`tags`.`tag_id` = `node_tags`.`tag_id`)) union all select NULL AS `id`,`tags`.`tag_id` AS `tag_id`,`tags`.`tag_name` AS `tag_name`,'' AS `node_id`,`svc_tags`.`svc_id` AS `svc_id`,`svc_tags`.`created` AS `created`,`tags`.`tag_data` AS `tag_data`,`svc_tags`.`tag_attach_data` AS `tag_attach_data` from (`tags` join `svc_tags` on(`tags`.`tag_id` = `svc_tags`.`tag_id`)) */;
/*!50001 SET character_set_client      = @saved_cs_client */;
/*!50001 SET character_set_results     = @saved_cs_results */;
/*!50001 SET collation_connection      = @saved_col_connection */;

--
-- Final view structure for view `v_tags_full`
--

/*!50001 DROP VIEW IF EXISTS `v_tags_full`*/;
/*!50001 SET @saved_cs_client          = @@character_set_client */;
/*!50001 SET @saved_cs_results         = @@character_set_results */;
/*!50001 SET @saved_col_connection     = @@collation_connection */;
/*!50001 SET character_set_client      = latin1 */;
/*!50001 SET character_set_results     = latin1 */;
/*!50001 SET collation_connection      = utf8_general_ci */;
/*!50001 CREATE ALGORITHM=UNDEFINED */
/*!50013 DEFINER=`root`@`localhost` SQL SECURITY INVOKER */
/*!50001 VIEW `v_tags_full` AS select 0 AS `id`,concat(`nodes`.`node_id`,'_null_',if(`tags`.`tag_id`,`tags`.`tag_id`,'null')) AS `ckid`,`tags`.`tag_id` AS `tag_id`,`tags`.`tag_name` AS `tag_name`,`nodes`.`node_id` AS `node_id`,`nodes`.`nodename` AS `nodename`,'' AS `svc_id`,NULL AS `svcname`,`node_tags`.`created` AS `created`,`tags`.`tag_data` AS `tag_data`,`node_tags`.`tag_attach_data` AS `tag_attach_data` from ((`nodes` left join `node_tags` on(`nodes`.`node_id` = `node_tags`.`node_id`)) left join `tags` on(`node_tags`.`tag_id` = `tags`.`tag_id`)) union all select 0 AS `id`,concat('null_',`services`.`svc_id`,'_',if(`tags`.`tag_id`,`tags`.`tag_id`,'null')) AS `ckid`,`tags`.`tag_id` AS `tag_id`,`tags`.`tag_name` AS `tag_name`,'' AS `node_id`,NULL AS `nodename`,`services`.`svc_id` AS `svc_id`,`services`.`svcname` AS `svcname`,`svc_tags`.`created` AS `created`,`tags`.`tag_data` AS `tag_data`,`svc_tags`.`tag_attach_data` AS `tag_attach_data` from ((`services` left join `svc_tags` on(`services`.`svc_id` = `svc_tags`.`svc_id`)) left join `tags` on(`svc_tags`.`tag_id` = `tags`.`tag_id`)) */;
/*!50001 SET character_set_client      = @saved_cs_client */;
/*!50001 SET character_set_results     = @saved_cs_results */;
/*!50001 SET collation_connection      = @saved_col_connection */;

--
-- Final view structure for view `v_uids`
--

/*!50001 DROP VIEW IF EXISTS `v_uids`*/;
/*!50001 SET @saved_cs_client          = @@character_set_client */;
/*!50001 SET @saved_cs_results         = @@character_set_results */;
/*!50001 SET @saved_col_connection     = @@collation_connection */;
/*!50001 SET character_set_client      = utf8 */;
/*!50001 SET character_set_results     = utf8 */;
/*!50001 SET collation_connection      = utf8_general_ci */;
/*!50001 CREATE ALGORITHM=UNDEFINED */
/*!50013 DEFINER=`root`@`127.0.0.1` SQL SECURITY INVOKER */
/*!50001 VIEW `v_uids` AS select `node_users`.`id` AS `id`,`node_users`.`user_id` AS `user_id`,count(`node_users`.`id`) AS `user_id_count`,group_concat(`node_users`.`user_name` separator ',') AS `user_name` from `node_users` group by `node_users`.`user_id` */;
/*!50001 SET character_set_client      = @saved_cs_client */;
/*!50001 SET character_set_results     = @saved_cs_results */;
/*!50001 SET collation_connection      = @saved_col_connection */;

--
-- Final view structure for view `v_users`
--

/*!50001 DROP VIEW IF EXISTS `v_users`*/;
/*!50001 SET @saved_cs_client          = @@character_set_client */;
/*!50001 SET @saved_cs_results         = @@character_set_results */;
/*!50001 SET @saved_col_connection     = @@collation_connection */;
/*!50001 SET character_set_client      = utf8 */;
/*!50001 SET character_set_results     = utf8 */;
/*!50001 SET collation_connection      = utf8_general_ci */;
/*!50001 CREATE ALGORITHM=UNDEFINED */
/*!50013 DEFINER=`root`@`127.0.0.1` SQL SECURITY INVOKER */
/*!50001 VIEW `v_users` AS (select (select `e`.`time_stamp` AS `time_stamp` from `auth_event` `e` where `e`.`user_id` = `u`.`id` order by `e`.`time_stamp` desc limit 1) AS `last`,`u`.`id` AS `id`,concat_ws(' ',`u`.`first_name`,`u`.`last_name`) AS `fullname`,`u`.`quota_org_group` AS `quota_org_group`,`u`.`quota_app` AS `quota_app`,`u`.`email` AS `email`,sum((select count(0) AS `count(*)` from `auth_group` `gg` where `gg`.`role` = 'Manager' and `gg`.`id` = `g`.`id`)) AS `manager`,group_concat(`g`.`role` order by `g`.`role` ASC separator ', ') AS `groups`,`gg`.`role` AS `primary_group`,`u`.`lock_filter` AS `lock_filter`,`fs`.`fset_name` AS `fset_name`,`u`.`phone_work` AS `phone_work` from ((((((`auth_user` `u` left join `auth_membership` `mm` on(`u`.`id` = `mm`.`user_id` and `mm`.`primary_group` = 'T')) left join `auth_group` `gg` on(`mm`.`group_id` = `gg`.`id`)) left join `auth_membership` `m` on(`u`.`id` = `m`.`user_id`)) left join `auth_group` `g` on(`m`.`group_id` = `g`.`id` and `g`.`role`  not like 'user_%')) left join `gen_filterset_user` `fsu` on(`fsu`.`user_id` = `u`.`id`)) left join `gen_filtersets` `fs` on(`fs`.`id` = `fsu`.`fset_id`)) group by `u`.`id`) */;
/*!50001 SET character_set_client      = @saved_cs_client */;
/*!50001 SET character_set_results     = @saved_cs_results */;
/*!50001 SET collation_connection      = @saved_col_connection */;

--
-- Final view structure for view `v_wiki_events`
--

/*!50001 DROP VIEW IF EXISTS `v_wiki_events`*/;
/*!50001 SET @saved_cs_client          = @@character_set_client */;
/*!50001 SET @saved_cs_results         = @@character_set_results */;
/*!50001 SET @saved_col_connection     = @@collation_connection */;
/*!50001 SET character_set_client      = utf8 */;
/*!50001 SET character_set_results     = utf8 */;
/*!50001 SET collation_connection      = utf8_general_ci */;
/*!50001 CREATE ALGORITHM=UNDEFINED */
/*!50013 DEFINER=`root`@`127.0.0.1` SQL SECURITY INVOKER */
/*!50001 VIEW `v_wiki_events` AS (select `s`.`id` AS `id`,`s`.`name` AS `name`,`s`.`title` AS `title`,`s`.`saved_on` AS `saved_on`,`s`.`change_note` AS `change_note`,`s`.`body` AS `body`,`a`.`email` AS `email` from (`wiki_pages` `s` left join `auth_user` `a` on(`s`.`author` = `a`.`id`))) */;
/*!50001 SET character_set_client      = @saved_cs_client */;
/*!50001 SET character_set_results     = @saved_cs_results */;
/*!50001 SET collation_connection      = @saved_col_connection */;

--
-- Current Database: `pdns`
--

USE `pdns`;
/*!40103 SET TIME_ZONE=@OLD_TIME_ZONE */;

/*!40101 SET SQL_MODE=@OLD_SQL_MODE */;
/*!40014 SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS */;
/*!40014 SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS */;
/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
/*!40111 SET SQL_NOTES=@OLD_SQL_NOTES */;

-- Dump completed on 2024-03-20  8:51:44
GRANT SELECT ON opensvc.fset_cache TO readonly@127.0.0.1;
GRANT SELECT ON opensvc.checks_defaults TO readonly@127.0.0.1;
GRANT SELECT ON opensvc.stor_array_proxy TO readonly@127.0.0.1;
GRANT SELECT ON opensvc.comp_status TO readonly@127.0.0.1;
GRANT SELECT ON opensvc.stor_array TO readonly@127.0.0.1;
GRANT SELECT ON opensvc.scheduler_task_deps TO readonly@127.0.0.1;
GRANT SELECT ON opensvc.user_log TO readonly@127.0.0.1;
GRANT SELECT ON opensvc.b_action_errors TO readonly@127.0.0.1;
GRANT SELECT ON opensvc.stor_array_dg TO readonly@127.0.0.1;
GRANT SELECT ON opensvc.scheduler_task TO readonly@127.0.0.1;
GRANT SELECT ON opensvc.v_comp_modulesets TO readonly@127.0.0.1;
GRANT SELECT ON opensvc.gen_filterset_check_threshold TO readonly@127.0.0.1;
GRANT SELECT ON opensvc.feed_queue_stats TO readonly@127.0.0.1;
GRANT SELECT ON opensvc.scheduler_worker TO readonly@127.0.0.1;
GRANT SELECT ON opensvc.checks_settings TO readonly@127.0.0.1;
GRANT SELECT ON opensvc.node_hba TO readonly@127.0.0.1;
GRANT SELECT ON opensvc.alerts TO readonly@127.0.0.1;
GRANT SELECT ON opensvc.comp_moduleset_ruleset TO readonly@127.0.0.1;
GRANT SELECT ON opensvc.saves TO readonly@127.0.0.1;
GRANT SELECT ON opensvc.comp_node_moduleset TO readonly@127.0.0.1;
GRANT SELECT ON opensvc.resmon TO readonly@127.0.0.1;
GRANT SELECT ON opensvc.docker_registries_responsibles TO readonly@127.0.0.1;
GRANT SELECT ON opensvc.forms_store TO readonly@127.0.0.1;
GRANT SELECT ON opensvc.stats_compare_user TO readonly@127.0.0.1;
GRANT SELECT ON opensvc.docker_registries TO readonly@127.0.0.1;
GRANT SELECT ON opensvc.network_segments TO readonly@127.0.0.1;
GRANT SELECT ON opensvc.comp_svc_status TO readonly@127.0.0.1;
GRANT SELECT ON opensvc.saves_last TO readonly@127.0.0.1;
GRANT SELECT ON opensvc.v_gids TO readonly@127.0.0.1;
GRANT SELECT ON opensvc.comp_mod_status TO readonly@127.0.0.1;
GRANT SELECT ON opensvc.stat_day TO readonly@127.0.0.1;
GRANT SELECT ON opensvc.im_types TO readonly@127.0.0.1;
GRANT SELECT ON opensvc.v_services_log TO readonly@127.0.0.1;
GRANT SELECT ON opensvc.auth_event TO readonly@127.0.0.1;
GRANT SELECT ON opensvc.patches TO readonly@127.0.0.1;
GRANT SELECT ON opensvc.report_team_responsible TO readonly@127.0.0.1;
GRANT SELECT ON opensvc.v_prov_templates TO readonly@127.0.0.1;
GRANT SELECT ON opensvc.stat_day_svc TO readonly@127.0.0.1;
GRANT SELECT ON opensvc.v_scheduler_run TO readonly@127.0.0.1;
GRANT SELECT ON opensvc.forms_team_responsible TO readonly@127.0.0.1;
GRANT SELECT ON opensvc.user_prefs TO readonly@127.0.0.1;
GRANT SELECT ON opensvc.v_forms TO readonly@127.0.0.1;
GRANT SELECT ON opensvc.v_comp_moduleset_attachments TO readonly@127.0.0.1;
GRANT SELECT ON opensvc.svcmon_log_ack TO readonly@127.0.0.1;
GRANT SELECT ON opensvc.wiki_pages TO readonly@127.0.0.1;
GRANT SELECT ON opensvc.gen_filtersets TO readonly@127.0.0.1;
GRANT SELECT ON opensvc.tmpmd5 TO readonly@127.0.0.1;
GRANT SELECT ON opensvc.apps TO readonly@127.0.0.1;
GRANT SELECT ON opensvc.chart_team_publication TO readonly@127.0.0.1;
GRANT SELECT ON opensvc.v_comp_services TO readonly@127.0.0.1;
GRANT SELECT ON opensvc.node_tags TO readonly@127.0.0.1;
GRANT SELECT ON opensvc.prov_template_team_publication TO readonly@127.0.0.1;
GRANT SELECT ON opensvc.docker_registries_publications TO readonly@127.0.0.1;
GRANT SELECT ON opensvc.services_test TO readonly@127.0.0.1;
GRANT SELECT ON opensvc.comp_ruleset_team_responsible TO readonly@127.0.0.1;
GRANT SELECT ON opensvc.v_forms_store TO readonly@127.0.0.1;
GRANT SELECT ON opensvc.sysrep_changing TO readonly@127.0.0.1;
GRANT SELECT ON opensvc.drpprojects TO readonly@127.0.0.1;
GRANT SELECT ON opensvc.node_ip TO readonly@127.0.0.1;
GRANT SELECT ON opensvc.v_comp_explicit_rulesets TO readonly@127.0.0.1;
GRANT SELECT ON opensvc.v_safe TO readonly@127.0.0.1;
GRANT SELECT ON opensvc.v_nodenetworks TO readonly@127.0.0.1;
GRANT SELECT ON opensvc.stat_day_disk_array TO readonly@127.0.0.1;
GRANT SELECT ON opensvc.checks_live TO readonly@127.0.0.1;
GRANT SELECT ON opensvc.auth_group TO readonly@127.0.0.1;
GRANT SELECT ON opensvc.svcactions TO readonly@127.0.0.1;
GRANT SELECT ON opensvc.services TO readonly@127.0.0.1;
GRANT SELECT ON opensvc.forms_revisions TO readonly@127.0.0.1;
GRANT SELECT ON opensvc.disk_blacklist TO readonly@127.0.0.1;
GRANT SELECT ON opensvc.svcmon_log TO readonly@127.0.0.1;
GRANT SELECT ON opensvc.comp_log TO readonly@127.0.0.1;
GRANT SELECT ON opensvc.obsolescence TO readonly@127.0.0.1;
GRANT SELECT ON opensvc.charts TO readonly@127.0.0.1;
GRANT SELECT ON opensvc.v_nb_services TO readonly@127.0.0.1;
GRANT SELECT ON opensvc.v_tags_full TO readonly@127.0.0.1;
GRANT SELECT ON opensvc.v_gen_filterset_check_threshold TO readonly@127.0.0.1;
GRANT SELECT ON opensvc.node_users TO readonly@127.0.0.1;
GRANT SELECT ON opensvc.stor_array_tgtid TO readonly@127.0.0.1;
GRANT SELECT ON opensvc.gen_filterset_team_responsible TO readonly@127.0.0.1;
GRANT SELECT ON opensvc.v_network_segments TO readonly@127.0.0.1;
GRANT SELECT ON opensvc.links TO readonly@127.0.0.1;
GRANT SELECT ON opensvc.stat_day_disk_app TO readonly@127.0.0.1;
GRANT SELECT ON opensvc.prov_templates TO readonly@127.0.0.1;
GRANT SELECT ON opensvc.forms TO readonly@127.0.0.1;
GRANT SELECT ON opensvc.stat_day_disk_array_dg TO readonly@127.0.0.1;
GRANT SELECT ON opensvc.reports TO readonly@127.0.0.1;
GRANT SELECT ON opensvc.network_segment_responsibles TO readonly@127.0.0.1;
GRANT SELECT ON opensvc.v_sysrep_allow TO readonly@127.0.0.1;
GRANT SELECT ON opensvc.v_wiki_events TO readonly@127.0.0.1;
GRANT SELECT ON opensvc.pkg_sig_provider TO readonly@127.0.0.1;
GRANT SELECT ON opensvc.digit TO readonly@127.0.0.1;
GRANT SELECT ON opensvc.stat_day_disk_app_dg TO readonly@127.0.0.1;
GRANT SELECT ON opensvc.v_svcmon_log TO readonly@127.0.0.1;
GRANT SELECT ON opensvc.auth_filters TO readonly@127.0.0.1;
GRANT SELECT ON opensvc.gen_filterset_user TO readonly@127.0.0.1;
GRANT SELECT ON opensvc.sysrep_allow TO readonly@127.0.0.1;
GRANT SELECT ON opensvc.v_nodesan TO readonly@127.0.0.1;
GRANT SELECT ON opensvc.v_apps TO readonly@127.0.0.1;
GRANT SELECT ON opensvc.comp_moduleset TO readonly@127.0.0.1;
GRANT SELECT ON opensvc.drpservices TO readonly@127.0.0.1;
GRANT SELECT ON opensvc.prov_template_team_responsible TO readonly@127.0.0.1;
GRANT SELECT ON opensvc.tmp TO readonly@127.0.0.1;
GRANT SELECT ON opensvc.v_disk_app_dedup TO readonly@127.0.0.1;
GRANT SELECT ON opensvc.v_table_size TO readonly@127.0.0.1;
GRANT SELECT ON opensvc.v_comp_rulesets TO readonly@127.0.0.1;
GRANT SELECT ON opensvc.report_team_publication TO readonly@127.0.0.1;
GRANT SELECT ON opensvc.forms_team_publication TO readonly@127.0.0.1;
GRANT SELECT ON opensvc.v_lifecycle_os_name TO readonly@127.0.0.1;
GRANT SELECT ON opensvc.form_output_results TO readonly@127.0.0.1;
GRANT SELECT ON opensvc.comp_rulesets_nodes TO readonly@127.0.0.1;
GRANT SELECT ON opensvc.v_gen_filtersets TO readonly@127.0.0.1;
GRANT SELECT ON opensvc.gen_filtersets_filters TO readonly@127.0.0.1;
GRANT SELECT ON opensvc.docker_tags TO readonly@127.0.0.1;
GRANT SELECT ON opensvc.replication_status TO readonly@127.0.0.1;
GRANT SELECT ON opensvc.stor_array_dg_quota TO readonly@127.0.0.1;
GRANT SELECT ON opensvc.stats_compare TO readonly@127.0.0.1;
GRANT SELECT ON opensvc.stor_zone TO readonly@127.0.0.1;
GRANT SELECT ON opensvc.v_obsolescence TO readonly@127.0.0.1;
GRANT SELECT ON opensvc.tags TO readonly@127.0.0.1;
GRANT SELECT ON opensvc.filters TO readonly@127.0.0.1;
GRANT SELECT ON opensvc.comp_log_daily TO readonly@127.0.0.1;
GRANT SELECT ON opensvc.comp_run_ruleset TO readonly@127.0.0.1;
GRANT SELECT ON opensvc.v_resmon_log TO readonly@127.0.0.1;
GRANT SELECT ON opensvc.apps_import TO readonly@127.0.0.1;
GRANT SELECT ON opensvc.sysrep_secure TO readonly@127.0.0.1;
GRANT SELECT ON opensvc.apps_publications TO readonly@127.0.0.1;
GRANT SELECT ON opensvc.metrics TO readonly@127.0.0.1;
GRANT SELECT ON opensvc.table_modified TO readonly@127.0.0.1;
GRANT SELECT ON opensvc.comp_rulesets TO readonly@127.0.0.1;
GRANT SELECT ON opensvc.gen_filters TO readonly@127.0.0.1;
GRANT SELECT ON opensvc.dashboard_ref TO readonly@127.0.0.1;
GRANT SELECT ON opensvc.lifecycle_os TO readonly@127.0.0.1;
GRANT SELECT ON opensvc.u_inc TO readonly@127.0.0.1;
GRANT SELECT ON opensvc.v_svcmon TO readonly@127.0.0.1;
GRANT SELECT ON opensvc.group_hidden_menu_entries TO readonly@127.0.0.1;
GRANT SELECT ON opensvc.auth_membership TO readonly@127.0.0.1;
GRANT SELECT ON opensvc.services_log_last TO readonly@127.0.0.1;
GRANT SELECT ON opensvc.nodes TO readonly@127.0.0.1;
GRANT SELECT ON opensvc.apps_responsibles TO readonly@127.0.0.1;
GRANT SELECT ON opensvc.v_disk_quota TO readonly@127.0.0.1;
GRANT SELECT ON opensvc.svcdisks TO readonly@127.0.0.1;
GRANT SELECT ON opensvc.resinfo TO readonly@127.0.0.1;
GRANT SELECT ON opensvc.san_zone_alias TO readonly@127.0.0.1;
GRANT SELECT ON opensvc.chart_team_responsible TO readonly@127.0.0.1;
GRANT SELECT ON opensvc.v_tags TO readonly@127.0.0.1;
GRANT SELECT ON opensvc.dashboard TO readonly@127.0.0.1;
GRANT SELECT ON opensvc.reports_user TO readonly@127.0.0.1;
GRANT SELECT ON opensvc.comp_ruleset_team_publication TO readonly@127.0.0.1;
GRANT SELECT ON opensvc.v_comp_nodes TO readonly@127.0.0.1;
GRANT SELECT ON opensvc.workflows TO readonly@127.0.0.1;
GRANT SELECT ON opensvc.safe_team_responsible TO readonly@127.0.0.1;
GRANT SELECT ON opensvc.comp_modulesets_services TO readonly@127.0.0.1;
GRANT SELECT ON opensvc.switches TO readonly@127.0.0.1;
GRANT SELECT ON opensvc.comp_rulesets_services TO readonly@127.0.0.1;
GRANT SELECT ON opensvc.san_zone TO readonly@127.0.0.1;
GRANT SELECT ON opensvc.node_pw TO readonly@127.0.0.1;
GRANT SELECT ON opensvc.comp_moduleset_team_publication TO readonly@127.0.0.1;
GRANT SELECT ON opensvc.safe_team_publication TO readonly@127.0.0.1;
GRANT SELECT ON opensvc.alerts_sent TO readonly@127.0.0.1;
GRANT SELECT ON opensvc.dashboard_events TO readonly@127.0.0.1;
GRANT SELECT ON opensvc.b_apps_old TO readonly@127.0.0.1;
GRANT SELECT ON opensvc.v_users TO readonly@127.0.0.1;
GRANT SELECT ON opensvc.comp_rulesets_filtersets TO readonly@127.0.0.1;
GRANT SELECT ON opensvc.node_hw TO readonly@127.0.0.1;
GRANT SELECT ON opensvc.log TO readonly@127.0.0.1;
GRANT SELECT ON opensvc.svc_tags TO readonly@127.0.0.1;
GRANT SELECT ON opensvc.comp_rulesets_variables TO readonly@127.0.0.1;
GRANT SELECT ON opensvc.stats_compare_fset TO readonly@127.0.0.1;
GRANT SELECT ON opensvc.resmon_log TO readonly@127.0.0.1;
GRANT SELECT ON opensvc.comp_rulesets_chains TO readonly@127.0.0.1;
GRANT SELECT ON opensvc.node_groups TO readonly@127.0.0.1;
GRANT SELECT ON opensvc.v_action_queue TO readonly@127.0.0.1;
GRANT SELECT ON opensvc.networks TO readonly@127.0.0.1;
GRANT SELECT ON opensvc.v_disks_app TO readonly@127.0.0.1;
GRANT SELECT ON opensvc.metric_team_publication TO readonly@127.0.0.1;
GRANT SELECT ON opensvc.comp_moduleset_moduleset TO readonly@127.0.0.1;
GRANT SELECT ON opensvc.v_outdated_services TO readonly@127.0.0.1;
GRANT SELECT ON opensvc.docker_repositories TO readonly@127.0.0.1;
GRANT SELECT ON opensvc.packages TO readonly@127.0.0.1;
GRANT SELECT ON opensvc.diskinfo TO readonly@127.0.0.1;
GRANT SELECT ON opensvc.resmon_log_last TO readonly@127.0.0.1;
GRANT SELECT ON opensvc.feed_queue TO readonly@127.0.0.1;
GRANT SELECT ON opensvc.svcmon TO readonly@127.0.0.1;
GRANT SELECT ON opensvc.v_uids TO readonly@127.0.0.1;
GRANT SELECT ON opensvc.clusters TO readonly@127.0.0.1;
GRANT SELECT ON opensvc.comp_moduleset_team_responsible TO readonly@127.0.0.1;
GRANT SELECT ON opensvc.comp_moduleset_modules TO readonly@127.0.0.1;
GRANT SELECT ON opensvc.safe_log TO readonly@127.0.0.1;
GRANT SELECT ON opensvc.safe TO readonly@127.0.0.1;
GRANT SELECT ON opensvc.svcmon_log_last TO readonly@127.0.0.1;
GRANT SELECT ON opensvc.v_switches TO readonly@127.0.0.1;
GRANT SELECT ON opensvc.v_gen_filterset_teams_responsible TO readonly@127.0.0.1;
GRANT SELECT ON opensvc.comp_rulesets_rulesets TO readonly@127.0.0.1;
GRANT SELECT ON opensvc.comp_node_status TO readonly@127.0.0.1;
GRANT SELECT ON opensvc.auth_permission TO readonly@127.0.0.1;
GRANT SELECT ON opensvc.services_log TO readonly@127.0.0.1;
GRANT SELECT ON opensvc.action_queue TO readonly@127.0.0.1;
GRANT SELECT ON opensvc.scheduler_run TO readonly@127.0.0.1;
grant all privileges on opensvc.* to opensvc@127.0.0.1;
grant all privileges on pdns.* to pdns@127.0.0.1;
flush privileges;
